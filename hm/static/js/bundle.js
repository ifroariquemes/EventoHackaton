/*! jQuery v3.2.1 | (c) JS Foundation and other contributors | jquery.org/license */

// Copyright (c)2015 Jan MÃ¼hlemann (jamuhl).

// Distributed under MIT license

/*!
 * Bootstrap v3.0.0 by @fat and @mdo
 * Copyright 2013 Twitter, Inc.
 * Licensed under http://www.apache.org/licenses/LICENSE-2.0
 *
 * Designed and built with all the love in the world by @mdo and @fat.
 */

/* ========================================================================
 * Bootstrap: transition.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#transitions
 * ========================================================================
 * Copyright 2013 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: alert.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#alerts
 * ========================================================================
 * Copyright 2013 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: button.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#buttons
 * ========================================================================
 * Copyright 2013 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: carousel.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#carousel
 * ========================================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: collapse.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#collapse
 * ========================================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: dropdown.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#dropdowns
 * ========================================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: modal.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#modals
 * ========================================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: tooltip.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: popover.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#popovers
 * ========================================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: scrollspy.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#scrollspy
 * ========================================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: tab.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#tabs
 * ========================================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: affix.js v3.0.0
 * http://twbs.github.com/bootstrap/javascript.html#affix
 * ========================================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

/*! Summernote v0.8.3 | (c) 2013-2015 Alan Hong and other contributors | MIT license */

/*
CryptoJS v3.1.2
code.google.com/p/crypto-js
(c) 2009-2013 by Jeff Mott. All rights reserved.
code.google.com/p/crypto-js/wiki/License
*/

function TMyCookieJS(){var e=this,t=!1,n=!1,r=new TMyCookieJSErrors;this.mountURL=function(t,n){return String.format("{0}{1}/{2}",e.getSite(),t,n?"":"?async")},this.getSite=function(){return MYCOOKIEJS_BASEURL},this.getUserLang=function(){return lngComp=navigator.language.split("-"),lngComp[0]},this.showStaticPopup=function(n,r,s,o){var u,a,f,l,c,h,p;return t=!0,h=$(".modal.in").attr("id"),typeof h=="string"&&h!==""&&e.closePopup(h,t),$(String.format("#{0}",n)).remove(),f=document.createElement("div"),$(f).addClass("modal-content").append(r),a=document.createElement("div"),$(a).addClass("modal-dialog").append(f),l=document.createElement("div"),$(l).addClass("hidden").addClass("idPopupAnterior").append(h),u=document.createElement("div"),$(u).addClass("modal").addClass("fade").attr("role","modal").attr("tab-index","-1").attr("id",n).append(a).append(l).on("shown.bs.modal",function(){typeof s=="function"&&s()}).on("hidden.bs.modal",function(){typeof o=="function"&&o(),i($(this).attr("id"))}),$("body").append(u),$(u).modal({backdrop:"static",keyboard:!1,show:!0}),!0},this.showDynamicPopup=function(t,n,r,i){i=typeof i!="string"?"POST":i,e.showWaitMessage(),setTimeout(function(){$.ajax({async:!0,type:i,url:e.mountURL(n,!1),data:r,success:function(i){e.closeWaitMessage(),e.showStaticPopup(t,i),$(String.format("#{0}",t)).attr("data-action",n).attr("data-data",r).i18n()}})},500)},this.refreshPopup=function(e){e=String.format("#{0}",e),$(e).children(".modal-content").html(MyCookieJS.execute($(e).attr("data-action"),$(e).attr("data-data")))},this.execute=function(t,n,i,s,o){var u;try{if(t===null)throw 1;return i=typeof i=="boolean"?i:!1,o=typeof o=="string"?o:"POST",$.ajax({async:i,type:o,url:e.mountURL(t,!1),data:n,success:function(e){u=e,typeof s=="function"&&s(u)}}),u}catch(a){return console.log(a),r.Handle(a),!1}},this.closePopup=function(e,n){t=typeof n=="boolean"?n:!1,e=typeof e=="string"?e:$(".modal.in").attr("id"),typeof e!="undefined"&&(idPopup=String.format("#{0}",e),$(idPopup).modal("hide"))},this.closeAllPopups=function(){$(".modal").modal("hide"),$(".modal-backdrop").remove()},this.gotoPopup=function(n,r){e.closePopup(null,!0),fShown=typeof r=="function"?r:function(e){},setTimeout(function(){t=!1,$(String.format("#{0}",n)).on("shown.bs.modal",function(e){fShown(e),$(String.format("#{0}",n)).unbind("shown.bs.modal")}).modal("show")},700)};var i=function(e){if(!t){var n,r,i;n="#"+e,r=$(n).children(".idPopupAnterior").html(),i="#"+r,r!==""?$(i).modal("show"):$(".modal.in").attr("id")==null&&$(".modal-backdrop").remove()}else t=!1};this.goto=function(t){try{if(t===null)throw 3;location.href=e.mountURL(t,!0)}catch(n){return r.Handle(n),!1}},this.showWaitMessage=function(t){t=typeof t=="string"?t:"Obtendo dados do servidor...",e.showStaticPopup("aguarde-box",String.format('<div class="modal-header"><h4 class="modal-title">Aguarde <img src="{0}{1}" title="carregando" alt="carregando"></h4></div><div class="modal-body"><p>{2}</p></div>',e.getSite(),"images/loading1.gif",t))},this.closeWaitMessage=function(){$("#aguarde-box").remove()},this.maskUpper=function(e){$(e).bind("keyup",function(e){$(this).val($(this).val().toUpperCase())})},this.maskCEP=function(e){$(e).bind("keyup",function(e){var t=$(this).val();t=t.replace(/D/g,""),t=t.replace(/^(\d{5})(\d)/,"$1-$2"),$(this).val(t)})},this.maskCNPJ=function(e){$(e).bind("keyup",function(e){var t=$(this).val();t=t.replace(/\D/g,""),t=t.replace(/^(\d{2})(\d)/,"$1.$2"),t=t.replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3"),t=t.replace(/\.(\d{3})(\d)/,".$1/$2"),t=t.replace(/(\d{4})(\d)/,"$1-$2"),$(this).val(t)})},this.maskCPF=function(e){$(e).bind("keyup",function(e){var t=$(this).val();t=t.replace(/\D/g,""),t=t.replace(/(\d{3})(\d)/,"$1.$2"),t=t.replace(/(\d{3})(\d)/,"$1.$2"),t=t.replace(/(\d{3})(\d{1,2})$/,"$1-$2"),$(this).val(t)})},this.maskDate_ptBR=function(e){$(e).bind("keyup",function(e){var t=$(this).val();t=t.replace(/\D/g,""),t=t.replace(/(\d{2})(\d)/,"$1/$2"),t=t.replace(/(\d{2})(\d)/,"$1/$2"),$(this).val(t)})},this.maskTime=function(e){$(e).bind("keyup",function(e){var t=$(this).val();t=t.replace(/\D/g,""),t=t.replace(/(\d{2})(\d)/,"$1:$2"),$(this).val(t)})},this.maskMoney_ptBR=function(e){$(e).bind("keypress",function(e){var t=this,n=".",r=",",i=j=len=len2=0,s="0123456789",o,u=aux2="",a=window.Event?e.which:e.keyCode;if(a==13)return!0;o=String.fromCharCode(a),len=t.value.length;for(i=0;i<len;i++)if(t.value.charAt(i)!="0"&&t.value.charAt(i)!=r)break;u="";for(;i<len;i++)s.indexOf(t.value.charAt(i))!=-1&&(u+=t.value.charAt(i));s.indexOf(o)!=-1&&(u+=o),len=u.length,len==0&&(t.value=""),len==1&&(t.value="0"+r+"0"+u),len==2&&(t.value="0"+r+u);if(len>2){aux2="";for(j=0,i=len-3;i>=0;i--)j==3&&(aux2+=n,j=0),aux2+=u.charAt(i),j++;t.value="",len2=aux2.length;for(i=len2-1;i>=0;i--)t.value+=aux2.charAt(i);t.value+=r+u.substr(len-2,len)}return!1}),$(e).keypress()},this.maskPhone=function(e){$(e).bind("keyup",function(e){var t=$(this).val();t=t.replace(/\D/g,""),t=t.replace(/^(\d\d)(\d)/g,"($1) $2"),t=t.replace(/(\d{4})(\d)/,"$1-$2"),$(this).val(t)})},this.maskURL=function(e){$(e).bind("keyup",function(e){var t=$(this).val();t=t.replace(/^http:\/\/?/,""),dominio=t,caminho="",t.indexOf("/")>-1&&(dominio=t.split("/")[0]),caminho=t.replace(/[^\/]*/,""),dominio=dominio.replace(/[^\w\.\+-:@]/g,""),caminho=caminho.replace(/[^\w\d\+-@:\?&=%\(\)\.]/g,""),caminho=caminho.replace(/([\?&])=/,"$1"),caminho!=""&&(dominio=dominio.replace(/\.+$/,"")),t="http://"+dominio+caminho,$(this).val(t)})},this.getConfirmResult=function(){return n},this.confirm=function(e,t,r,i){var s,o,u,a,f,l,c,h,p,d,v=$.i18n.t("mycookie:window.confirmation");i=typeof i=="boolean"?i:!0,u=document.createElement("h4"),$(u).append(v),o=document.createElement("div"),$(o).addClass("modal-header").append(u),f=document.createElement("p"),$(f).css("text-align","justify"),$(f).append(e),a=document.createElement("div"),$(a).addClass("modal-body").append(f),c=document.createElement("i"),$(c).addClass("fa").addClass("fa-thumbs-up"),h=document.createElement("button"),$(h).addClass("btn btn-success").append(c).append(" "+$.i18n.t("mycookie:button.yes")).click(function(){n=!0,typeof t=="function"&&t(),i&&(MyCookieJS.closePopup("ConfirmBS"),setTimeout(function(){$("#ConfirmBS").remove()},500))}),p=document.createElement("i"),$(p).addClass("fa").addClass("fa-thumbs-down"),d=document.createElement("button"),$(d).addClass("btn btn-danger").append(p).append(" "+$.i18n.t("mycookie:button.no")).click(function(){n=!1,typeof r=="function"&&r(),i&&(MyCookieJS.closePopup("ConfirmBS"),setTimeout(function(){$("#ConfirmBS").remove()},500))}),l=document.createElement("div"),$(l).addClass("modal-footer").css("text-align","center").append(h).append(d),s=document.createElement("div"),$(s).append(o).append(a).append(l),MyCookieJS.showStaticPopup("ConfirmBS",s,function(){$(h).focus()})},this.alert=function(e,t){var n,r,i,s,o,u,a;title=$.i18n.t("mycookie:window.alert"),i=document.createElement("h4"),$(i).append(title),r=document.createElement("div"),$(r).addClass("modal-header").append(i),o=document.createElement("p"),$(o).css("text-align","justify").append(e),s=document.createElement("div"),$(s).addClass("modal-body").append(o),a=document.createElement("button"),$(a).addClass("btn btn-primary").append("OK");switch(typeof t){case"boolean":$(a).click(function(){MyCookieJS.closeAllPopups()});break;case"string":$(a).click(function(){MyCookieJS.gotoPopup(t)});break;case"function":$(a).click(t);break;default:$(a).click(function(){MyCookieJS.closePopup("AlertBS")})}u=document.createElement("div"),$(u).addClass("modal-footer").css("text-align","center").append(a),n=document.createElement("div"),$(n).append(r).append(s).append(u),MyCookieJS.showStaticPopup("AlertBS",n,function(){$(a).focus()})}}function TMyCookieJSErrors(){this.Handle=function(e){switch(e){case 1:alert("ERR-JS-001: Erro na parametrizaÃ§Ã£o de TMyCookieJS.ExecutarAcao");break;case 2:alert("ERR-JS-002: Erro na parametrizaÃ§Ã£o de TMyCookieJS.AbrirPopup")}}}function Accreditation(){this.confirm=function(e){e.preventDefault(),$("input:checked").length<1?MyCookieJS.alert($.i18n.t("event:accreditation.message.at_least")):(MyCookieJS.showWaitMessage(),MyCookieJS.execute("event/accreditation/confirm",$("#FrmRegister").serialize(),!0,function(){MyCookieJS.alert($.i18n.t("event:accreditation.message.confirmed"),function(){MyCookieJS.goto("administrator/event/accreditation/participants/"+$("#eventId").val())})}))},this.override=function(e){e.preventDefault(),$("input:checked").length<1?MyCookieJS.alert($.i18n.t("event:accreditation.message.at_least")):(MyCookieJS.showWaitMessage(),MyCookieJS.execute("event/accreditation/confirmOverride",$("#FrmRegister").serialize(),!0,function(){MyCookieJS.alert($.i18n.t("event:accreditation.message.confirmed"),function(){MyCookieJS.goto("administrator/event/accreditation/participants/"+$("#eventId").val())})}))}}function Activity(){var e=this;this.submit=function(e){e.preventDefault(),$("#activityEditId").val()>0?MyCookieJS.execute("event/activity/updateLine",$("#FrmActivityEdit, #FrmSpk, #FrmSes").serialize(),!0,function(e){$(String.format("#lstActivities tr[data-id={0}]",$("#activityEditId").val())).replaceWith(e)}):$("#activityEditSession").val()=="true"?MyCookieJS.execute("event/activity/updateLine",$("#FrmActivityEdit, #FrmSpk, #FrmSes").serialize(),!0,function(e){$(String.format("#lstActivities tr[data-id={0}]",$("#activityEditAct").val())).replaceWith(e)}):MyCookieJS.execute("event/activity/createLine",$("#FrmActivityEdit, #FrmSpk, #FrmSes").serialize(),!0,function(e){$("#lstActivities").prepend(e)}),MyCookieJS.closeAllPopups()},this.add=function(){MyCookieJS.showDynamicPopup("mdActivityEdit","event/activity/add")},this.edit=function(e,t){MyCookieJS.showDynamicPopup("mdActivityEdit","ajax/activity",String.format("id={0}&onSession={1}",e,t))},this.addSpeaker=function(e){e.preventDefault(),MyCookieJS.execute("event/activity/createSpeakerLine",$("#FrmSpk").serialize(),!0,function(e){$("#lstSpeakers").prepend(e),$("#spkName").val("").focus()})},this.addSession=function(e){e.preventDefault(),$("#FrmSes")[0].checkValidity()&&MyCookieJS.execute("event/activity/createSessionLine",$("#FrmSes").serialize(),!0,function(e){$("#lstSessions").prepend(e),$("#FrmSes")[0].reset(),$("#sesDate").focus()})},this.refreshTypes=function(){MyCookieJS.execute("event/activity/type/select",null,!0,function(e){$("#typeSelectView").html(e).i18n()})}}function ActivityType(){this.manage=function(e){e.preventDefault(),MyCookieJS.showDynamicPopup("mdTypeManage","event/activity/type/manage")},this.close=function(){activity.refreshTypes(),MyCookieJS.gotoPopup("mdActivityEdit")},this.add=function(){MyCookieJS.showDynamicPopup("mdTypeEdit","event/activity/type/add")},this.edit=function(e){MyCookieJS.showDynamicPopup("mdTypeEdit","event/activity/type/edit",String.format("id={0}",e))},this.submit=function(e){e.preventDefault(),MyCookieJS.execute("event/activity/type/save",$("#FrmTypeEdit").serialize(),!0,function(){MyCookieJS.showDynamicPopup("mdTypeManage","event/activity/type/manage")})},this.delete=function(e){MyCookieJS.confirm($.i18n.t("event:activity.type.message.delete"),function(){MyCookieJS.execute("event/activity/type/delete",String.format("id={0}",e)),MyCookieJS.alert($.i18n.t("event:activity.type.message.deleted"),function(){MyCookieJS.showDynamicPopup("mdTypeManage","event/activity/type/manage")})},null,!1)},this.addTranslation=function(){if($("#transName").val()!==""&&$("#transLang").val()!==""){var t=String.format("Name={0}&Lang={1}",$("#transName").val(),$("#transLang").val());MyCookieJS.execute("event/activity/type/createTranslationLine",t,!0,e)}};var e=function(e){$("#lstTranslations").prepend(e),$("#transName").val("").focus(),$("#transLang").val("")}}function Event(){var e=this;this.delete=function(e){e.preventDefault(),MyCookieJS.confirm($.i18n.t("event:message.delete"),function(){MyCookieJS.showWaitMessage(),MyCookieJS.execute("event/delete",$("#FrmEventEdit").serialize(),!0,function(e){MyCookieJS.alert($.i18n.t("event:message.deleted"),function(){MyCookieJS.goto("administrator/event")})})})},this.submitEvent=function(e){e.preventDefault(),$('#FrmEventEdit input[type="submit"]').click()},this.next=function(e){e.preventDefault(),$("#lbEventName").html($("#textName").val()),$("#scr-1").slideUp(400,function(){$("#scr-2").slideDown()}),$(".scr-1").addClass("hidden"),$(".scr-2").removeClass("hidden")},this.previous=function(e){e.preventDefault(),$("#scr-2").slideUp(400,function(){$("#scr-1").slideDown()}),$(".scr-2").addClass("hidden"),$(".scr-1").removeClass("hidden")},this.submit=function(e){e.preventDefault(),MyCookieJS.execute("event/save",String.format("{0}&{1}",$("#FrmEventEdit").serialize(),$("#FrmActivities").serialize()),!1,function(e){MyCookieJS.alert($.i18n.t("event:message.success"),function(){MyCookieJS.goto("administrator/event")})})},this.register=function(e){e.preventDefault(),$("input:checked").length<1?MyCookieJS.alert($.i18n.t("event:register.message.at_least")):(MyCookieJS.showWaitMessage(),MyCookieJS.execute("event/saveRegister",$("#FrmRegister").serialize(),!0,function(e){e!=""?MyCookieJS.alert(e,function(){MyCookieJS.closeAllPopups(),MyCookieJS.closeWaitMessage()}):MyCookieJS.alert($.i18n.t("event:register.message.registred"),function(){MyCookieJS.goto("event")})}))},this.deleteRegistration=function(e){e.preventDefault(),MyCookieJS.confirm($.i18n.t("event:register.message.delete"),function(){MyCookieJS.showWaitMessage(),MyCookieJS.execute("event/deleteRegistration",$("#FrmEventInfo").serialize(),!0,function(){MyCookieJS.alert($.i18n.t("event:register.message.deleted"),function(){MyCookieJS.goto("administrator/event")})})})},this.actDisable=function(e){$(e).each(function(){$('input[type="checkbox"][value="'+this+'"]').attr("disabled",!0),$(".act_"+this).css("background","#ddd").css("color","gray")})},this.actEnable=function(t){$(t).each(function(){$('input[type="checkbox"][value="'+this+'"]').attr("disabled",!1),$(".act_"+this).css("background","inherit").css("color","inherit")}),e.updateDisable()},this.updateDisable=function(){$('input[type="checkbox"]').each(function(){$(this).is(":checked")&&(e.actDisable($.parseJSON($(this).attr("data-disable"))),$("."+$(this).attr("id")).css("background","#5cb85c").css("color","white"))})},this.setEventToPrint=function(e,t){$("#certEventId").val(e),$("#certEventType").val(t),t=="normal"?$("#cert-speakers").hide():$("#cert-speakers").show()},this.printCertificates=function(){MyCookieJS.showWaitMessage("Gerando certificados..."),eventURL=$("#certEventType").val()=="normal"?"event/printCertificates":"event/printSpeakerCertificates",MyCookieJS.execute(eventURL,$("#FrmPrintCert").serialize(),!0,function(e){MyCookieJS.alert(e,function(){MyCookieJS.closeAllPopups(),MyCookieJS.closeWaitMessage()})})}}function Frequency(){this.check=function(e){$(e).is(":checked")?MyCookieJS.execute("event/frequency/check",String.format("participant={0}&activity={1}",e.value,$("#actId").val())):MyCookieJS.execute("event/frequency/uncheck",String.format("participant={0}&activity={1}",e.value,$("#actId").val()))}}function Organization(){var e=this;this.clear=function(e){e.preventDefault(),$("#lstData").show(),$("#lstSearch, #searchClean").hide(),$("#textName").focus()},this.search=function(e){e.preventDefault(),$("#searchTerm").html($("#textName").val());var t=MyCookieJS.execute("organization/search",$("#FrmSearch").serialize(),!1);$("#lstData").hide(),$("#lstSearch, #searchClean").show(),$("#lstSearchData").html(t),$("#FrmSearch")[0].reset()},this.delete=function(e){e.preventDefault(),MyCookieJS.confirm(MyCookieJS.execute("organization/deleteMsg"),function(){var e=MyCookieJS.execute("organization/delete",$("#FrmEdit").serialize(),!1);MyCookieJS.alert(e,function(){MyCookieJS.goto("administrator/organization")})})},this.submit=function(e){e.preventDefault();var t=MyCookieJS.execute("organization/save",$("#FrmEdit").serialize(),!1);MyCookieJS.alert($.i18n.t("event:organization.message.saved"),function(){MyCookieJS.goto("administrator/organization/manage")})},this.manage=function(e){e.preventDefault(),MyCookieJS.showWaitMessage(),MyCookieJS.showDynamicPopup("mdOrganization","organization/manage")}}function User(){var e=this;this.event_onChangePassword=function(){$("#textNewPassword").val()!==$("#textPasswordRepeat").val()?document.getElementById("textPasswordRepeat").setCustomValidity($.i18n.t("user:message.not_match_pwd")):document.getElementById("textPasswordRepeat").setCustomValidity("")},this.event_onBlurActualPassword=function(){var e=MyCookieJS.execute("user/checkActualPassword",$("#FrmEditPassword").serialize(),!1);e==="false"?document.getElementById("textActualPassword").setCustomValidity($.i18n.t("user:message.incorrect_pwd")):document.getElementById("textActualPassword").setCustomValidity("")},this.deactivate=function(e){e.preventDefault();var t=MyCookieJS.execute("user/deactivate",$("#FrmEdit").serialize(),!1);t!==""?alert(t):MyCookieJS.alert($.i18n.t("user:message.user_deactivated"),function(){MyCookieJS.goto("administrator/user")})},this.reactivate=function(e){e.preventDefault();var t=MyCookieJS.execute("user/reactivate",$("#FrmEdit").serialize(),!1);t!==""?alert(t):MyCookieJS.alert($.i18n.t("user:message.user_reactivated"),function(){MyCookieJS.goto("administrator/user")})},this.changePassword=function(e){e.preventDefault();var t=MyCookieJS.execute("user/changePassword",$("#FrmEditPassword").serialize(),!1);t!==""?alert(t):MyCookieJS.alert($.i18n.t("user:message.pwd_chagend"),function(){MyCookieJS.goto("administrator/user")})},this.delete=function(e){e.preventDefault(),MyCookieJS.confirm($.i18n.t("user:message.question_delete"),function(){var e=MyCookieJS.execute("user/delete",$("#FrmEdit").serialize(),!1);e!==""?alert(e):MyCookieJS.alert($.i18n.t("user:message.user_deleted"),function(){MyCookieJS.goto("administrator/user")})})},this.submit=function(e){e.preventDefault(),$("#FrmEdit input, #FrmEdit select").attr("disabled",!1);var t=MyCookieJS.execute("user/save",$("#FrmEdit").serialize(),!1);t!==""?alert(t):MyCookieJS.alert($.i18n.t("user:message.user_saved"),function(){MyCookieJS.goto("administrator/user")})},this.savePublic=function(e){e.preventDefault();var t=MyCookieJS.execute("user/savePublic",$("#FrmEdit").serialize(),!1);MyCookieJS.alert(t)},this.resend=function(e){e.preventDefault(),MyCookieJS.showWaitMessage(),MyCookieJS.execute("user/resend",$("#FrmResend").serialize(),!0,function(e){MyCookieJS.alert(e,function(){MyCookieJS.closeWaitMessage(),MyCookieJS.closeAllPopups(),$("#FrmResend")[0].reset()})})},this.forgot=function(e){e.preventDefault(),MyCookieJS.showWaitMessage(),MyCookieJS.execute("user/forgot",$("#FrmForgot").serialize(),!0,function(e){MyCookieJS.alert(e,function(){MyCookieJS.closeWaitMessage(),MyCookieJS.closeAllPopups(),$("#FrmForgot")[0].reset()})})},this.reset=function(e,t){e.preventDefault(),MyCookieJS.showWaitMessage(),MyCookieJS.execute("user/reset",$("#FrmReset").serialize(),!0,function(e){MyCookieJS.alert(e,function(){location.href=t})})}}!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function v(e,t){t=t||r;var n=t.createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function S(e){var t=!!e&&"length"in e&&e.length,n=g.type(e);return"function"!==n&&!g.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function k(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function O(e,t,n){return g.isFunction(t)?g.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?g.grep(e,function(e){return e===t!==n}):"string"!=typeof t?g.grep(e,function(e){return a.call(t,e)>-1!==n}):A.test(t)?g.filter(t,e,n):(t=g.filter(t,e),g.grep(e,function(e){return a.call(t,e)>-1!==n&&1===e.nodeType}))}function B(e,t){while((e=e[t])&&1!==e.nodeType);return e}function F(e){var t={};return g.each(e.match(j)||[],function(e,n){t[n]=!0}),t}function I(e){return e}function q(e){throw e}function R(e,t,n,r){var i;try{e&&g.isFunction(i=e.promise)?i.call(e).done(t).fail(n):e&&g.isFunction(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}function W(){r.removeEventListener("DOMContentLoaded",W),e.removeEventListener("load",W),g.ready()}function $(){this.expando=g.expando+$.uid++}function Y(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Q.test(e)?JSON.parse(e):e)}function Z(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(G,"-$&").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n=Y(n)}catch(i){}K.set(e,t,n)}else n=void 0;return n}function st(e,t,n,r){var i,s=1,o=20,u=r?function(){return r.cur()}:function(){return g.css(e,t,"")},a=u(),f=n&&n[3]||(g.cssNumber[t]?"":"px"),l=(g.cssNumber[t]||"px"!==f&&+a)&&tt.exec(g.css(e,t));if(l&&l[3]!==f){f=f||l[3],n=n||[],l=+a||1;do s=s||".5",l/=s,g.style(e,t,l+f);while(s!==(s=u()/a)&&1!==s&&--o)}return n&&(l=+l||+a||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=f,r.start=l,r.end=i)),i}function ut(e){var t,n=e.ownerDocument,r=e.nodeName,i=ot[r];return i?i:(t=n.body.appendChild(n.createElement(r)),i=g.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),ot[r]=i,i)}function at(e,t){for(var n,r,i=[],s=0,o=e.length;s<o;s++)r=e[s],r.style&&(n=r.style.display,t?("none"===n&&(i[s]=J.get(r,"display")||null,i[s]||(r.style.display="")),""===r.style.display&&rt(r)&&(i[s]=ut(r))):"none"!==n&&(i[s]="none",J.set(r,"display",n)));for(s=0;s<o;s++)null!=i[s]&&(e[s].style.display=i[s]);return e}function pt(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&k(e,t)?g.merge([e],n):n}function dt(e,t){for(var n=0,r=e.length;n<r;n++)J.set(e[n],"globalEval",!t||J.get(t[n],"globalEval"))}function mt(e,t,n,r,i){for(var s,o,u,a,f,l,c=t.createDocumentFragment(),h=[],p=0,d=e.length;p<d;p++)if(s=e[p],s||0===s)if("object"===g.type(s))g.merge(h,s.nodeType?[s]:s);else if(vt.test(s)){o=o||c.appendChild(t.createElement("div")),u=(lt.exec(s)||["",""])[1].toLowerCase(),a=ht[u]||ht._default,o.innerHTML=a[1]+g.htmlPrefilter(s)+a[2],l=a[0];while(l--)o=o.lastChild;g.merge(h,o.childNodes),o=c.firstChild,o.textContent=""}else h.push(t.createTextNode(s));c.textContent="",p=0;while(s=h[p++])if(r&&g.inArray(s,r)>-1)i&&i.push(s);else if(f=g.contains(s.ownerDocument,s),o=pt(c.appendChild(s),"script"),f&&dt(o),n){l=0;while(s=o[l++])ct.test(s.type||"")&&n.push(s)}return c}function Et(){return!0}function St(){return!1}function xt(){try{return r.activeElement}catch(e){}}function Tt(e,t,n,r,i,s){var o,u;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(u in t)Tt(e,u,n,r,t[u],s);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),i===!1)i=St;else if(!i)return e;return 1===s&&(o=i,i=function(e){return g().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=g.guid++)),e.each(function(){g.event.add(this,t,i,r,n)})}function Ot(e,t){return k(e,"table")&&k(11!==t.nodeType?t:t.firstChild,"tr")?g(">tbody",e)[0]||e:e}function Mt(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function _t(e){var t=Lt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Dt(e,t){var n,r,i,s,o,u,a,f;if(1===t.nodeType){if(J.hasData(e)&&(s=J.access(e),o=J.set(t,s),f=s.events)){delete o.handle,o.events={};for(i in f)for(n=0,r=f[i].length;n<r;n++)g.event.add(t,i,f[i][n])}K.hasData(e)&&(u=K.access(e),a=g.extend({},u),K.set(t,a))}}function Pt(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ft.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Ht(e,t,n,r){t=o.apply([],t);var i,s,u,a,f,l,c=0,h=e.length,p=h-1,m=t[0],y=g.isFunction(m);if(y||h>1&&"string"==typeof m&&!d.checkClone&&kt.test(m))return e.each(function(i){var s=e.eq(i);y&&(t[0]=m.call(this,i,s.html())),Ht(s,t,n,r)});if(h&&(i=mt(t,e[0].ownerDocument,!1,e,r),s=i.firstChild,1===i.childNodes.length&&(i=s),s||r)){for(u=g.map(pt(i,"script"),Mt),a=u.length;c<h;c++)f=i,c!==p&&(f=g.clone(f,!0,!0),a&&g.merge(u,pt(f,"script"))),n.call(e[c],f,c);if(a)for(l=u[u.length-1].ownerDocument,g.map(u,_t),c=0;c<a;c++)f=u[c],ct.test(f.type||"")&&!J.access(f,"globalEval")&&g.contains(l,f)&&(f.src?g._evalUrl&&g._evalUrl(f.src):v(f.textContent.replace(At,""),l))}return e}function Bt(e,t,n){for(var r,i=t?g.filter(t,e):e,s=0;null!=(r=i[s]);s++)n||1!==r.nodeType||g.cleanData(pt(r)),r.parentNode&&(n&&g.contains(r.ownerDocument,r)&&dt(pt(r,"script")),r.parentNode.removeChild(r));return e}function qt(e,t,n){var r,i,s,o,u=e.style;return n=n||It(e),n&&(o=n.getPropertyValue(t)||n[t],""!==o||g.contains(e.ownerDocument,e)||(o=g.style(e,t)),!d.pixelMarginRight()&&Ft.test(o)&&jt.test(t)&&(r=u.width,i=u.minWidth,s=u.maxWidth,u.minWidth=u.maxWidth=u.width=o,o=n.width,u.width=r,u.minWidth=i,u.maxWidth=s)),void 0!==o?o+"":o}function Rt(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function Jt(e){if(e in $t)return e;var t=e[0].toUpperCase()+e.slice(1),n=Vt.length;while(n--)if(e=Vt[n]+t,e in $t)return e}function Kt(e){var t=g.cssProps[e];return t||(t=g.cssProps[e]=Jt(e)||e),t}function Qt(e,t,n){var r=tt.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Gt(e,t,n,r,i){var s,o=0;for(s=n===(r?"border":"content")?4:"width"===t?1:0;s<4;s+=2)"margin"===n&&(o+=g.css(e,n+nt[s],!0,i)),r?("content"===n&&(o-=g.css(e,"padding"+nt[s],!0,i)),"margin"!==n&&(o-=g.css(e,"border"+nt[s]+"Width",!0,i))):(o+=g.css(e,"padding"+nt[s],!0,i),"padding"!==n&&(o+=g.css(e,"border"+nt[s]+"Width",!0,i)));return o}function Yt(e,t,n){var r,i=It(e),s=qt(e,t,i),o="border-box"===g.css(e,"boxSizing",!1,i);return Ft.test(s)?s:(r=o&&(d.boxSizingReliable()||s===e.style[t]),"auto"===s&&(s=e["offset"+t[0].toUpperCase()+t.slice(1)]),s=parseFloat(s)||0,s+Gt(e,t,n||(o?"border":"content"),r,i)+"px")}function Zt(e,t,n,r,i){return new Zt.prototype.init(e,t,n,r,i)}function sn(){tn&&(r.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(sn):e.setTimeout(sn,g.fx.interval),g.fx.tick())}function on(){return e.setTimeout(function(){en=void 0}),en=g.now()}function un(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)n=nt[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function an(e,t,n){for(var r,i=(cn.tweeners[t]||[]).concat(cn.tweeners["*"]),s=0,o=i.length;s<o;s++)if(r=i[s].call(n,t,e))return r}function fn(e,t,n){var r,i,s,o,u,a,f,l,c="width"in t||"height"in t,h=this,p={},d=e.style,v=e.nodeType&&rt(e),m=J.get(e,"fxshow");n.queue||(o=g._queueHooks(e,"fx"),null==o.unqueued&&(o.unqueued=0,u=o.empty.fire,o.empty.fire=function(){o.unqueued||u()}),o.unqueued++,h.always(function(){h.always(function(){o.unqueued--,g.queue(e,"fx").length||o.empty.fire()})}));for(r in t)if(i=t[r],nn.test(i)){if(delete t[r],s=s||"toggle"===i,i===(v?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;v=!0}p[r]=m&&m[r]||g.style(e,r)}if(a=!g.isEmptyObject(t),a||!g.isEmptyObject(p)){c&&1===e.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],f=m&&m.display,null==f&&(f=J.get(e,"display")),l=g.css(e,"display"),"none"===l&&(f?l=f:(at([e],!0),f=e.style.display||f,l=g.css(e,"display"),at([e]))),("inline"===l||"inline-block"===l&&null!=f)&&"none"===g.css(e,"float")&&(a||(h.done(function(){d.display=f}),null==f&&(l=d.display,f="none"===l?"":l)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",h.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),a=!1;for(r in p)a||(m?"hidden"in m&&(v=m.hidden):m=J.access(e,"fxshow",{display:f}),s&&(m.hidden=!v),v&&at([e],!0),h.done(function(){v||at([e]),J.remove(e,"fxshow");for(r in p)g.style(e,r,p[r])})),a=an(v?m[r]:0,r,h),r in m||(m[r]=a.start,v&&(a.end=a.start,a.start=0))}}function ln(e,t){var n,r,i,s,o;for(n in e)if(r=g.camelCase(n),i=t[r],s=e[n],Array.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=g.cssHooks[r],o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}function cn(e,t,n){var r,i,s=0,o=cn.prefilters.length,u=g.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;for(var t=en||on(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;o<a;o++)f.tweens[o].run(s);return u.notifyWith(e,[f,s,n]),s<1&&a?n:(a||u.notifyWith(e,[f,1,0]),u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:g.extend({},t),opts:g.extend(!0,{specialEasing:{},easing:g.easing._default},n),originalProperties:t,originalOptions:n,startTime:en||on(),duration:n.duration,tweens:[],createTween:function(t,n){var r=g.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)f.tweens[n].run(1);return t?(u.notifyWith(e,[f,1,0]),u.resolveWith(e,[f,t])):u.rejectWith(e,[f,t]),this}}),l=f.props;for(ln(l,f.opts.specialEasing);s<o;s++)if(r=cn.prefilters[s].call(f,e,l,f.opts))return g.isFunction(r.stop)&&(g._queueHooks(f.elem,f.opts.queue).stop=g.proxy(r.stop,r)),r;return g.map(l,an,f),g.isFunction(f.opts.start)&&f.opts.start.call(e,f),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always),g.fx.timer(g.extend(a,{elem:e,anim:f,queue:f.opts.queue})),f}function mn(e){var t=e.match(j)||[];return t.join(" ")}function gn(e){return e.getAttribute&&e.getAttribute("class")||""}function kn(e,t,n,r){var i;if(Array.isArray(t))g.each(t,function(t,i){n||xn.test(e)?r(e,i):kn(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==g.type(t))r(e,t);else for(i in t)kn(e+"["+i+"]",t[i],n,r)}function In(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(j)||[];if(g.isFunction(n))while(r=s[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function qn(e,t,n,r){function o(u){var a;return i[u]=!0,g.each(e[u]||[],function(e,u){var f=u(t,n,r);return"string"!=typeof f||s||i[f]?s?!(a=f):void 0:(t.dataTypes.unshift(f),o(f),!1)}),a}var i={},s=e===Bn;return o(t.dataTypes[0])||!i["*"]&&o("*")}function Rn(e,t){var n,r,i=g.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&g.extend(!0,e,r),e}function Un(e,t,n){var r,i,s,o,u=e.contents,a=e.dataTypes;while("*"===a[0])a.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in u)if(u[i]&&u[i].test(r)){a.unshift(i);break}if(a[0]in n)s=a[0];else{for(i in n){if(!a[0]||e.converters[i+" "+a[0]]){s=i;break}o||(o=i)}s=s||o}if(s)return s!==a[0]&&a.unshift(s),n[s]}function zn(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)f[o.toLowerCase()]=e.converters[o];s=l.shift();while(s)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=s,s=l.shift())if("*"===s)s=a;else if("*"!==a&&a!==s){if(o=f[a+" "+s]||f["* "+s],!o)for(i in f)if(u=i.split(" "),u[1]===s&&(o=f[a+" "+u[0]]||f["* "+u[0]])){o===!0?o=f[i]:f[i]!==!0&&(s=u[0],l.unshift(u[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}return{state:"success",data:t}}var n=[],r=e.document,i=Object.getPrototypeOf,s=n.slice,o=n.concat,u=n.push,a=n.indexOf,f={},l=f.toString,c=f.hasOwnProperty,h=c.toString,p=h.call(Object),d={},m="3.2.1",g=function(e,t){return new g.fn.init(e,t)},y=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,b=/^-ms-/,w=/-([a-z])/g,E=function(e,t){return t.toUpperCase()};g.fn=g.prototype={jquery:m,constructor:g,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=g.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return g.each(this,e)},map:function(e){return this.pushStack(g.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:n.sort,splice:n.splice},g.extend=g.fn.extend=function(){var e,t,n,r,i,s,o=arguments[0]||{},u=1,a=arguments.length,f=!1;for("boolean"==typeof o&&(f=o,o=arguments[u]||{},u++),"object"==typeof o||g.isFunction(o)||(o={}),u===a&&(o=this,u--);u<a;u++)if(null!=(e=arguments[u]))for(t in e)n=o[t],r=e[t],o!==r&&(f&&r&&(g.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,s=n&&Array.isArray(n)?n:[]):s=n&&g.isPlainObject(n)?n:{},o[t]=g.extend(f,s,r)):void 0!==r&&(o[t]=r));return o},g.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===g.type(e)},isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=g.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return!!e&&"[object Object]"===l.call(e)&&(!(t=i(e))||(n=c.call(t,"constructor")&&t.constructor,"function"==typeof n&&h.call(n)===p))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?f[l.call(e)]||"object":typeof e},globalEval:function(e){v(e)},camelCase:function(e){return e.replace(b,"ms-").replace(w,E)},each:function(e,t){var n,r=0;if(S(e)){for(n=e.length;r<n;r++)if(t.call(e[r],r,e[r])===!1)break}else for(r in e)if(t.call(e[r],r,e[r])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(y,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(S(Object(e))?g.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:a.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],s=0,o=e.length,u=!n;s<o;s++)r=!t(e[s],s),r!==u&&i.push(e[s]);return i},map:function(e,t,n){var r,i,s=0,u=[];if(S(e))for(r=e.length;s<r;s++)i=t(e[s],s,n),null!=i&&u.push(i);else for(s in e)i=t(e[s],s,n),null!=i&&u.push(i);return o.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),g.isFunction(e))return r=s.call(arguments,2),i=function(){return e.apply(t||this,r.concat(s.call(arguments)))},i.guid=e.guid=e.guid||g.guid++,i},now:Date.now,support:d}),"function"==typeof Symbol&&(g.fn[Symbol.iterator]=n[Symbol.iterator]),g.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){f["[object "+t+"]"]=t.toLowerCase()});var x=function(e){function ot(e,t,r,i){var s,u,f,l,c,d,g,y=t&&t.ownerDocument,S=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==S&&9!==S&&11!==S)return r;if(!i&&((t?t.ownerDocument||t:E)!==p&&h(t),t=t||p,v)){if(11!==S&&(c=G.exec(e)))if(s=c[1]){if(9===S){if(!(f=t.getElementById(s)))return r;if(f.id===s)return r.push(f),r}else if(y&&(f=y.getElementById(s))&&b(t,f)&&f.id===s)return r.push(f),r}else{if(c[2])return _.apply(r,t.getElementsByTagName(e)),r;if((s=c[3])&&n.getElementsByClassName&&t.getElementsByClassName)return _.apply(r,t.getElementsByClassName(s)),r}if(n.qsa&&!C[e+" "]&&(!m||!m.test(e))){if(1!==S)y=t,g=e;else if("object"!==t.nodeName.toLowerCase()){(l=t.getAttribute("id"))?l=l.replace(tt,nt):t.setAttribute("id",l=w),d=o(e),u=d.length;while(u--)d[u]="#"+l+" "+yt(d[u]);g=d.join(","),y=Y.test(e)&&mt(t.parentNode)||t}if(g)try{return _.apply(r,y.querySelectorAll(g)),r}catch(x){}finally{l===w&&t.removeAttribute("id")}}}return a(e.replace(R,"$1"),t,r,i)}function ut(){function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function at(e){return e[w]=!0,e}function ft(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function lt(e,t){var n=e.split("|"),i=n.length;while(i--)r.attrHandle[n[i]]=t}function ct(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ht(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function pt(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function dt(e){return function(t){return"form"in t?t.parentNode&&t.disabled===!1?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&it(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function vt(e){return at(function(t){return t=+t,at(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function mt(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function gt(){}function yt(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function bt(e,t,n){var r=t.dir,i=t.next,s=i||r,o=n&&"parentNode"===s,u=x++;return t.first?function(t,n,i){while(t=t[r])if(1===t.nodeType||o)return e(t,n,i);return!1}:function(t,n,a){var f,l,c,h=[S,u];if(a){while(t=t[r])if((1===t.nodeType||o)&&e(t,n,a))return!0}else while(t=t[r])if(1===t.nodeType||o)if(c=t[w]||(t[w]={}),l=c[t.uniqueID]||(c[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((f=l[s])&&f[0]===S&&f[1]===u)return h[2]=f[2];if(l[s]=h,h[2]=e(t,n,a))return!0}return!1}}function wt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function Et(e,t,n){for(var r=0,i=t.length;r<i;r++)ot(e,t[r],n);return n}function St(e,t,n,r,i){for(var s,o=[],u=0,a=e.length,f=null!=t;u<a;u++)(s=e[u])&&(n&&!n(s,r,i)||(o.push(s),f&&t.push(u)));return o}function xt(e,t,n,r,i,s){return r&&!r[w]&&(r=xt(r)),i&&!i[w]&&(i=xt(i,s)),at(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||Et(t||"*",u.nodeType?[u]:u,[]),m=!e||!s&&t?v:St(v,h,e,u,a),g=n?i||(s?e:d||r)?[]:o:m;if(n&&n(m,g,u,a),r){f=St(g,p),r(f,[],u,a),l=f.length;while(l--)(c=f[l])&&(g[p[l]]=!(m[p[l]]=c))}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?P(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=St(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):_.apply(o,g)})}function Tt(e){for(var t,n,i,s=e.length,o=r.relative[e[0].type],u=o||r.relative[" "],a=o?1:0,l=bt(function(e){return e===t},u,!0),c=bt(function(e){return P(t,e)>-1},u,!0),h=[function(e,n,r){var i=!o&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r));return t=null,i}];a<s;a++)if(n=r.relative[e[a].type])h=[bt(wt(h),n)];else{if(n=r.filter[e[a].type].apply(null,e[a].matches),n[w]){for(i=++a;i<s;i++)if(r.relative[e[i].type])break;return xt(a>1&&wt(h),a>1&&yt(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(R,"$1"),n,a<i&&Tt(e.slice(a,i)),i<s&&Tt(e=e.slice(i)),i<s&&yt(e))}h.push(n)}return wt(h)}function Nt(e,t){var n=t.length>0,i=e.length>0,s=function(s,o,u,a,l){var c,d,m,g=0,y="0",b=s&&[],w=[],E=f,x=s||i&&r.find.TAG("*",l),T=S+=null==E?1:Math.random()||.1,N=x.length;for(l&&(f=o===p||o||l);y!==N&&null!=(c=x[y]);y++){if(i&&c){d=0,o||c.ownerDocument===p||(h(c),u=!v);while(m=e[d++])if(m(c,o||p,u)){a.push(c);break}l&&(S=T)}n&&((c=!m&&c)&&g--,s&&b.push(c))}if(g+=y,n&&y!==g){d=0;while(m=t[d++])m(b,w,o,u);if(s){if(g>0)while(y--)b[y]||w[y]||(w[y]=O.call(a));w=St(w)}_.apply(a,w),l&&!s&&w.length>0&&g+t.length>1&&ot.uniqueSort(a)}return l&&(S=T,f=E),b};return n?at(s):s}var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w="sizzle"+1*new Date,E=e.document,S=0,x=0,T=ut(),N=ut(),C=ut(),k=function(e,t){return e===t&&(c=!0),0},L={}.hasOwnProperty,A=[],O=A.pop,M=A.push,_=A.push,D=A.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},H="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",j="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",F="\\["+B+"*("+j+")(?:"+B+"*([*^$|!~]?=)"+B+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+j+"))|)"+B+"*\\]",I=":("+j+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",q=new RegExp(B+"+","g"),R=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),U=new RegExp("^"+B+"*,"+B+"*"),z=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),W=new RegExp("="+B+"*([^\\]'\"]*?)"+B+"*\\]","g"),X=new RegExp(I),V=new RegExp("^"+j+"$"),$={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+I),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+H+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},J=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,G=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Y=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+B+"?|("+B+")|.)","ig"),et=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},tt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},rt=function(){h()},it=bt(function(e){return e.disabled===!0&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{_.apply(A=D.call(E.childNodes),E.childNodes),A[E.childNodes.length].nodeType}catch(st){_={apply:A.length?function(e,t){M.apply(e,D.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}n=ot.support={},s=ot.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},h=ot.setDocument=function(e){var t,i,o=e?e.ownerDocument||e:E;return o!==p&&9===o.nodeType&&o.documentElement?(p=o,d=p.documentElement,v=!s(p),E!==p&&(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",rt,!1):i.attachEvent&&i.attachEvent("onunload",rt)),n.attributes=ft(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ft(function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(p.getElementsByClassName),n.getById=ft(function(e){return d.appendChild(e).id=w,!p.getElementsByName||!p.getElementsByName(w).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(Z,et);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&v){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(Z,et);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&v){var n,r,i,s=t.getElementById(e);if(s){if(n=s.getAttributeNode("id"),n&&n.value===e)return[s];i=t.getElementsByName(e),r=0;while(s=i[r++])if(n=s.getAttributeNode("id"),n&&n.value===e)return[s]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if("*"===e){while(n=s[i++])1===n.nodeType&&r.push(n);return r}return s},r.find.CLASS=n.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&v)return t.getElementsByClassName(e)},g=[],m=[],(n.qsa=Q.test(p.querySelectorAll))&&(ft(function(e){d.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+B+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+B+"*(?:value|"+H+")"),e.querySelectorAll("[id~="+w+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]")}),ft(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+B+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),d.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=Q.test(y=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ft(function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),g.push("!=",I)}),m=m.length&&new RegExp(m.join("|")),g=g.length&&new RegExp(g.join("|")),t=Q.test(d.compareDocumentPosition),b=t||Q.test(d.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&1===r.nodeType&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},k=t?function(e,t){if(e===t)return c=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===p||e.ownerDocument===E&&b(E,e)?-1:t===p||t.ownerDocument===E&&b(E,t)?1:l?P(l,e)-P(l,t):0:4&r?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,r=0,i=e.parentNode,s=t.parentNode,o=[e],u=[t];if(!i||!s)return e===p?-1:t===p?1:i?-1:s?1:l?P(l,e)-P(l,t):0;if(i===s)return ct(e,t);n=e;while(n=n.parentNode)o.unshift(n);n=t;while(n=n.parentNode)u.unshift(n);while(o[r]===u[r])r++;return r?ct(o[r],u[r]):o[r]===E?-1:u[r]===E?1:0},p):p},ot.matches=function(e,t){return ot(e,null,null,t)},ot.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&h(e),t=t.replace(W,"='$1']"),n.matchesSelector&&v&&!C[t+" "]&&(!g||!g.test(t))&&(!m||!m.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return ot(t,p,null,[e]).length>0},ot.contains=function(e,t){return(e.ownerDocument||e)!==p&&h(e),b(e,t)},ot.attr=function(e,t){(e.ownerDocument||e)!==p&&h(e);var i=r.attrHandle[t.toLowerCase()],s=i&&L.call(r.attrHandle,t.toLowerCase())?i(e,t,!v):void 0;return void 0!==s?s:n.attributes||!v?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},ot.escape=function(e){return(e+"").replace(tt,nt)},ot.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ot.uniqueSort=function(e){var t,r=[],i=0,s=0;if(c=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(k),c){while(t=e[s++])t===e[s]&&(i=r.push(s));while(i--)e.splice(r[i],1)}return l=null,e},i=ot.getText=function(e){var t,n="",r=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===s||4===s)return e.nodeValue}else while(t=e[r++])n+=i(t);return n},r=ot.selectors={cacheLength:50,createPseudo:at,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,et),e[3]=(e[3]||e[4]||e[5]||"").replace(Z,et),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ot.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ot.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return $.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=o(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Z,et).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+B+")"+e+"("+B+"|$)"))&&T(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ot.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(q," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u,b=!1;if(m){if(s){while(v){h=t;while(h=h[v])if(u?h.nodeName.toLowerCase()===g:1===h.nodeType)return!1;d=v="only"===e&&!d&&"nextSibling"}return!0}if(d=[o?m.firstChild:m.lastChild],o&&y){h=m,c=h[w]||(h[w]={}),l=c[h.uniqueID]||(c[h.uniqueID]={}),f=l[e]||[],p=f[0]===S&&f[1],b=p&&f[2],h=p&&m.childNodes[p];while(h=++p&&h&&h[v]||(b=p=0)||d.pop())if(1===h.nodeType&&++b&&h===t){l[e]=[S,p,b];break}}else if(y&&(h=t,c=h[w]||(h[w]={}),l=c[h.uniqueID]||(c[h.uniqueID]={}),f=l[e]||[],p=f[0]===S&&f[1],b=p),b===!1)while(h=++p&&h&&h[v]||(b=p=0)||d.pop())if((u?h.nodeName.toLowerCase()===g:1===h.nodeType)&&++b&&(y&&(c=h[w]||(h[w]={}),l=c[h.uniqueID]||(c[h.uniqueID]={}),l[e]=[S,b]),h===t))break;return b-=i,b===r||b%r===0&&b/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ot.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?at(function(e,n){var r,s=i(e,t),o=s.length;while(o--)r=P(e,s[o]),e[r]=!(n[r]=s[o])}):function(e){return i(e,0,n)}):i}},pseudos:{not:at(function(e){var t=[],n=[],r=u(e.replace(R,"$1"));return r[w]?at(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)(s=o[u])&&(e[u]=!(t[u]=s))}):function(e,i,s){return t[0]=e,r(t,null,s,n),t[0]=null,!n.pop()}}),has:at(function(e){return function(t){return ot(e,t).length>0}}),contains:at(function(e){return e=e.replace(Z,et),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:at(function(e){return V.test(e||"")||ot.error("unsupported lang: "+e),e=e.replace(Z,et).toLowerCase(),function(t){var n;do if(n=v?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:dt(!1),disabled:dt(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:vt(function(){return[0]}),last:vt(function(e,t){return[t-1]}),eq:vt(function(e,t,n){return[n<0?n+t:n]}),even:vt(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:vt(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:vt(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:vt(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},r.pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ht(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pt(t);return gt.prototype=r.filters=r.pseudos,r.setFilters=new gt,o=ot.tokenize=function(e,t){var n,i,s,o,u,a,f,l=N[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=r.preFilter;while(u){n&&!(i=U.exec(u))||(i&&(u=u.slice(i[0].length)||u),a.push(s=[])),n=!1,(i=z.exec(u))&&(n=i.shift(),s.push({value:n,type:i[0].replace(R," ")}),u=u.slice(n.length));for(o in r.filter)!(i=$[o].exec(u))||f[o]&&!(i=f[o](i))||(n=i.shift(),s.push({value:n,type:o,matches:i}),u=u.slice(n.length));if(!n)break}return t?u.length:u?ot.error(e):N(e,a).slice(0)},u=ot.compile=function(e,t){var n,r=[],i=[],s=C[e+" "];if(!s){t||(t=o(e)),n=t.length;while(n--)s=Tt(t[n]),s[w]?r.push(s):i.push(s);s=C(e,Nt(i,r)),s.selector=e}return s},a=ot.select=function(e,t,n,i){var s,a,f,l,c,h="function"==typeof e&&e,p=!i&&o(e=h.selector||e);if(n=n||[],1===p.length){if(a=p[0]=p[0].slice(0),a.length>2&&"ID"===(f=a[0]).type&&9===t.nodeType&&v&&r.relative[a[1].type]){if(t=(r.find.ID(f.matches[0].replace(Z,et),t)||[])[0],!t)return n;h&&(t=t.parentNode),e=e.slice(a.shift().value.length)}s=$.needsContext.test(e)?0:a.length;while(s--){if(f=a[s],r.relative[l=f.type])break;if((c=r.find[l])&&(i=c(f.matches[0].replace(Z,et),Y.test(a[0].type)&&mt(t.parentNode)||t))){if(a.splice(s,1),e=i.length&&yt(a),!e)return _.apply(n,i),n;break}}}return(h||u(e,p))(i,t,!v,n,!t||Y.test(e)&&mt(t.parentNode)||t),n},n.sortStable=w.split("").sort(k).join("")===w,n.detectDuplicates=!!c,h(),n.sortDetached=ft(function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))}),ft(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||lt("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ft(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||lt("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ft(function(e){return null==e.getAttribute("disabled")})||lt(H,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),ot}(e);g.find=x,g.expr=x.selectors,g.expr[":"]=g.expr.pseudos,g.uniqueSort=g.unique=x.uniqueSort,g.text=x.getText,g.isXMLDoc=x.isXML,g.contains=x.contains,g.escapeSelector=x.escape;var T=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&g(e).is(n))break;r.push(e)}return r},N=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},C=g.expr.match.needsContext,L=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,A=/^.[^:#\[\.,]*$/;g.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?g.find.matchesSelector(r,e)?[r]:[]:g.find.matches(e,g.grep(t,function(e){return 1===e.nodeType}))},g.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(g(e).filter(function(){for(t=0;t<r;t++)if(g.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)g.find(e,i[t],n);return r>1?g.uniqueSort(n):n},filter:function(e){return this.pushStack(O(this,e||[],!1))},not:function(e){return this.pushStack(O(this,e||[],!0))},is:function(e){return!!O(this,"string"==typeof e&&C.test(e)?g(e):e||[],!1).length}});var M,_=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,D=g.fn.init=function(e,t,n){var i,s;if(!e)return this;if(n=n||M,"string"==typeof e){if(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:_.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof g?t[0]:t,g.merge(this,g.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:r,!0)),L.test(i[1])&&g.isPlainObject(t))for(i in t)g.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return s=r.getElementById(i[2]),s&&(this[0]=s,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g.isFunction(e)?void 0!==n.ready?n.ready(e):e(g):g.makeArray(e,this)};D.prototype=g.fn,M=g(r);var P=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};g.fn.extend({has:function(e){var t=g(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(g.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,s=[],o="string"!=typeof e&&g(e);if(!C.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&g.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?g.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?a.call(g(e),this[0]):a.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(g.uniqueSort(g.merge(this.get(),g(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),g.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return T(e,"parentNode")},parentsUntil:function(e,t,n){return T(e,"parentNode",n)},next:function(e){return B(e,"nextSibling")},prev:function(e){return B(e,"previousSibling")},nextAll:function(e){return T(e,"nextSibling")},prevAll:function(e){return T(e,"previousSibling")},nextUntil:function(e,t,n){return T(e,"nextSibling",n)},prevUntil:function(e,t,n){return T(e,"previousSibling",n)},siblings:function(e){return N((e.parentNode||{}).firstChild,e)},children:function(e){return N(e.firstChild)},contents:function(e){return k(e,"iframe")?e.contentDocument:(k(e,"template")&&(e=e.content||e),g.merge([],e.childNodes))}},function(e,t){g.fn[e]=function(n,r){var i=g.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=g.filter(r,i)),this.length>1&&(H[e]||g.uniqueSort(i),P.test(e)&&i.reverse()),this.pushStack(i)}});var j=/[^\x20\t\r\n\f]+/g;g.Callbacks=function(e){e="string"==typeof e?F(e):g.extend({},e);var t,n,r,i,s=[],o=[],u=-1,a=function(){for(i=i||e.once,r=t=!0;o.length;u=-1){n=o.shift();while(++u<s.length)s[u].apply(n[0],n[1])===!1&&e.stopOnFalse&&(u=s.length,n=!1)}e.memory||(n=!1),t=!1,i&&(s=n?[]:"")},f={add:function(){return s&&(n&&!t&&(u=s.length-1,o.push(n)),function r(t){g.each(t,function(t,n){g.isFunction(n)?e.unique&&f.has(n)||s.push(n):n&&n.length&&"string"!==g.type(n)&&r(n)})}(arguments),n&&!t&&a()),this},remove:function(){return g.each(arguments,function(e,t){var n;while((n=g.inArray(t,s,n))>-1)s.splice(n,1),n<=u&&u--}),this},has:function(e){return e?g.inArray(e,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return i=o=[],s=n="",this},disabled:function(){return!s},lock:function(){return i=o=[],n||t||(s=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=n||[],n=[e,n.slice?n.slice():n],o.push(n),t||a()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!r}};return f},g.extend({Deferred:function(t){var n=[["notify","progress",g.Callbacks("memory"),g.Callbacks("memory"),2],["resolve","done",g.Callbacks("once memory"),g.Callbacks("once memory"),0,"resolved"],["reject","fail",g.Callbacks("once memory"),g.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return i.then(null,e)},pipe:function(){var e=arguments;return g.Deferred(function(t){g.each(n,function(n,r){var i=g.isFunction(e[r[4]])&&e[r[4]];s[r[1]](function(){var e=i&&i.apply(this,arguments);e&&g.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){function o(t,n,r,i){return function(){var u=this,a=arguments,f=function(){var e,f;if(!(t<s)){if(e=r.apply(u,a),e===n.promise())throw new TypeError("Thenable self-resolution");f=e&&("object"==typeof e||"function"==typeof e)&&e.then,g.isFunction(f)?i?f.call(e,o(s,n,I,i),o(s,n,q,i)):(s++,f.call(e,o(s,n,I,i),o(s,n,q,i),o(s,n,I,n.notifyWith))):(r!==I&&(u=void 0,a=[e]),(i||n.resolveWith)(u,a))}},l=i?f:function(){try{f()}catch(e){g.Deferred.exceptionHook&&g.Deferred.exceptionHook(e,l.stackTrace),t+1>=s&&(r!==q&&(u=void 0,a=[e]),n.rejectWith(u,a))}};t?l():(g.Deferred.getStackHook&&(l.stackTrace=g.Deferred.getStackHook()),e.setTimeout(l))}}var s=0;return g.Deferred(function(e){n[0][3].add(o(0,e,g.isFunction(i)?i:I,e.notifyWith)),n[1][3].add(o(0,e,g.isFunction(t)?t:I)),n[2][3].add(o(0,e,g.isFunction(r)?r:q))}).promise()},promise:function(e){return null!=e?g.extend(e,i):i}},s={};return g.each(n,function(e,t){var o=t[2],u=t[5];i[t[1]]=o.add,u&&o.add(function(){r=u},n[3-e][2].disable,n[0][2].lock),o.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=o.fireWith}),i.promise(s),t&&t.call(s,s),s},when:function(e){var t=arguments.length,n=t,r=Array(n),i=s.call(arguments),o=g.Deferred(),u=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?s.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(R(e,o.done(u(n)).resolve,o.reject,!t),"pending"===o.state()||g.isFunction(i[n]&&i[n].then)))return o.then();while(n--)R(i[n],u(n),o.reject);return o.promise()}});var U=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;g.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&U.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},g.readyException=function(t){e.setTimeout(function(){throw t})};var z=g.Deferred();g.fn.ready=function(e){return z.then(e)["catch"](function(e){g.readyException(e)}),this},g.extend({isReady:!1,readyWait:1,ready:function(e){(e===!0?--g.readyWait:g.isReady)||(g.isReady=!0,e!==!0&&--g.readyWait>0||z.resolveWith(r,[g]))}}),g.ready.then=z.then,"complete"===r.readyState||"loading"!==r.readyState&&!r.documentElement.doScroll?e.setTimeout(g.ready):(r.addEventListener("DOMContentLoaded",W),e.addEventListener("load",W));var X=function(e,t,n,r,i,s,o){var u=0,a=e.length,f=null==n;if("object"===g.type(n)){i=!0;for(u in n)X(e,t,u,n[u],!0,s,o)}else if(void 0!==r&&(i=!0,g.isFunction(r)||(o=!0),f&&(o?(t.call(e,r),t=null):(f=t,t=function(e,t,n){return f.call(g(e),n)})),t))for(;u<a;u++)t(e[u],n,o?r:r.call(e[u],u,t(e[u],n)));return i?e:f?t.call(e):a?t(e[0],n):s},V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};$.uid=1,$.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[g.camelCase(t)]=n;else for(r in t)i[g.camelCase(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][g.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){Array.isArray(t)?t=t.map(g.camelCase):(t=g.camelCase(t),t=t in r?[t]:t.match(j)||[]),n=t.length;while(n--)delete r[t[n]]}(void 0===t||g.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!g.isEmptyObject(t)}};var J=new $,K=new $,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,G=/[A-Z]/g;g.extend({hasData:function(e){return K.hasData(e)||J.hasData(e)},data:function(e,t,n){return K.access(e,t,n)},removeData:function(e,t){K.remove(e,t)},_data:function(e,t,n){return J.access(e,t,n)},_removeData:function(e,t){J.remove(e,t)}}),g.fn.extend({data:function(e,t){var n,r,i,s=this[0],o=s&&s.attributes;if(void 0===e){if(this.length&&(i=K.get(s),1===s.nodeType&&!J.get(s,"hasDataAttrs"))){n=o.length;while(n--)o[n]&&(r=o[n].name,0===r.indexOf("data-")&&(r=g.camelCase(r.slice(5)),Z(s,r,i[r])));J.set(s,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){K.set(this,e)}):X(this,function(t){var n;if(s&&void 0===t){if(n=K.get(s,e),void 0!==n)return n;if(n=Z(s,e),void 0!==n)return n}else this.each(function(){K.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){K.remove(this,e)})}}),g.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=J.get(e,t),n&&(!r||Array.isArray(n)?r=J.access(e,t,g.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=g.queue(e,t),r=n.length,i=n.shift(),s=g._queueHooks(e,t),o=function(){g.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return J.get(e,n)||J.access(e,n,{empty:g.Callbacks("once memory").add(function(){J.remove(e,[t+"queue",n])})})}}),g.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?g.queue(this[0],e):void 0===t?this:this.each(function(){var n=g.queue(this,e,t);g._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&g.dequeue(this,e)})},dequeue:function(e){return this.each(function(){g.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=g.Deferred(),s=this,o=this.length,u=function(){--r||i.resolveWith(s,[s])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(o--)n=J.get(s[o],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(u));return u(),i.promise(t)}});var et=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,tt=new RegExp("^(?:([+-])=|)("+et+")([a-z%]*)$","i"),nt=["Top","Right","Bottom","Left"],rt=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&g.contains(e.ownerDocument,e)&&"none"===g.css(e,"display")},it=function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i},ot={};g.fn.extend({show:function(){return at(this,!0)},hide:function(){return at(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){rt(this)?g(this).show():g(this).hide()})}});var ft=/^(?:checkbox|radio)$/i,lt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ct=/^$|\/(?:java|ecma)script/i,ht={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ht.optgroup=ht.option,ht.tbody=ht.tfoot=ht.colgroup=ht.caption=ht.thead,ht.th=ht.td;var vt=/<|&#?\w+;/;!function(){var e=r.createDocumentFragment(),t=e.appendChild(r.createElement("div")),n=r.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),d.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",d.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var gt=r.documentElement,yt=/^key/,bt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,wt=/^([^.]*)(?:\.(.+)|)/;g.event={global:{},add:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=J.get(e);if(m){n.handler&&(s=n,n=s.handler,i=s.selector),i&&g.find.matchesSelector(gt,i),n.guid||(n.guid=g.guid++),(a=m.events)||(a=m.events={}),(o=m.handle)||(o=m.handle=function(t){return"undefined"!=typeof g&&g.event.triggered!==t.type?g.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(j)||[""],f=t.length;while(f--)u=wt.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort(),p&&(c=g.event.special[p]||{},p=(i?c.delegateType:c.bindType)||p,c=g.event.special[p]||{},l=g.extend({type:p,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&g.expr.match.needsContext.test(i),namespace:d.join(".")},s),(h=a[p])||(h=a[p]=[],h.delegateCount=0,c.setup&&c.setup.call(e,r,d,o)!==!1||e.addEventListener&&e.addEventListener(p,o)),c.add&&(c.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,l):h.push(l),g.event.global[p]=!0)}},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=J.hasData(e)&&J.get(e);if(m&&(a=m.events)){t=(t||"").match(j)||[""],f=t.length;while(f--)if(u=wt.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort(),p){c=g.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,h=a[p]||[],u=u[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=h.length;while(s--)l=h[s],!i&&v!==l.origType||n&&n.guid!==l.guid||u&&!u.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(h.splice(s,1),l.selector&&h.delegateCount--,c.remove&&c.remove.call(e,l));o&&!h.length&&(c.teardown&&c.teardown.call(e,d,m.handle)!==!1||g.removeEvent(e,p,m.handle),delete a[p])}else for(p in a)g.event.remove(e,p+t[f],n,r,!0);g.isEmptyObject(a)&&J.remove(e,"handle events")}},dispatch:function(e){var t=g.event.fix(e),n,r,i,s,o,u,a=new Array(arguments.length),f=(J.get(this,"events")||{})[t.type]||[],l=g.event.special[t.type]||{};for(a[0]=t,n=1;n<arguments.length;n++)a[n]=arguments[n];if(t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){u=g.event.handlers.call(this,t,f),n=0;while((s=u[n++])&&!t.isPropagationStopped()){t.currentTarget=s.elem,r=0;while((o=s.handlers[r++])&&!t.isImmediatePropagationStopped())t.rnamespace&&!t.rnamespace.test(o.namespace)||(t.handleObj=o,t.data=o.data,i=((g.event.special[o.origType]||{}).handle||o.handler).apply(s.elem,a),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()))}return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(e,t){var n,r,i,s,o,u=[],a=t.delegateCount,f=e.target;if(a&&f.nodeType&&!("click"===e.type&&e.button>=1))for(;f!==this;f=f.parentNode||this)if(1===f.nodeType&&("click"!==e.type||f.disabled!==!0)){for(s=[],o={},n=0;n<a;n++)r=t[n],i=r.selector+" ",void 0===o[i]&&(o[i]=r.needsContext?g(i,this).index(f)>-1:g.find(i,this,null,[f]).length),o[i]&&s.push(r);s.length&&u.push({elem:f,handlers:s})}return f=this,a<t.length&&u.push({elem:f,handlers:t.slice(a)}),u},addProp:function(e,t){Object.defineProperty(g.Event.prototype,e,{enumerable:!0,configurable:!0,get:g.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[g.expando]?e:new g.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==xt()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===xt()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&k(this,"input"))return this.click(),!1},_default:function(e){return k(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},g.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},g.Event=function(e,t){return this instanceof g.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?Et:St,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&g.extend(this,t),this.timeStamp=e&&e.timeStamp||g.now(),void (this[g.expando]=!0)):new g.Event(e,t)},g.Event.prototype={constructor:g.Event,isDefaultPrevented:St,isPropagationStopped:St,isImmediatePropagationStopped:St,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Et,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Et,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Et,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},g.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&yt.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&bt.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},g.event.addProp),g.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){g.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;return i&&(i===r||g.contains(r,i))||(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}}),g.fn.extend({on:function(e,t,n,r){return Tt(this,e,t,n,r)},one:function(e,t,n,r){return Tt(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,g(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=St),this.each(function(){g.event.remove(this,e,n,t)})}});var Nt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ct=/<script|<style|<link/i,kt=/checked\s*(?:[^=]|=\s*.checked.)/i,Lt=/^true\/(.*)/,At=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;g.extend({htmlPrefilter:function(e){return e.replace(Nt,"<$1></$2>")},clone:function(e,t,n){var r,i,s,o,u=e.cloneNode(!0),a=g.contains(e.ownerDocument,e);if(!(d.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||g.isXMLDoc(e)))for(o=pt(u),s=pt(e),r=0,i=s.length;r<i;r++)Pt(s[r],o[r]);if(t)if(n)for(s=s||pt(e),o=o||pt(u),r=0,i=s.length;r<i;r++)Dt(s[r],o[r]);else Dt(e,u);return o=pt(u,"script"),o.length>0&&dt(o,!a&&pt(e,"script")),u},cleanData:function(e){for(var t,n,r,i=g.event.special,s=0;void 0!==(n=e[s]);s++)if(V(n)){if(t=n[J.expando]){if(t.events)for(r in t.events)i[r]?g.event.remove(n,r):g.removeEvent(n,r,t.handle);n[J.expando]=void 0}n[K.expando]&&(n[K.expando]=void 0)}}}),g.fn.extend({detach:function(e){return Bt(this,e,!0)},remove:function(e){return Bt(this,e)},text:function(e){return X(this,function(e){return void 0===e?g.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Ht(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ot(this,e);t.appendChild(e)}})},prepend:function(){return Ht(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ot(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ht(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ht(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(g.cleanData(pt(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return g.clone(this,e,t)})},html:function(e){return X(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ct.test(e)&&!ht[(lt.exec(e)||["",""])[1].toLowerCase()]){e=g.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(g.cleanData(pt(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Ht(this,arguments,function(t){var n=this.parentNode;g.inArray(this,e)<0&&(g.cleanData(pt(this)),n&&n.replaceChild(t,this))},e)}}),g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){g.fn[e]=function(e){for(var n,r=[],i=g(e),s=i.length-1,o=0;o<=s;o++)n=o===s?this:this.clone(!0),g(i[o])[t](n),u.apply(r,n.get());return this.pushStack(r)}});var jt=/^margin/,Ft=new RegExp("^("+et+")(?!px)[a-z%]+$","i"),It=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)};!function(){function t(){if(a){a.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",gt.appendChild(u);var t=e.getComputedStyle(a);n="1%"!==t.top,o="2px"===t.marginLeft,i="4px"===t.width,a.style.marginRight="50%",s="4px"===t.marginRight,gt.removeChild(u),a=null}}var n,i,s,o,u=r.createElement("div"),a=r.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",d.clearCloneStyle="content-box"===a.style.backgroundClip,u.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",u.appendChild(a),g.extend(d,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return t(),i},pixelMarginRight:function(){return t(),s},reliableMarginLeft:function(){return t(),o}}))}();var Ut=/^(none|table(?!-c[ea]).+)/,zt=/^--/,Wt={position:"absolute",visibility:"hidden",display:"block"},Xt={letterSpacing:"0",fontWeight:"400"},Vt=["Webkit","Moz","ms"],$t=r.createElement("div").style;g.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=qt(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,s,o,u=g.camelCase(t),a=zt.test(t),f=e.style;return a||(t=Kt(u)),o=g.cssHooks[t]||g.cssHooks[u],void 0===n?o&&"get"in o&&void 0!==(i=o.get(e,!1,r))?i:f[t]:(s=typeof n,"string"===s&&(i=tt.exec(n))&&i[1]&&(n=st(e,t,i),s="number"),null!=n&&n===n&&("number"===s&&(n+=i&&i[3]||(g.cssNumber[u]?"":"px")),d.clearCloneStyle||""!==n||0!==t.indexOf("background")||(f[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,r))||(a?f.setProperty(t,n):f[t]=n)),void 0)}},css:function(e,t,n,r){var i,s,o,u=g.camelCase(t),a=zt.test(t);return a||(t=Kt(u)),o=g.cssHooks[t]||g.cssHooks[u],o&&"get"in o&&(i=o.get(e,!0,n)),void 0===i&&(i=qt(e,t,r)),"normal"===i&&t in Xt&&(i=Xt[t]),""===n||n?(s=parseFloat(i),n===!0||isFinite(s)?s||0:i):i}}),g.each(["height","width"],function(e,t){g.cssHooks[t]={get:function(e,n,r){if(n)return!Ut.test(g.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Yt(e,t,r):it(e,Wt,function(){return Yt(e,t,r)})},set:function(e,n,r){var i,s=r&&It(e),o=r&&Gt(e,t,r,"border-box"===g.css(e,"boxSizing",!1,s),s);return o&&(i=tt.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=g.css(e,t)),Qt(e,n,o)}}}),g.cssHooks.marginLeft=Rt(d.reliableMarginLeft,function(e,t){if(t)return(parseFloat(qt(e,"marginLeft"))||e.getBoundingClientRect().left-it(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),g.each({margin:"",padding:"",border:"Width"},function(e,t){g.cssHooks[e+t]={expand:function(n){for(var r=0,i={},s="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+nt[r]+t]=s[r]||s[r-2]||s[0];return i}},jt.test(e)||(g.cssHooks[e+t].set=Qt)}),g.fn.extend({css:function(e,t){return X(this,function(e,t,n){var r,i,s={},o=0;if(Array.isArray(t)){for(r=It(e),i=t.length;o<i;o++)s[t[o]]=g.css(e,t[o],!1,r);return s}return void 0!==n?g.style(e,t,n):g.css(e,t)},e,t,arguments.length>1)}}),g.Tween=Zt,Zt.prototype={constructor:Zt,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||g.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(g.cssNumber[n]?"":"px")},cur:function(){var e=Zt.propHooks[this.prop];return e&&e.get?e.get(this):Zt.propHooks._default.get(this)},run:function(e){var t,n=Zt.propHooks[this.prop];return this.options.duration?this.pos=t=g.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Zt.propHooks._default.set(this),this}},Zt.prototype.init.prototype=Zt.prototype,Zt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=g.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){g.fx.step[e.prop]?g.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[g.cssProps[e.prop]]&&!g.cssHooks[e.prop]?e.elem[e.prop]=e.now:g.style(e.elem,e.prop,e.now+e.unit)}}},Zt.propHooks.scrollTop=Zt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},g.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},g.fx=Zt.prototype.init,g.fx.step={};var en,tn,nn=/^(?:toggle|show|hide)$/,rn=/queueHooks$/;g.Animation=g.extend(cn,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return st(n.elem,e,tt.exec(t),n),n}]},tweener:function(e,t){g.isFunction(e)?(t=e,e=["*"]):e=e.match(j);for(var n,r=0,i=e.length;r<i;r++)n=e[r],cn.tweeners[n]=cn.tweeners[n]||[],cn.tweeners[n].unshift(t)},prefilters:[fn],prefilter:function(e,t){t?cn.prefilters.unshift(e):cn.prefilters.push(e)}}),g.speed=function(e,t,n){var r=e&&"object"==typeof e?g.extend({},e):{complete:n||!n&&t||g.isFunction(e)&&e,duration:e,easing:n&&t||t&&!g.isFunction(t)&&t};return g.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in g.fx.speeds?r.duration=g.fx.speeds[r.duration]:r.duration=g.fx.speeds._default),null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){g.isFunction(r.old)&&r.old.call(this),r.queue&&g.dequeue(this,r.queue)},r},g.fn.extend({fadeTo:function(e,t,n,r){return this.filter(rt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=g.isEmptyObject(e),s=g.speed(t,n,r),o=function(){var t=cn(this,g.extend({},e),s);(i||J.get(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",s=g.timers,o=J.get(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&rn.test(i)&&r(o[i]);for(i=s.length;i--;)s[i].elem!==this||null!=e&&s[i].queue!==e||(s[i].anim.stop(n),t=!1,s.splice(i,1));!t&&n||g.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=J.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=g.timers,o=r?r.length:0;for(n.finish=!0,g.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),g.each(["toggle","show","hide"],function(e,t){var n=g.fn[t];g.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(un(t,!0),e,r,i)}}),g.each({slideDown:un("show"),slideUp:un("hide"),slideToggle:un("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){g.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),g.timers=[],g.fx.tick=function(){var e,t=0,n=g.timers;for(en=g.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||g.fx.stop(),en=void 0},g.fx.timer=function(e){g.timers.push(e),g.fx.start()},g.fx.interval=13,g.fx.start=function(){tn||(tn=!0,sn())},g.fx.stop=function(){tn=null},g.fx.speeds={slow:600,fast:200,_default:400},g.fn.delay=function(t,n){return t=g.fx?g.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=r.createElement("input"),t=r.createElement("select"),n=t.appendChild(r.createElement("option"));e.type="checkbox",d.checkOn=""!==e.value,d.optSelected=n.selected,e=r.createElement("input"),e.value="t",e.type="radio",d.radioValue="t"===e.value}();var hn,pn=g.expr.attrHandle;g.fn.extend({attr:function(e,t){return X(this,g.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){g.removeAttr(this,e)})}}),g.extend({attr:function(e,t,n){var r,i,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return"undefined"==typeof e.getAttribute?g.prop(e,t,n):(1===s&&g.isXMLDoc(e)||(i=g.attrHooks[t.toLowerCase()]||(g.expr.match.bool.test(t)?hn:void 0)),void 0!==n?null===n?void g.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=g.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!d.radioValue&&"radio"===t&&k(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(j);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),hn={set:function(e,t,n){return t===!1?g.removeAttr(e,n):e.setAttribute(n,n),n}},g.each(g.expr.match.bool.source.match(/\w+/g),function(e,t){var n=pn[t]||g.find.attr;pn[t]=function(e,t,r){var i,s,o=t.toLowerCase();return r||(s=pn[o],pn[o]=i,i=null!=n(e,t,r)?o:null,pn[o]=s),i}});var dn=/^(?:input|select|textarea|button)$/i,vn=/^(?:a|area)$/i;g.fn.extend({prop:function(e,t){return X(this,g.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[g.propFix[e]||e]})}}),g.extend({prop:function(e,t,n){var r,i,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&g.isXMLDoc(e)||(t=g.propFix[t]||t,i=g.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=g.find.attr(e,"tabindex");return t?parseInt(t,10):dn.test(e.nodeName)||vn.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),d.optSelected||(g.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),g.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){g.propFix[this.toLowerCase()]=this}),g.fn.extend({addClass:function(e){var t,n,r,i,s,o,u,a=0;if(g.isFunction(e))return this.each(function(t){g(this).addClass(e.call(this,t,gn(this)))});if("string"==typeof e&&e){t=e.match(j)||[];while(n=this[a++])if(i=gn(n),r=1===n.nodeType&&" "+mn(i)+" "){o=0;while(s=t[o++])r.indexOf(" "+s+" ")<0&&(r+=s+" ");u=mn(r),i!==u&&n.setAttribute("class",u)}}return this},removeClass:function(e){var t,n,r,i,s,o,u,a=0;if(g.isFunction(e))return this.each(function(t){g(this).removeClass(e.call(this,t,gn(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e){t=e.match(j)||[];while(n=this[a++])if(i=gn(n),r=1===n.nodeType&&" "+mn(i)+" "){o=0;while(s=t[o++])while(r.indexOf(" "+s+" ")>-1)r=r.replace(" "+s+" "," ");u=mn(r),i!==u&&n.setAttribute("class",u)}}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):g.isFunction(e)?this.each(function(n){g(this).toggleClass(e.call(this,n,gn(this),t),t)}):this.each(function(){var t,r,i,s;if("string"===n){r=0,i=g(this),s=e.match(j)||[];while(t=s[r++])i.hasClass(t)?i.removeClass(t):i.addClass(t)}else void 0!==e&&"boolean"!==n||(t=gn(this),t&&J.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":J.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&(" "+mn(gn(n))+" ").indexOf(t)>-1)return!0;return!1}});var yn=/\r/g;g.fn.extend({val:function(e){var t,n,r,i=this[0];if(arguments.length)return r=g.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,g(this).val()):e,null==i?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=g.map(i,function(e){return null==e?"":e+""})),t=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=g.valHooks[i.type]||g.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(yn,""):null==n?"":n)}}),g.extend({valHooks:{option:{get:function(e){var t=g.find.attr(e,"value");return null!=t?t:mn(g.text(e))}},select:{get:function(e){var t,n,r,i=e.options,s=e.selectedIndex,o="select-one"===e.type,u=o?null:[],a=o?s+1:i.length;for(r=s<0?a:o?s:0;r<a;r++)if(n=i[r],(n.selected||r===s)&&!n.disabled&&(!n.parentNode.disabled||!k(n.parentNode,"optgroup"))){if(t=g(n).val(),o)return t;u.push(t)}return u},set:function(e,t){var n,r,i=e.options,s=g.makeArray(t),o=i.length;while(o--)r=i[o],(r.selected=g.inArray(g.valHooks.option.get(r),s)>-1)&&(n=!0);return n||(e.selectedIndex=-1),s}}}}),g.each(["radio","checkbox"],function(){g.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=g.inArray(g(e).val(),t)>-1}},d.checkOn||(g.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var bn=/^(?:focusinfocus|focusoutblur)$/;g.extend(g.event,{trigger:function(t,n,i,s){var o,u,a,f,l,h,p,d=[i||r],v=c.call(t,"type")?t.type:t,m=c.call(t,"namespace")?t.namespace.split("."):[];if(u=a=i=i||r,3!==i.nodeType&&8!==i.nodeType&&!bn.test(v+g.event.triggered)&&(v.indexOf(".")>-1&&(m=v.split("."),v=m.shift(),m.sort()),l=v.indexOf(":")<0&&"on"+v,t=t[g.expando]?t:new g.Event(v,"object"==typeof t&&t),t.isTrigger=s?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:g.makeArray(n,[t]),p=g.event.special[v]||{},s||!p.trigger||p.trigger.apply(i,n)!==!1)){if(!s&&!p.noBubble&&!g.isWindow(i)){for(f=p.delegateType||v,bn.test(f+v)||(u=u.parentNode);u;u=u.parentNode)d.push(u),a=u;a===(i.ownerDocument||r)&&d.push(a.defaultView||a.parentWindow||e)}o=0;while((u=d[o++])&&!t.isPropagationStopped())t.type=o>1?f:p.bindType||v,h=(J.get(u,"events")||{})[t.type]&&J.get(u,"handle"),h&&h.apply(u,n),h=l&&u[l],h&&h.apply&&V(u)&&(t.result=h.apply(u,n),t.result===!1&&t.preventDefault());return t.type=v,s||t.isDefaultPrevented()||p._default&&p._default.apply(d.pop(),n)!==!1||!V(i)||l&&g.isFunction(i[v])&&!g.isWindow(i)&&(a=i[l],a&&(i[l]=null),g.event.triggered=v,i[v](),g.event.triggered=void 0,a&&(i[l]=a)),t.result}},simulate:function(e,t,n){var r=g.extend(new g.Event,n,{type:e,isSimulated:!0});g.event.trigger(r,null,t)}}),g.fn.extend({trigger:function(e,t){return this.each(function(){g.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return g.event.trigger(e,t,n,!0)}}),g.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){g.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),g.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),d.focusin="onfocusin"in e,d.focusin||g.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){g.event.simulate(t,e.target,g.event.fix(e))};g.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=J.access(r,t);i||r.addEventListener(e,n,!0),J.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=J.access(r,t)-1;i?J.access(r,t,i):(r.removeEventListener(e,n,!0),J.remove(r,t))}}});var wn=e.location,En=g.now(),Sn=/\?/;g.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(r){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||g.error("Invalid XML: "+t),n};var xn=/\[\]$/,Tn=/\r?\n/g,Nn=/^(?:submit|button|image|reset|file)$/i,Cn=/^(?:input|select|textarea|keygen)/i;g.param=function(e,t){var n,r=[],i=function(e,t){var n=g.isFunction(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!g.isPlainObject(e))g.each(e,function(){i(this.name,this.value)});else for(n in e)kn(n,e[n],t,i);return r.join("&")},g.fn.extend({serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=g.prop(this,"elements");return e?g.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!g(this).is(":disabled")&&Cn.test(this.nodeName)&&!Nn.test(e)&&(this.checked||!ft.test(e))}).map(function(e,t){var n=g(this).val();return null==n?null:Array.isArray(n)?g.map(n,function(e){return{name:t.name,value:e.replace(Tn,"\r\n")}}):{name:t.name,value:n.replace(Tn,"\r\n")}}).get()}});var Ln=/%20/g,An=/#.*$/,On=/([?&])_=[^&]*/,Mn=/^(.*?):[ \t]*([^\r\n]*)$/gm,_n=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Dn=/^(?:GET|HEAD)$/,Pn=/^\/\//,Hn={},Bn={},jn="*/".concat("*"),Fn=r.createElement("a");Fn.href=wn.href,g.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wn.href,type:"GET",isLocal:_n.test(wn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":jn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":g.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Rn(Rn(e,g.ajaxSettings),t):Rn(g.ajaxSettings,e)},ajaxPrefilter:In(Hn),ajaxTransport:In(Bn),ajax:function(t,n){function C(t,n,r,u){var f,h,p,E,S,x=n;l||(l=!0,a&&e.clearTimeout(a),i=void 0,o=u||"",T.readyState=t>0?4:0,f=t>=200&&t<300||304===t,r&&(E=Un(d,T,r)),E=zn(d,E,T,f),f?(d.ifModified&&(S=T.getResponseHeader("Last-Modified"),S&&(g.lastModified[s]=S),S=T.getResponseHeader("etag"),S&&(g.etag[s]=S)),204===t||"HEAD"===d.type?x="nocontent":304===t?x="notmodified":(x=E.state,h=E.data,p=E.error,f=!p)):(p=x,!t&&x||(x="error",t<0&&(t=0))),T.status=t,T.statusText=(n||x)+"",f?y.resolveWith(v,[h,x,T]):y.rejectWith(v,[T,x,p]),T.statusCode(w),w=void 0,c&&m.trigger(f?"ajaxSuccess":"ajaxError",[T,d,f?h:p]),b.fireWith(v,[T,x]),c&&(m.trigger("ajaxComplete",[T,d]),--g.active||g.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,s,o,u,a,f,l,c,h,p,d=g.ajaxSetup({},n),v=d.context||d,m=d.context&&(v.nodeType||v.jquery)?g(v):g.event,y=g.Deferred(),b=g.Callbacks("once memory"),w=d.statusCode||{},E={},S={},x="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(l){if(!u){u={};while(t=Mn.exec(o))u[t[1].toLowerCase()]=t[2]}t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return l?o:null},setRequestHeader:function(e,t){return null==l&&(e=S[e.toLowerCase()]=S[e.toLowerCase()]||e,E[e]=t),this},overrideMimeType:function(e){return null==l&&(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||x;return i&&i.abort(t),C(0,t),this}};if(y.promise(T),d.url=((t||d.url||wn.href)+"").replace(Pn,wn.protocol+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(j)||[""],null==d.crossDomain){f=r.createElement("a");try{f.href=d.url,f.href=f.href,d.crossDomain=Fn.protocol+"//"+Fn.host!=f.protocol+"//"+f.host}catch(N){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=g.param(d.data,d.traditional)),qn(Hn,d,n,T),l)return T;c=g.event&&d.global,c&&0===g.active++&&g.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Dn.test(d.type),s=d.url.replace(An,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Ln,"+")):(p=d.url.slice(s.length),d.data&&(s+=(Sn.test(s)?"&":"?")+d.data,delete d.data),d.cache===!1&&(s=s.replace(On,"$1"),p=(Sn.test(s)?"&":"?")+"_="+En++ +p),d.url=s+p),d.ifModified&&(g.lastModified[s]&&T.setRequestHeader("If-Modified-Since",g.lastModified[s]),g.etag[s]&&T.setRequestHeader("If-None-Match",g.etag[s])),(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&T.setRequestHeader("Content-Type",d.contentType),T.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+jn+"; q=0.01":""):d.accepts["*"]);for(h in d.headers)T.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(d.beforeSend.call(v,T,d)===!1||l))return T.abort();if(x="abort",b.add(d.complete),T.done(d.success),T.fail(d.error),i=qn(Bn,d,n,T)){if(T.readyState=1,c&&m.trigger("ajaxSend",[T,d]),l)return T;d.async&&d.timeout>0&&(a=e.setTimeout(function(){T.abort("timeout")},d.timeout));try{l=!1,i.send(E,C)}catch(N){if(l)throw N;C(-1,N)}}else C(-1,"No Transport");return T},getJSON:function(e,t,n){return g.get(e,t,n,"json")},getScript:function(e,t){return g.get(e,void 0,t,"script")}}),g.each(["get","post"],function(e,t){g[t]=function(e,n,r,i){return g.isFunction(n)&&(i=i||r,r=n,n=void 0),g.ajax(g.extend({url:e,type:t,dataType:i,data:n,success:r},g.isPlainObject(e)&&e))}}),g._evalUrl=function(e){return g.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},g.fn.extend({wrapAll:function(e){var t;return this[0]&&(g.isFunction(e)&&(e=e.call(this[0])),t=g(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return g.isFunction(e)?this.each(function(t){g(this).wrapInner(e.call(this,t))}):this.each(function(){var t=g(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=g.isFunction(e);return this.each(function(n){g(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){g(this).replaceWith(this.childNodes)}),this}}),g.expr.pseudos.hidden=function(e){return!g.expr.pseudos.visible(e)},g.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},g.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Wn={0:200,1223:204},Xn=g.ajaxSettings.xhr();d.cors=!!Xn&&"withCredentials"in Xn,d.ajax=Xn=!!Xn,g.ajaxTransport(function(t){var n,r;if(d.cors||Xn&&!t.crossDomain)return{send:function(i,s){var o,u=t.xhr();if(u.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)u[o]=t.xhrFields[o];t.mimeType&&u.overrideMimeType&&u.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(o in i)u.setRequestHeader(o,i[o]);n=function(e){return function(){n&&(n=r=u.onload=u.onerror=u.onabort=u.onreadystatechange=null,"abort"===e?u.abort():"error"===e?"number"!=typeof u.status?s(0,"error"):s(u.status,u.statusText):s(Wn[u.status]||u.status,u.statusText,"text"!==(u.responseType||"text")||"string"!=typeof u.responseText?{binary:u.response}:{text:u.responseText},u.getAllResponseHeaders()))}},u.onload=n(),r=u.onerror=n("error"),void 0!==u.onabort?u.onabort=r:u.onreadystatechange=function(){4===u.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{u.send(t.hasContent&&t.data||null)}catch(a){if(n)throw a}},abort:function(){n&&n()}}}),g.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return g.globalEval(e),e}}}),g.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),g.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,s){t=g("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&s("error"===e.type?404:200,e.type)}),r.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Vn=[],$n=/(=)\?(?=&|$)|\?\?/;g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Vn.pop()||g.expando+"_"+En++;return this[e]=!0,e}}),g.ajaxPrefilter("json jsonp",function(t,n,r){var i,s,o,u=t.jsonp!==!1&&($n.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&$n.test(t.data)&&"data");if(u||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=g.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,u?t[u]=t[u].replace($n,"$1"+i):t.jsonp!==!1&&(t.url+=(Sn.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||g.error(i+" was not called"),o[0]},t.dataTypes[0]="json",s=e[i],e[i]=function(){o=arguments},r.always(function(){void 0===s?g(e).removeProp(i):e[i]=s,t[i]&&(t.jsonpCallback=n.jsonpCallback,Vn.push(i)),o&&g.isFunction(s)&&s(o[0]),o=s=void 0}),"script"}),d.createHTMLDocument=function(){var e=r.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),g.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var i,s,o;return t||(d.createHTMLDocument?(t=r.implementation.createHTMLDocument(""),i=t.createElement("base"),i.href=r.location.href,t.head.appendChild(i)):t=r),s=L.exec(e),o=!n&&[],s?[t.createElement(s[1])]:(s=mt([e],t,o),o&&o.length&&g(o).remove(),g.merge([],s.childNodes))},g.fn.load=function(e,t,n){var r,i,s,o=this,u=e.indexOf(" ");return u>-1&&(r=mn(e.slice(u)),e=e.slice(0,u)),g.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),o.length>0&&g.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){s=arguments,o.html(r?g("<div>").append(g.parseHTML(e)).find(r):e)}).always(n&&function(e,t){o.each(function(){n.apply(this,s||[e.responseText,t,e])})}),this},g.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){g.fn[t]=function(e){return this.on(t,e)}}),g.expr.pseudos.animated=function(e){return g.grep(g.timers,function(t){return e===t.elem}).length},g.offset={setOffset:function(e,t,n){var r,i,s,o,u,a,f,l=g.css(e,"position"),c=g(e),h={};"static"===l&&(e.style.position="relative"),u=c.offset(),s=g.css(e,"top"),a=g.css(e,"left"),f=("absolute"===l||"fixed"===l)&&(s+a).indexOf("auto")>-1,f?(r=c.position(),o=r.top,i=r.left):(o=parseFloat(s)||0,i=parseFloat(a)||0),g.isFunction(t)&&(t=t.call(e,n,g.extend({},u))),null!=t.top&&(h.top=t.top-u.top+o),null!=t.left&&(h.left=t.left-u.left+i),"using"in t?t.using.call(e,h):c.css(h)}},g.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){g.offset.setOffset(this,e,t)});var t,n,r,i,s=this[0];if(s)return s.getClientRects().length?(r=s.getBoundingClientRect(),t=s.ownerDocument,n=t.documentElement,i=t.defaultView,{top:r.top+i.pageYOffset-n.clientTop,left:r.left+i.pageXOffset-n.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===g.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),k(e[0],"html")||(r=e.offset()),r={top:r.top+g.css(e[0],"borderTopWidth",!0),left:r.left+g.css(e[0],"borderLeftWidth",!0)}),{top:t.top-r.top-g.css(n,"marginTop",!0),left:t.left-r.left-g.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===g.css(e,"position"))e=e.offsetParent;return e||gt})}}),g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;g.fn[e]=function(r){return X(this,function(e,r,i){var s;return g.isWindow(e)?s=e:9===e.nodeType&&(s=e.defaultView),void 0===i?s?s[t]:e[r]:void (s?s.scrollTo(n?s.pageXOffset:i,n?i:s.pageYOffset):e[r]=i)},e,r,arguments.length)}}),g.each(["top","left"],function(e,t){g.cssHooks[t]=Rt(d.pixelPosition,function(e,n){if(n)return n=qt(e,t),Ft.test(n)?g(e).position()[t]+"px":n})}),g.each({Height:"height",Width:"width"},function(e,t){g.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){g.fn[r]=function(i,s){var o=arguments.length&&(n||"boolean"!=typeof i),u=n||(i===!0||s===!0?"margin":"border");return X(this,function(t,n,i){var s;return g.isWindow(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===i?g.css(t,n,u):g.style(t,n,i,u)},t,o?i:void 0,o)}})}),g.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),g.holdReady=function(e){e?g.readyWait++:g.ready(!0)},g.isArray=Array.isArray,g.parseJSON=JSON.parse,g.nodeName=k,"function"==typeof define&&define.amd&&define("jquery",[],function(){return g});var Jn=e.jQuery,Kn=e.$;return g.noConflict=function(t){return e.$===g&&(e.$=Kn),t&&e.jQuery===g&&(e.jQuery=Jn),g},t||(e.jQuery=e.$=g),g}),String.format||(String.format=function(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,function(e,n){return typeof t[n]!="undefined"?t[n]:e})});var MyCookieJS=new TMyCookieJS;MYCOOKIEJS_BASEURL="",define("mycookie",function(){}),function(e){function c(e,t){if(!t||typeof t=="function")return e;for(var n in t)e[n]=t[n];return e}function h(e,t){for(var n in t)n in e?h(e[n],t[n]):e[n]=t[n];return e}function p(e,t,n){var r,i=0,s=e.length,o=s===undefined||Object.prototype.toString.apply(e)!=="[object Array]"||typeof e=="function";if(n){if(o){for(r in e)if(t.apply(e[r],n)===!1)break}else for(;i<s;)if(t.apply(e[i++],n)===!1)break}else if(o){for(r in e)if(t.call(e[r],r,e[r])===!1)break}else for(;i<s;)if(t.call(e[i],i,e[i++])===!1)break;return e}function v(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,function(e){return d[e]}):e}function m(e){var t=function(e){if(window.XMLHttpRequest)return e(null,new XMLHttpRequest);if(window.ActiveXObject)try{return e(null,new ActiveXObject("Msxml2.XMLHTTP"))}catch(t){return e(null,new ActiveXObject("Microsoft.XMLHTTP"))}return e(new Error)},n=function(e){if(typeof e=="string")return e;var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},r=function(e){e=e.replace(/\r\n/g,"\n");var t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(r&63|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(r&63|128))}return t},i=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e=r(e);var n="",i,s,o,u,a,f,l,c=0;do i=e.charCodeAt(c++),s=e.charCodeAt(c++),o=e.charCodeAt(c++),u=i>>2,a=(i&3)<<4|s>>4,f=(s&15)<<2|o>>6,l=o&63,isNaN(s)?f=l=64:isNaN(o)&&(l=64),n+=t.charAt(u)+t.charAt(a)+t.charAt(f)+t.charAt(l),i=s=o="",u=a=f=l="";while(c<e.length);return n},s=function(){var e=arguments[0];for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e},o=function(e,r,i,u){typeof i=="function"&&(u=i,i={}),i.cache=i.cache||!1,i.data=i.data||{},i.headers=i.headers||{},i.jsonp=i.jsonp||!1,i.async=i.async===undefined?!0:i.async;var a=s({accept:"*/*","content-type":"application/x-www-form-urlencoded;charset=UTF-8"},o.headers,i.headers),f;a["content-type"]==="application/json"?f=JSON.stringify(i.data):f=n(i.data);if(e==="GET"){var l=[];f&&(l.push(f),f=null),i.cache||l.push("_="+(new Date).getTime()),i.jsonp&&(l.push("callback="+i.jsonp),l.push("jsonp="+i.jsonp)),l=l.join("&"),l.length>1&&(r.indexOf("?")>-1?r+="&"+l:r+="?"+l);if(i.jsonp){var c=document.getElementsByTagName("head")[0],h=document.createElement("script");h.type="text/javascript",h.src=r,c.appendChild(h);return}}t(function(t,n){if(t)return u(t);n.open(e,r,i.async);for(var s in a)a.hasOwnProperty(s)&&n.setRequestHeader(s,a[s]);n.onreadystatechange=function(){if(n.readyState===4){var e=n.responseText||"";if(!u)return;u(n.status,{text:function(){return e},json:function(){try{return JSON.parse(e)}catch(t){return b.error("Can not parse JSON. URL: "+r),{}}}})}},n.send(f)})},u={authBasic:function(e,t){o.headers.Authorization="Basic "+i(e+":"+t)},connect:function(e,t,n){return o("CONNECT",e,t,n)},del:function(e,t,n){return o("DELETE",e,t,n)},get:function(e,t,n){return o("GET",e,t,n)},head:function(e,t,n){return o("HEAD",e,t,n)},headers:function(e){o.headers=e||{}},isAllowed:function(e,t,n){this.options(e,function(e,r){n(r.text().indexOf(t)!==-1)})},options:function(e,t,n){return o("OPTIONS",e,t,n)},patch:function(e,t,n){return o("PATCH",e,t,n)},post:function(e,t,n){return o("POST",e,t,n)},put:function(e,t,n){return o("PUT",e,t,n)},trace:function(e,t,n){return o("TRACE",e,t,n)}},a=e.type?e.type.toLowerCase():"get";u[a](e.url,e,function(t,n){t===200||t===0&&n.text()?e.success(n.json(),t,null):e.error(n.text(),t,null)})}function w(e,s){typeof e=="function"&&(s=e,e={}),e=e||{},b.extend(l,e),delete l.fixLng,l.functions&&(delete l.functions,b.extend(b,e.functions)),typeof l.ns=="string"&&(l.ns={namespaces:[l.ns],defaultNs:l.ns}),typeof l.fallbackNS=="string"&&(l.fallbackNS=[l.fallbackNS]);if(typeof l.fallbackLng=="string"||typeof l.fallbackLng=="boolean")l.fallbackLng=[l.fallbackLng];l.interpolationPrefixEscaped=b.regexEscape(l.interpolationPrefix),l.interpolationSuffixEscaped=b.regexEscape(l.interpolationSuffix),l.lng||(l.lng=b.detectLanguage()),o=b.toLanguages(l.lng),i=o[0],b.log("currentLng set to: "+i),l.useCookie&&b.cookie.read(l.cookieName)!==i&&b.cookie.create(l.cookieName,i,l.cookieExpirationTime,l.cookieDomain),l.detectLngFromLocalStorage&&typeof document!="undefined"&&window.localStorage&&b.localStorage.setItem("i18next_lng",i);var a=z;e.fixLng&&(a=function(e,t){return t=t||{},t.lng=t.lng||a.lng,z(e,t)},a.lng=i),G.setCurrentLng(i),t&&l.setJqueryExt&&B();var f;t&&t.Deferred&&(f=t.Deferred());if(l.resStore){r=l.resStore,u=!0,s&&s(a),f&&f.resolve(a);if(f)return f.promise();return}var c=b.toLanguages(l.lng);typeof l.preload=="string"&&(l.preload=[l.preload]);for(var h=0,p=l.preload.length;h<p;h++){var d=b.toLanguages(l.preload[h]);for(var v=0,m=d.length;v<m;v++)c.indexOf(d[v])<0&&c.push(d[v])}n.sync.load(c,l,function(e,t){r=t,u=!0,s&&s(a),f&&f.resolve(a)});if(f)return f.promise()}function E(){return u}function S(e,t){typeof e=="string"&&(e=[e]);for(var n=0,r=e.length;n<r;n++)l.preload.indexOf(e[n])<0&&l.preload.push(e[n]);return w(t)}function x(e,t,n,i){typeof t!="string"?(n=t,t=l.ns.defaultNs):l.ns.namespaces.indexOf(t)<0&&l.ns.namespaces.push(t),r[e]=r[e]||{},r[e][t]=r[e][t]||{},i?b.deepExtend(r[e][t],n):b.extend(r[e][t],n),l.useLocalStorage&&a._storeLocal(r)}function T(e,t){typeof t!="string"&&(t=l.ns.defaultNs),r[e]=r[e]||{};var n=r[e][t]||{},i=!1;for(var s in n)n.hasOwnProperty(s)&&(i=!0);return i}function N(e,t){return typeof t!="string"&&(t=l.ns.defaultNs),r[e]=r[e]||{},b.extend({},r[e][t])}function C(e,t){typeof t!="string"&&(t=l.ns.defaultNs),r[e]=r[e]||{},r[e][t]={},l.useLocalStorage&&a._storeLocal(r)}function k(e,t,n,i){typeof t!="string"?(resource=t,t=l.ns.defaultNs):l.ns.namespaces.indexOf(t)<0&&l.ns.namespaces.push(t),r[e]=r[e]||{},r[e][t]=r[e][t]||{};var s=n.split(l.keyseparator),o=0,u=r[e][t],f=u;while(s[o])o==s.length-1?u[s[o]]=i:(u[s[o]]==null&&(u[s[o]]={}),u=u[s[o]]),o++;l.useLocalStorage&&a._storeLocal(r)}function L(e,t,n){typeof t!="string"?(resource=t,t=l.ns.defaultNs):l.ns.namespaces.indexOf(t)<0&&l.ns.namespaces.push(t);for(var r in n)typeof n[r]=="string"&&k(e,t,r,n[r])}function A(e){l.ns.defaultNs=e}function O(e,t){M([e],t)}function M(e,t){var i={dynamicLoad:l.dynamicLoad,resGetPath:l.resGetPath,getAsync:l.getAsync,customLoad:l.customLoad,ns:{namespaces:e,defaultNs:""}},s=b.toLanguages(l.lng);typeof l.preload=="string"&&(l.preload=[l.preload]);for(var o=0,u=l.preload.length;o<u;o++){var a=b.toLanguages(l.preload[o]);for(var f=0,c=a.length;f<c;f++)s.indexOf(a[f])<0&&s.push(a[f])}var h=[];for(var p=0,d=s.length;p<d;p++){var v=!1,m=r[s[p]];if(m)for(var g=0,y=e.length;g<y;g++)m[e[g]]||(v=!0);else v=!0;v&&h.push(s[p])}h.length?n.sync._fetch(h,i,function(i,s){var o=e.length*h.length;b.each(e,function(e,i){l.ns.namespaces.indexOf(i)<0&&l.ns.namespaces.push(i),b.each(h,function(e,u){r[u]=r[u]||{},r[u][i]=s[u][i],o--,o===0&&t&&(l.useLocalStorage&&n.sync._storeLocal(r),t())})})}):t&&t()}function _(e,t,n){return typeof t=="function"?(n=t,t={}):t||(t={}),t.lng=e,w(t,n)}function D(){return i}function P(e){r={},_(i,e)}function H(){window.i18next=window.i18n,f?window.i18n=f:delete window.i18n}function B(){function e(e,n,r){if(n.length===0)return;var i="text";if(n.indexOf("[")===0){var s=n.split("]");n=s[1],i=s[0].substr(1,s[0].length-1)}n.indexOf(";")===n.length-1&&(n=n.substr(0,n.length-2));var o;if(i==="html")o=l.defaultValueFromContent?t.extend({defaultValue:e.html()},r):r,e.html(t.t(n,o));else if(i==="text")o=l.defaultValueFromContent?t.extend({defaultValue:e.text()},r):r,e.text(t.t(n,o));else if(i==="prepend")o=l.defaultValueFromContent?t.extend({defaultValue:e.html()},r):r,e.prepend(t.t(n,o));else if(i==="append")o=l.defaultValueFromContent?t.extend({defaultValue:e.html()},r):r,e.append(t.t(n,o));else if(i.indexOf("data-")===0){var u=i.substr("data-".length);o=l.defaultValueFromContent?t.extend({defaultValue:e.data(u)},r):r;var a=t.t(n,o);e.data(u,a),e.attr(i,a)}else o=l.defaultValueFromContent?t.extend({defaultValue:e.attr(i)},r):r,e.attr(i,t.t(n,o))}function n(n,r){var i=n.attr(l.selectorAttr);!i&&typeof i!="undefined"&&i!==!1&&(i=n.text()||n.val());if(!i)return;var s=n,o=n.data("i18n-target");o&&(s=n.find(o)||n),!r&&l.useDataAttrOptions===!0&&(r=n.data("i18n-options")),r=r||{};if(i.indexOf(";")>=0){var u=i.split(";");t.each(u,function(t,n){n!==""&&e(s,n,r)})}else e(s,i,r);l.useDataAttrOptions===!0&&n.data("i18n-options",r)}t.t=t.t||z,t.fn.i18n=function(e){return this.each(function(){n(t(this),e);var r=t(this).find("["+l.selectorAttr+"]");r.each(function(){n(t(this),e)})})}}function j(e,t,n,r){if(!e)return e;r=r||t;if(e.indexOf(r.interpolationPrefix||l.interpolationPrefix)<0)return e;var i=r.interpolationPrefix?b.regexEscape(r.interpolationPrefix):l.interpolationPrefixEscaped,s=r.interpolationSuffix?b.regexEscape(r.interpolationSuffix):l.interpolationSuffixEscaped,o="HTML"+s,u=t.replace&&typeof t.replace=="object"?t.replace:t;return b.each(u,function(t,u){var a=n?n+l.keyseparator+t:t;typeof u=="object"&&u!==null?e=j(e,u,a,r):r.escapeInterpolation||l.escapeInterpolation?(e=e.replace(new RegExp([i,a,o].join(""),"g"),b.regexReplacementEscape(u)),e=e.replace(new RegExp([i,a,s].join(""),"g"),b.regexReplacementEscape(b.escape(u)))):e=e.replace(new RegExp([i,a,s].join(""),"g"),b.regexReplacementEscape(u))}),e}function F(e,t){var n=",",r="{",i="}",o=b.extend({},t);delete o.postProcess;while(e.indexOf(l.reusePrefix)!=-1){s++;if(s>l.maxRecursion)break;var u=e.lastIndexOf(l.reusePrefix),a=e.indexOf(l.reuseSuffix,u)+l.reuseSuffix.length,f=e.substring(u,a),c=f.replace(l.reusePrefix,"").replace(l.reuseSuffix,"");if(a<=u)return b.error("there is an missing closing in following translation value",e),"";if(c.indexOf(n)!=-1){var h=c.indexOf(n);if(c.indexOf(r,h)!=-1&&c.indexOf(i,h)!=-1){var p=c.indexOf(r,h),d=c.indexOf(i,p)+i.length;try{o=b.extend(o,JSON.parse(c.substring(p,d))),c=c.substring(0,h)}catch(v){}}}var m=V(c,o);e=e.replace(f,b.regexReplacementEscape(m))}return e}function I(e){return e.context&&(typeof e.context=="string"||typeof e.context=="number")}function q(e,t){return e.count!==undefined&&typeof e.count!="string"}function R(e){return e.indefinite_article!==undefined&&typeof e.indefinite_article!="string"&&e.indefinite_article}function U(e,t){t=t||{};var n=W(e,t),r=$(e,t);return r!==undefined||r===n}function z(e,t){return t=t||{},u?(s=0,V.apply(null,arguments)):(b.log("i18next not finished initialization. you might have called t function before loading resources finished."),t.defaultValue||"")}function W(e,t){return t.defaultValue!==undefined?t.defaultValue:e}function X(){var e=[];for(var t=1;t<arguments.length;t++)e.push(arguments[t]);return{postProcess:"sprintf",sprintf:e}}function V(e,t){t&&typeof t!="object"?l.shortcutFunction==="sprintf"?t=X.apply(null,arguments):l.shortcutFunction==="defaultValue"&&(t={defaultValue:t}):t=t||{},typeof l.defaultVariables=="object"&&(t=b.extend({},l.defaultVariables,t));if(e===undefined||e===null||e==="")return"";typeof e=="number"&&(e=String(e)),typeof e=="string"&&(e=[e]);var n=e[0];if(e.length>1)for(var r=0;r<e.length;r++){n=e[r];if(U(n,t))break}var i=W(n,t),s=$(n,t),u=t.lng?b.toLanguages(t.lng,t.fallbackLng):o,a=t.ns||l.ns.defaultNs,f;n.indexOf(l.nsseparator)>-1&&(f=n.split(l.nsseparator),a=f[0],n=f[1]),s===undefined&&l.sendMissing&&typeof l.missingKeyHandler=="function"&&(t.lng?l.missingKeyHandler(u[0],a,n,i,u):l.missingKeyHandler(l.lng,a,n,i,u));var c;typeof l.postProcess=="string"&&l.postProcess!==""?c=[l.postProcess]:typeof l.postProcess=="array"||typeof l.postProcess=="object"?c=l.postProcess:c=[];if(typeof t.postProcess=="string"&&t.postProcess!=="")c=c.concat([t.postProcess]);else if(typeof t.postProcess=="array"||typeof t.postProcess=="object")c=c.concat(t.postProcess);s!==undefined&&c.length&&c.forEach(function(e){Y[e]&&(s=Y[e](s,n,t))});var h=i;i.indexOf(l.nsseparator)>-1&&(f=i.split(l.nsseparator),h=f[1]),h===n&&l.parseMissingKey&&(i=l.parseMissingKey(i));if(s===undefined){i=j(i,t),i=F(i,t);if(c.length){var p=W(n,t);c.forEach(function(e){Y[e]&&(s=Y[e](p,n,t))})}}return s!==undefined?s:i}function $(e,t){t=t||{};var i,s,u=W(e,t),a=o;if(!r)return u;if(a[0].toLowerCase()==="cimode")return u;t.lngs&&(a=t.lngs);if(t.lng){a=b.toLanguages(t.lng,t.fallbackLng);if(!r[a[0]]){var f=l.getAsync;l.getAsync=!1,n.sync.load(a,l,function(e,t){b.extend(r,t),l.getAsync=f})}}var c=t.ns||l.ns.defaultNs;if(e.indexOf(l.nsseparator)>-1){var h=e.split(l.nsseparator);c=h[0],e=h[1]}if(I(t)){i=b.extend({},t),delete i.context,i.defaultValue=l.contextNotFound;var p=c+l.nsseparator+e+"_"+t.context;s=z(p,i);if(s!=l.contextNotFound)return j(s,{context:t.context})}if(q(t,a[0])){i=b.extend({lngs:[a[0]]},t),delete i.count,i._origLng=i._origLng||i.lng||a[0],delete i.lng,i.defaultValue=l.pluralNotFound;var d;if(!G.needsPlural(a[0],t.count))d=c+l.nsseparator+e;else{d=c+l.nsseparator+e+l.pluralSuffix;var v=G.get(a[0],t.count);v>=0?d=d+"_"+v:v===1&&(d=c+l.nsseparator+e)}s=z(d,i);if(s!=l.pluralNotFound)return j(s,{count:t.count,interpolationPrefix:t.interpolationPrefix,interpolationSuffix:t.interpolationSuffix});if(!(a.length>1))return i.lng=i._origLng,delete i._origLng,s=z(c+l.nsseparator+e,i),j(s,{count:t.count,interpolationPrefix:t.interpolationPrefix,interpolationSuffix:t.interpolationSuffix});var m=a.slice();m.shift(),t=b.extend(t,{lngs:m}),t._origLng=i._origLng,delete t.lng,s=z(c+l.nsseparator+e,t);if(s!=l.pluralNotFound)return s}if(R(t)){var g=b.extend({},t);delete g.indefinite_article,g.defaultValue=l.indefiniteNotFound;var y=c+l.nsseparator+e+(t.count&&!q(t,a[0])||!t.count?l.indefiniteSuffix:"");s=z(y,g);if(s!=l.indefiniteNotFound)return s}var w,E=e.split(l.keyseparator);for(var S=0,x=a.length;S<x;S++){if(w!==undefined)break;var T=a[S],N=0,C=r[T]&&r[T][c];while(E[N])C=C&&C[E[N]],N++;if(C!==undefined&&(!l.showKeyIfEmpty||C!=="")){var k=Object.prototype.toString.apply(C);if(typeof C=="string")C=j(C,t),C=F(C,t);else if(k==="[object Array]"&&!l.returnObjectTrees&&!t.returnObjectTrees)C=C.join("\n"),C=j(C,t),C=F(C,t);else if(C===null&&l.fallbackOnNull===!0)C=undefined;else if(C!==null)if(!l.returnObjectTrees&&!t.returnObjectTrees)l.objectTreeKeyHandler&&typeof l.objectTreeKeyHandler=="function"?C=l.objectTreeKeyHandler(e,C,T,c,t):(C="key '"+c+":"+e+" ("+T+")' "+"returned an object instead of string.",b.log(C));else if(k!=="[object Number]"&&k!=="[object Function]"&&k!=="[object RegExp]"){var L=k==="[object Array]"?[]:{};b.each(C,function(n){L[n]=V(c+l.nsseparator+e+l.keyseparator+n,t)}),C=L}typeof C=="string"&&C.trim()===""&&l.fallbackOnEmpty===!0&&(C=undefined),w=C}}if(w===undefined&&!t.isFallbackLookup&&(l.fallbackToDefaultNS===!0||l.fallbackNS&&l.fallbackNS.length>0)){t.isFallbackLookup=!0;if(l.fallbackNS.length)for(var A=0,O=l.fallbackNS.length;A<O;A++){w=$(l.fallbackNS[A]+l.nsseparator+e,t);if(w||w===""&&l.fallbackOnEmpty===!1){var M=w.indexOf(l.nsseparator)>-1?w.split(l.nsseparator)[1]:w,_=u.indexOf(l.nsseparator)>-1?u.split(l.nsseparator)[1]:u;if(M!==_)break}}else t.ns=l.ns.defaultNs,w=$(e,t);t.isFallbackLookup=!1}return w}function J(){var e,t=l.lngWhitelist||[],n=[],r=[];typeof window!="undefined"&&function(){var e=window.location.search.substring(1),t=e.split("&");for(var r=0;r<t.length;r++){var i=t[r].indexOf("=");if(i>0){var s=t[r].substring(0,i);s==l.detectLngQS&&n.push(t[r].substring(i+1))}}}();if(l.useCookie&&typeof document!="undefined"){var i=b.cookie.read(l.cookieName);i&&n.push(i)}if(l.detectLngFromLocalStorage&&typeof window!="undefined"&&window.localStorage){var s=b.localStorage.getItem("i18next_lng");s&&n.push(s)}if(typeof navigator!="undefined"){if(navigator.languages)for(var o=0;o<navigator.languages.length;o++)n.push(navigator.languages[o]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return function(){for(var r=0;r<n.length;r++){var i=n[r];if(i.indexOf("-")>-1){var s=i.split("-");i=l.lowerCaseLng?s[0].toLowerCase()+"-"+s[1].toLowerCase():s[0].toLowerCase()+"-"+s[1].toUpperCase()}if(t.length===0||t.indexOf(i)>-1){e=i;break}}}(),e||(e=l.fallbackLng[0]),e}Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(this==null)throw new TypeError;var t=Object(this),n=t.length>>>0;if(n===0)return-1;var r=0;arguments.length>0&&(r=Number(arguments[1]),r!=r?r=0:r!=0&&r!=Infinity&&r!=-Infinity&&(r=(r>0||-1)*Math.floor(Math.abs(r))));if(r>=n)return-1;var i=r>=0?r:Math.max(n-Math.abs(r),0);for(;i<n;i++)if(i in t&&t[i]===e)return i;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(e){if(this==null)throw new TypeError;var t=Object(this),n=t.length>>>0;if(n===0)return-1;var r=n;arguments.length>1&&(r=Number(arguments[1]),r!=r?r=0:r!=0&&r!=1/0&&r!=-(1/0)&&(r=(r>0||-1)*Math.floor(Math.abs(r))));var i=r>=0?Math.min(r,n-1):n-Math.abs(r);for(;i>=0;i--)if(i in t&&t[i]===e)return i;return-1}),typeof String.prototype.trim!="function"&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var t=e.jQuery||e.Zepto,n={},r={},i,s=0,o=[],u=!1,a={},f=null;typeof module!="undefined"&&module.exports?module.exports=n:(t&&(t.i18n=t.i18n||n),e.i18n&&(f=e.i18n),e.i18n=n),a={load:function(e,t,n){t.useLocalStorage?a._loadLocal(e,t,function(r,i){var s=[];for(var o=0,u=e.length;o<u;o++)i[e[o]]||s.push(e[o]);s.length>0?a._fetch(s,t,function(e,t){b.extend(i,t),a._storeLocal(t),n(null,i)}):n(null,i)}):a._fetch(e,t,function(e,t){n(null,t)})},_loadLocal:function(e,t,n){var r={},i=(new Date).getTime();if(window.localStorage){var s=e.length;b.each(e,function(e,o){var u=b.localStorage.getItem("res_"+o);u&&(u=JSON.parse(u),u.i18nStamp&&u.i18nStamp+t.localStorageExpirationTime>i&&(r[o]=u)),s--,s===0&&n(null,r)})}},_storeLocal:function(e){if(window.localStorage)for(var t in e)e[t].i18nStamp=(new Date).getTime(),b.localStorage.setItem("res_"+t,JSON.stringify(e[t]));return},_fetch:function(e,t,n){var r=t.ns,i={};if(!t.dynamicLoad){var s=r.namespaces.length*e.length,o;b.each(r.namespaces,function(r,u){b.each(e,function(e,r){var f=function(e,t){e&&(o=o||[],o.push(e)),i[r]=i[r]||{},i[r][u]=t,s--,s===0&&n(o,i)};typeof t.customLoad=="function"?t.customLoad(r,u,t,f):a._fetchOne(r,u,t,f)})})}else{var u=function(e,t){n(null,t)};if(typeof t.customLoad=="function")t.customLoad(e,r.namespaces,t,u);else{var f=j(t.resGetPath,{lng:e.join("+"),ns:r.namespaces.join("+")});b.ajax({url:f,cache:t.cache,success:function(e,t,n){b.log("loaded: "+f),u(null,e)},error:function(e,t,n){b.log("failed loading: "+f),u("failed loading resource.json error: "+n)},dataType:"json",async:t.getAsync,timeout:t.ajaxTimeout})}}},_fetchOne:function(e,t,n,r){var i=j(n.resGetPath,{lng:e,ns:t});b.ajax({url:i,cache:n.cache,success:function(e,t,n){b.log("loaded: "+i),r(null,e)},error:function(e,t,n){if(t&&t==200||e&&e.status&&e.status==200)b.error("There is a typo in: "+i);else if(t&&t==404||e&&e.status&&e.status==404)b.log("Does not exist: "+i);else{var s=t?t:e&&e.status?e.status:null;b.log(s+" when loading "+i)}r(n,{})},dataType:"json",async:n.getAsync,timeout:n.ajaxTimeout})},postMissing:function(e,t,n,i,s){var o={};o[n]=i;var u=[];if(l.sendMissingTo==="fallback"&&l.fallbackLng[0]!==!1)for(var a=0;a<l.fallbackLng.length;a++)u.push({lng:l.fallbackLng[a],url:j(l.resPostPath,{lng:l.fallbackLng[a],ns:t})});else if(l.sendMissingTo==="current"||l.sendMissingTo==="fallback"&&l.fallbackLng[0]===!1)u.push({lng:e,url:j(l.resPostPath,{lng:e,ns:t})});else if(l.sendMissingTo==="all")for(var a=0,f=s.length;a<f;a++)u.push({lng:s[a],url:j(l.resPostPath,{lng:s[a],ns:t})});for(var c=0,h=u.length;c<h;c++){var p=u[c];b.ajax({url:p.url,type:l.sendType,data:o,success:function(e,s,o){b.log("posted missing key '"+n+"' to: "+p.url);var u=n.split("."),a=0,f=r[p.lng][t];while(u[a])a===u.length-1?f=f[u[a]]=i:f=f[u[a]]=f[u[a]]||{},a++},error:function(e,t,r){b.log("failed posting missing key '"+n+"' to: "+p.url)},dataType:"json",async:l.postAsync,timeout:l.ajaxTimeout})}},reload:P};var l={lng:undefined,load:"all",preload:[],lowerCaseLng:!1,returnObjectTrees:!1,fallbackLng:["dev"],fallbackNS:[],detectLngQS:"setLng",detectLngFromLocalStorage:!1,ns:{namespaces:["translation"],defaultNs:"translation"},fallbackOnNull:!0,fallbackOnEmpty:!1,fallbackToDefaultNS:!1,showKeyIfEmpty:!1,nsseparator:":",keyseparator:".",selectorAttr:"data-i18n",debug:!1,resGetPath:"locales/__lng__/__ns__.json",resPostPath:"locales/add/__lng__/__ns__",getAsync:!0,postAsync:!0,resStore:undefined,useLocalStorage:!1,localStorageExpirationTime:6048e5,dynamicLoad:!1,sendMissing:!1,sendMissingTo:"fallback",sendType:"POST",interpolationPrefix:"__",interpolationSuffix:"__",defaultVariables:!1,reusePrefix:"$t(",reuseSuffix:")",pluralSuffix:"_plural",pluralNotFound:["plural_not_found",Math.random()].join(""),contextNotFound:["context_not_found",Math.random()].join(""),escapeInterpolation:!1,indefiniteSuffix:"_indefinite",indefiniteNotFound:["indefinite_not_found",Math.random()].join(""),setJqueryExt:!0,defaultValueFromContent:!0,useDataAttrOptions:!1,cookieExpirationTime:undefined,useCookie:!0,cookieName:"i18next",cookieDomain:undefined,objectTreeKeyHandler:undefined,postProcess:undefined,parseMissingKey:undefined,missingKeyHandler:a.postMissing,ajaxTimeout:0,shortcutFunction:"sprintf"},d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},g={create:function(e,t,n,r){var i;if(n){var s=new Date;s.setTime(s.getTime()+n*60*1e3),i="; expires="+s.toGMTString()}else i="";r=r?"domain="+r+";":"",document.cookie=e+"="+t+i+";"+r+"path=/"},read:function(e){var t=e+"=",n=document.cookie.split(";");for(var r=0;r<n.length;r++){var i=n[r];while(i.charAt(0)==" ")i=i.substring(1,i.length);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}return null},remove:function(e){this.create(e,"",-1)}},y={create:function(e,t,n,r){},read:function(e){return null},remove:function(e){}},b={extend:t?t.extend:c,deepExtend:h,each:t?t.each:p,ajax:t?t.ajax:typeof document!="undefined"?m:function(){},cookie:typeof document!="undefined"?g:y,detectLanguage:J,escape:v,log:function(e){l.debug&&typeof console!="undefined"&&console.log(e)},error:function(e){typeof console!="undefined"&&console.error(e)},getCountyIndexOfLng:function(e){var t=0;if(e==="nb-NO"||e==="nn-NO"||e==="nb-no"||e==="nn-no")t=1;return t},toLanguages:function(e){function n(e){var t=e;if(typeof e=="string"&&e.indexOf("-")>-1){var n=e.split("-");t=l.lowerCaseLng?n[0].toLowerCase()+"-"+n[1].toLowerCase():n[0].toLowerCase()+"-"+n[1].toUpperCase()}else t=l.lowerCaseLng?e.toLowerCase():e;return t}var t=this.log,r=[],i=l.lngWhitelist||!1,s=function(e){!i||i.indexOf(e)>-1?r.push(e):t("rejecting non-whitelisted language: "+e)};if(typeof e=="string"&&e.indexOf("-")>-1){var o=e.split("-");l.load!=="unspecific"&&s(n(e)),l.load!=="current"&&s(n(o[this.getCountyIndexOfLng(e)]))}else s(n(e));for(var u=0;u<l.fallbackLng.length;u++)r.indexOf(l.fallbackLng[u])===-1&&l.fallbackLng[u]&&r.push(n(l.fallbackLng[u]));return r},regexEscape:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},regexReplacementEscape:function(e){return typeof e=="string"?e.replace(/\$/g,"$$$$"):e},localStorage:{setItem:function(e,t){if(window.localStorage)try{window.localStorage.setItem(e,t)}catch(n){b.log('failed to set value for key "'+e+'" to localStorage.')}},getItem:function(e,t){if(window.localStorage)try{return window.localStorage.getItem(e,t)}catch(n){return b.log('failed to get value for key "'+e+'" from localStorage.'),undefined}}}};b.applyReplacement=j;var K=[["ach","Acholi",[1,2],1],["af","Afrikaans",[1,2],2],["ak","Akan",[1,2],1],["am","Amharic",[1,2],1],["an","Aragonese",[1,2],2],["ar","Arabic",[0,1,2,3,11,100],5],["arn","Mapudungun",[1,2],1],["ast","Asturian",[1,2],2],["ay","AymarÃ¡",[1],3],["az","Azerbaijani",[1,2],2],["be","Belarusian",[1,2,5],4],["bg","Bulgarian",[1,2],2],["bn","Bengali",[1,2],2],["bo","Tibetan",[1],3],["br","Breton",[1,2],1],["bs","Bosnian",[1,2,5],4],["ca","Catalan",[1,2],2],["cgg","Chiga",[1],3],["cs","Czech",[1,2,5],6],["csb","Kashubian",[1,2,5],7],["cy","Welsh",[1,2,3,8],8],["da","Danish",[1,2],2],["de","German",[1,2],2],["dev","Development Fallback",[1,2],2],["dz","Dzongkha",[1],3],["el","Greek",[1,2],2],["en","English",[1,2],2],["eo","Esperanto",[1,2],2],["es","Spanish",[1,2],2],["es_ar","Argentinean Spanish",[1,2],2],["et","Estonian",[1,2],2],["eu","Basque",[1,2],2],["fa","Persian",[1],3],["fi","Finnish",[1,2],2],["fil","Filipino",[1,2],1],["fo","Faroese",[1,2],2],["fr","French",[1,2],9],["fur","Friulian",[1,2],2],["fy","Frisian",[1,2],2],["ga","Irish",[1,2,3,7,11],10],["gd","Scottish Gaelic",[1,2,3,20],11],["gl","Galician",[1,2],2],["gu","Gujarati",[1,2],2],["gun","Gun",[1,2],1],["ha","Hausa",[1,2],2],["he","Hebrew",[1,2],2],["hi","Hindi",[1,2],2],["hr","Croatian",[1,2,5],4],["hu","Hungarian",[1,2],2],["hy","Armenian",[1,2],2],["ia","Interlingua",[1,2],2],["id","Indonesian",[1],3],["is","Icelandic",[1,2],12],["it","Italian",[1,2],2],["ja","Japanese",[1],3],["jbo","Lojban",[1],3],["jv","Javanese",[0,1],13],["ka","Georgian",[1],3],["kk","Kazakh",[1],3],["km","Khmer",[1],3],["kn","Kannada",[1,2],2],["ko","Korean",[1],3],["ku","Kurdish",[1,2],2],["kw","Cornish",[1,2,3,4],14],["ky","Kyrgyz",[1],3],["lb","Letzeburgesch",[1,2],2],["ln","Lingala",[1,2],1],["lo","Lao",[1],3],["lt","Lithuanian",[1,2,10],15],["lv","Latvian",[1,2,0],16],["mai","Maithili",[1,2],2],["mfe","Mauritian Creole",[1,2],1],["mg","Malagasy",[1,2],1],["mi","Maori",[1,2],1],["mk","Macedonian",[1,2],17],["ml","Malayalam",[1,2],2],["mn","Mongolian",[1,2],2],["mnk","Mandinka",[0,1,2],18],["mr","Marathi",[1,2],2],["ms","Malay",[1],3],["mt","Maltese",[1,2,11,20],19],["nah","Nahuatl",[1,2],2],["nap","Neapolitan",[1,2],2],["nb","Norwegian Bokmal",[1,2],2],["ne","Nepali",[1,2],2],["nl","Dutch",[1,2],2],["nn","Norwegian Nynorsk",[1,2],2],["no","Norwegian",[1,2],2],["nso","Northern Sotho",[1,2],2],["oc","Occitan",[1,2],1],["or","Oriya",[2,1],2],["pa","Punjabi",[1,2],2],["pap","Papiamento",[1,2],2],["pl","Polish",[1,2,5],7],["pms","Piemontese",[1,2],2],["ps","Pashto",[1,2],2],["pt","Portuguese",[1,2],2],["pt_br","Brazilian Portuguese",[1,2],2],["rm","Romansh",[1,2],2],["ro","Romanian",[1,2,20],20],["ru","Russian",[1,2,5],4],["sah","Yakut",[1],3],["sco","Scots",[1,2],2],["se","Northern Sami",[1,2],2],["si","Sinhala",[1,2],2],["sk","Slovak",[1,2,5],6],["sl","Slovenian",[5,1,2,3],21],["so","Somali",[1,2],2],["son","Songhay",[1,2],2],["sq","Albanian",[1,2],2],["sr","Serbian",[1,2,5],4],["su","Sundanese",[1],3],["sv","Swedish",[1,2],2],["sw","Swahili",[1,2],2],["ta","Tamil",[1,2],2],["te","Telugu",[1,2],2],["tg","Tajik",[1,2],1],["th","Thai",[1],3],["ti","Tigrinya",[1,2],1],["tk","Turkmen",[1,2],2],["tr","Turkish",[1,2],1],["tt","Tatar",[1],3],["ug","Uyghur",[1],3],["uk","Ukrainian",[1,2,5],4],["ur","Urdu",[1,2],2],["uz","Uzbek",[1,2],1],["vi","Vietnamese",[1],3],["wa","Walloon",[1,2],1],["wo","Wolof",[1],3],["yo","Yoruba",[1,2],2],["zh","Chinese",[1],3]],Q={1:function(e){return Number(e>1)},2:function(e){return Number(e!=1)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(e===0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(e==1?0:e>=2&&e<=4?1:2)},7:function(e){return Number(e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(e==1?0:e==2?1:e!=8&&e!=11?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(e==1?0:e==2?1:e<7?2:e<11?3:4)},11:function(e){return Number(e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(e!==0)},14:function(e){return Number(e==1?0:e==2?1:e==3?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:e!==0?1:2)},17:function(e){return Number(e==1||e%10==1?0:1)},18:function(e){return Number(e==1?1:2)},19:function(e){return Number(e==1?0:e===0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(e==1?0:e===0||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)}},G={rules:function(){var e,t={};for(e=K.length;e--;)t[K[e][0]]={name:K[e][1],numbers:K[e][2],plurals:Q[K[e][3]]};return t}(),addRule:function(e,t){G.rules[e]=t},setCurrentLng:function(e){if(!G.currentRule||G.currentRule.lng!==e){var t=e.split("-");G.currentRule={lng:e,rule:G.rules[t[0]]}}},needsPlural:function(e,t){var n=e.split("-"),r;return G.currentRule&&G.currentRule.lng===e?r=G.currentRule.rule:r=G.rules[n[b.getCountyIndexOfLng(e)]],r&&r.numbers.length<=1?!1:this.get(e,t)!==1},get:function(e,t){function r(t,n){var r;G.currentRule&&G.currentRule.lng===e?r=G.currentRule.rule:r=G.rules[t];if(r){var i;r.noAbs?i=r.plurals(n):i=r.plurals(Math.abs(n));var s=r.numbers[i];return r.numbers.length===2&&r.numbers[0]===1&&(s===2?s=-1:s===1&&(s=1)),s}return n===1?"1":"-1"}var n=e.split("-");return r(n[b.getCountyIndexOfLng(e)],t)}},Y={},Z=function(e,t){Y[e]=t},et=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function t(e,t){for(var n=[];t>0;n[--t]=e);return n.join("")}var n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.format=function(n,r){var i=1,s=n.length,o="",u,a=[],f,l,c,h,p,d;for(f=0;f<s;f++){o=e(n[f]);if(o==="string")a.push(n[f]);else if(o==="array"){c=n[f];if(c[2]){u=r[i];for(l=0;l<c[2].length;l++){if(!u.hasOwnProperty(c[2][l]))throw et('[sprintf] property "%s" does not exist',c[2][l]);u=u[c[2][l]]}}else c[1]?u=r[c[1]]:u=r[i++];if(/[^s]/.test(c[8])&&e(u)!="number")throw et("[sprintf] expecting number but found %s",e(u));switch(c[8]){case"b":u=u.toString(2);break;case"c":u=String.fromCharCode(u);break;case"d":u=parseInt(u,10);break;case"e":u=c[7]?u.toExponential(c[7]):u.toExponential();break;case"f":u=c[7]?parseFloat(u).toFixed(c[7]):parseFloat(u);break;case"o":u=u.toString(8);break;case"s":u=(u=String(u))&&c[7]?u.substring(0,c[7]):u;break;case"u":u=Math.abs(u);break;case"x":u=u.toString(16);break;case"X":u=u.toString(16).toUpperCase()}u=/[def]/.test(c[8])&&c[3]&&u>=0?"+"+u:u,p=c[4]?c[4]=="0"?"0":c[4].charAt(1):" ",d=c[6]-String(u).length,h=c[6]?t(p,d):"",a.push(c[5]?u+h:h+u)}}return a.join("")},n.cache={},n.parse=function(e){var t=e,n=[],r=[],i=0;while(t){if((n=/^[^\x25]+/.exec(t))!==null)r.push(n[0]);else if((n=/^\x25{2}/.exec(t))!==null)r.push("%");else{if((n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t))===null)throw"[sprintf] huh?";if(n[2]){i|=1;var s=[],o=n[2],u=[];if((u=/^([a-z_][a-z_\d]*)/i.exec(o))===null)throw"[sprintf] huh?";s.push(u[1]);while((o=o.substring(u[0].length))!=="")if((u=/^\.([a-z_][a-z_\d]*)/i.exec(o))!==null)s.push(u[1]);else{if((u=/^\[(\d+)\]/.exec(o))===null)throw"[sprintf] huh?";s.push(u[1])}n[2]=s}else i|=2;if(i===3)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";r.push(n)}t=t.substring(n[0].length)}return r},n}(),tt=function(e,t){return t.unshift(e),et.apply(null,t)};Z("sprintf",function(e,t,n){return n.sprintf?Object.prototype.toString.apply(n.sprintf)==="[object Array]"?tt(e,n.sprintf):typeof n.sprintf=="object"?et(e,n.sprintf):e:e}),n.init=w,n.isInitialized=E,n.setLng=_,n.preload=S,n.addResourceBundle=x,n.hasResourceBundle=T,n.getResourceBundle=N,n.addResource=k,n.addResources=L,n.removeResourceBundle=C,n.loadNamespace=O,n.loadNamespaces=M,n.setDefaultNamespace=A,n.t=z,n.translate=z,n.exists=U,n.detectLanguage=b.detectLanguage,n.pluralExtensions=G,n.sync=a,n.functions=b,n.lng=D,n.addPostProcessor=Z,n.applyReplacement=b.applyReplacement,n.options=l,n.noConflict=H}(typeof exports=="undefined"?window:exports),define("i18next",function(){}),require(["jquery","i18next"],function(e){e(function(){var t=navigator.language.split("-"),n=t[0];console.log("User language: %s",n);var r={lng:n,resGetPath:"http://localhost/mercurio/src/lang/__lng__/__ns__.json",ns:{namespaces:["admin","build","event","index","mycookie","user"]},useLocalStorage:!0,localStorageExpirationTime:864e5};i18n.init(r,function(t){e("html").i18n()})})}),define("i18next_config",function(){});if(typeof jQuery=="undefined")throw new Error("Bootstrap requires jQuery");+function(e){function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(e.style[n]!==undefined)return{end:t[n]}}e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one(e.support.transition.end,function(){n=!0});var i=function(){n||e(r).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t()})}(window.jQuery),+function(e){var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function s(){i.trigger("closed.bs.alert").remove()}var n=e(this),r=n.attr("data-target");r||(r=n.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var i=e(r);t&&t.preventDefault(),i.length||(i=n.hasClass("alert")?n:n.parent()),i.trigger(t=e.Event("close.bs.alert"));if(t.isDefaultPrevented())return;i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.one(e.support.transition.end,s).emulateTransitionEnd(150):s()};var r=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("bs.alert");i||r.data("bs.alert",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.bs.alert.data-api",t,n.prototype.close)}(window.jQuery),+function(e){var t=function(n,r){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,r)};t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(e){var t="disabled",n=this.$element,r=n.is("input")?"val":"html",i=n.data();e+="Text",i.resetText||n.data("resetText",n[r]()),n[r](i[e]||this.options[e]),setTimeout(function(){e=="loadingText"?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var t=this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change");t.prop("type")==="radio"&&e.find(".active").removeClass("active")}this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var r=e(this),i=r.data("bs.button"),s=typeof n=="object"&&n;i||r.data("bs.button",i=new t(this,s)),n=="toggle"?i.toggle():n&&i.setState(n)})},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle"),t.preventDefault()})}(window.jQuery),+function(e){var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.pause=="hover"&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},t.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},t.prototype.to=function(t){var n=this,r=this.getActiveIndex();if(t>this.$items.length-1||t<0)return;return this.sliding?this.$element.one("slid",function(){n.to(t)}):r==t?this.pause().cycle():this.slide(t>r?"next":"prev",e(this.$items[t]))},t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},t.prototype.next=function(){if(this.sliding)return;return this.slide("next")},t.prototype.prev=function(){if(this.sliding)return;return this.slide("prev")},t.prototype.slide=function(t,n){var r=this.$element.find(".item.active"),i=n||r[t](),s=this.interval,o=t=="next"?"left":"right",u=t=="next"?"first":"last",a=this;if(!i.length){if(!this.options.wrap)return;i=this.$element.find(".item")[u]()}this.sliding=!0,s&&this.pause();var f=e.Event("slide.bs.carousel",{relatedTarget:i[0],direction:o});if(i.hasClass("active"))return;this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var t=e(a.$indicators.children()[a.getActiveIndex()]);t&&t.addClass("active")}));if(e.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(f);if(f.isDefaultPrevented())return;i.addClass(t),i[0].offsetWidth,r.addClass(o),i.addClass(o),r.one(e.support.transition.end,function(){i.removeClass([t,o].join(" ")).addClass("active"),r.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{this.$element.trigger(f);if(f.isDefaultPrevented())return;r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each(function(){var r=e(this),i=r.data("bs.carousel"),s=e.extend({},t.DEFAULTS,r.data(),typeof n=="object"&&n),o=typeof n=="string"?n:s.slide;i||r.data("bs.carousel",i=new t(this,s)),typeof n=="number"?i.to(n):o?i[o]():s.interval&&i.pause().cycle()})},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(t){var n=e(this),r,i=e(n.attr("data-target")||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")),s=e.extend({},i.data(),n.data()),o=n.attr("data-slide-to");o&&(s.interval=!1),i.carousel(s),(o=n.attr("data-slide-to"))&&i.data("bs.carousel").to(o),t.preventDefault()}),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var t=e(this);t.carousel(t.data())})})}(window.jQuery),+function(e){var t=function(n,r){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,r),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.DEFAULTS={toggle:!0},t.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},t.prototype.show=function(){if(this.transitioning||this.$element.hasClass("in"))return;var t=e.Event("show.bs.collapse");this.$element.trigger(t);if(t.isDefaultPrevented())return;var n=this.$parent&&this.$parent.find("> .panel > .in");if(n&&n.length){var r=n.data("bs.collapse");if(r&&r.transitioning)return;n.collapse("hide"),r||n.data("bs.collapse",null)}var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("in")[i]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var o=e.camelCase(["scroll",i].join("-"));this.$element.one(e.support.transition.end,e.proxy(s,this)).emulateTransitionEnd(350)[i](this.$element[0][o])},t.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass("in"))return;var t=e.Event("hide.bs.collapse");this.$element.trigger(t);if(t.isDefaultPrevented())return;var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};if(!e.support.transition)return r.call(this);this.$element[n](0).one(e.support.transition.end,e.proxy(r,this)).emulateTransitionEnd(350)},t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var r=e(this),i=r.data("bs.collapse"),s=e.extend({},t.DEFAULTS,r.data(),typeof n=="object"&&n);i||r.data("bs.collapse",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(t){var n=e(this),r,i=n.attr("data-target")||t.preventDefault()||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),s=e(i),o=s.data("bs.collapse"),u=o?"toggle":n.data(),a=n.attr("data-parent"),f=a&&e(a);if(!o||!o.transitioning)f&&f.find('[data-toggle=collapse][data-parent="'+a+'"]').not(n).addClass("collapsed"),n[s.hasClass("in")?"addClass":"removeClass"]("collapsed");s.collapse(u)})}(window.jQuery),+function(e){function i(){e(t).remove(),e(n).each(function(t){var n=s(e(this));if(!n.hasClass("open"))return;n.trigger(t=e.Event("hide.bs.dropdown"));if(t.isDefaultPrevented())return;n.removeClass("open").trigger("hidden.bs.dropdown")})}function s(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}var t=".dropdown-backdrop",n="[data-toggle=dropdown]",r=function(t){var n=e(t).on("click.bs.dropdown",this.toggle)};r.prototype.toggle=function(t){var n=e(this);if(n.is(".disabled, :disabled"))return;var r=s(n),o=r.hasClass("open");i();if(!o){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",i),r.trigger(t=e.Event("show.bs.dropdown"));if(t.isDefaultPrevented())return;r.toggleClass("open").trigger("shown.bs.dropdown"),n.focus()}return!1},r.prototype.keydown=function(t){if(!/(38|40|27)/.test(t.keyCode))return;var r=e(this);t.preventDefault(),t.stopPropagation();if(r.is(".disabled, :disabled"))return;var i=s(r),o=i.hasClass("open");if(!o||o&&t.keyCode==27)return t.which==27&&i.find(n).focus(),r.click();var u=e("[role=menu] li:not(.divider):visible a",i);if(!u.length)return;var a=u.index(u.filter(":focus"));t.keyCode==38&&a>0&&a--,t.keyCode==40&&a<u.length-1&&a++,~a||(a=0),u.eq(a).focus()};var o=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),i=n.data("dropdown");i||n.data("dropdown",i=new r(this)),typeof t=="string"&&i[t].call(n)})},e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=o,this},e(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",n,r.prototype.toggle).on("keydown.bs.dropdown.data-api",n+", [role=menu]",r.prototype.keydown)}(window.jQuery),+function(e){var t=function(t,n){this.options=n,this.$element=e(t),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this[this.isShown?"hide":"show"](e)},t.prototype.show=function(t){var n=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r);if(this.isShown||r.isDefaultPrevented())return;this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var r=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(document.body),n.$element.show(),r&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var i=e.Event("shown.bs.modal",{relatedTarget:t});r?n.$element.find(".modal-dialog").one(e.support.transition.end,function(){n.$element.focus().trigger(i)}).emulateTransitionEnd(300):n.$element.focus().trigger(i)})},t.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented())return;this.isShown=!1,this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one(e.support.transition.end,e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal()},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]!==e.target&&!this.$element.has(e.target).length&&this.$element.focus()},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){e.which==27&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",e.proxy(function(e){if(e.target!==e.currentTarget)return;this.options.backdrop=="static"?this.$element[0].focus.call(this.$element[0]):this.hide.call(this)},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in");if(!t)return;i?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()):t&&t()};var n=e.fn.modal;e.fn.modal=function(n,r){return this.each(function(){var i=e(this),s=i.data("bs.modal"),o=e.extend({},t.DEFAULTS,i.data(),typeof n=="object"&&n);s||i.data("bs.modal",s=new t(this,o)),typeof n=="string"?s[n](r):o.show&&s.show(r)})},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());t.preventDefault(),i.modal(s,this).one("hide",function(){n.is(":visible")&&n.focus()})}),e(document).on("show.bs.modal",".modal",function(){e(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){e(document.body).removeClass("modal-open")})}(window.jQuery),+function(e){var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.prototype.init=function(t,n,r){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r);var i=this.options.trigger.split(" ");for(var s=i.length;s--;){var o=i[s];if(o=="click")this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if(o!="manual"){var u=o=="hover"?"mouseenter":"focus",a=o=="hover"?"mouseleave":"blur";this.$element.on(u+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},t.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(n.timeout),n.hoverState="in";if(!n.options.delay||!n.options.delay.show)return n.show();n.timeout=setTimeout(function(){n.hoverState=="in"&&n.show()},n.options.delay.show)},t.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(n.timeout),n.hoverState="out";if(!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},t.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);if(t.isDefaultPrevented())return;var n=this.tip();this.setContent(),this.options.animation&&n.addClass("fade");var r=typeof this.options.placement=="function"?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,s=i.test(r);s&&(r=r.replace(i,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(r),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var o=this.getPosition(),u=n[0].offsetWidth,a=n[0].offsetHeight;if(s){var f=this.$element.parent(),l=r,c=document.documentElement.scrollTop||document.body.scrollTop,h=this.options.container=="body"?window.innerWidth:f.outerWidth(),p=this.options.container=="body"?window.innerHeight:f.outerHeight(),d=this.options.container=="body"?0:f.offset().left;r=r=="bottom"&&o.top+o.height+a-c>p?"top":r=="top"&&o.top-c-a<0?"bottom":r=="right"&&o.right+u>h?"left":r=="left"&&o.left-u<d?"right":r,n.removeClass(l).addClass(r)}var v=this.getCalculatedOffset(r,o,u,a);this.applyPlacement(v,r),this.$element.trigger("shown.bs."+this.type)}},t.prototype.applyPlacement=function(e,t){var n,r=this.tip(),i=r[0].offsetWidth,s=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),u=parseInt(r.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(u)&&(u=0),e.top=e.top+o,e.left=e.left+u,r.offset(e).addClass("in");var a=r[0].offsetWidth,f=r[0].offsetHeight;t=="top"&&f!=s&&(n=!0,e.top=e.top+s-f);if(/bottom|top/.test(t)){var l=0;e.left<0&&(l=e.left*-2,e.left=0,r.offset(e),a=r[0].offsetWidth,f=r[0].offsetHeight),this.replaceArrow(l-i+a,a,"left")}else this.replaceArrow(f-s,f,"top");n&&r.offset(e)},t.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(){function i(){t.hoverState!="in"&&n.detach()}var t=this,n=this.tip(),r=e.Event("hide.bs."+this.type);this.$element.trigger(r);if(r.isDefaultPrevented())return;return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?n.one(e.support.transition.end,i).emulateTransitionEnd(150):i(),this.$element.trigger("hidden.bs."+this.type),this},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(){var t=this.$element[0];return e.extend({},typeof t.getBoundingClientRect=="function"?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},t.prototype.getCalculatedOffset=function(e,t,n,r){return e=="bottom"?{top:t.top+t.height,left:t.left+t.width/2-n/2}:e=="top"?{top:t.top-r,left:t.left+t.width/2-n/2}:e=="left"?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},t.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title),e},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var n=t?e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;n.tip().hasClass("in")?n.leave(n):n.enter(n)},t.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("bs.tooltip"),s=typeof n=="object"&&n;i||r.data("bs.tooltip",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(window.jQuery),+function(e){var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||(typeof t.content=="function"?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},t.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("bs.popover"),s=typeof n=="object"&&n;i||r.data("bs.popover",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(window.jQuery),+function(e){function t(n,r){var i,s=e.proxy(this.process,this);this.$element=e(n).is("body")?e(window):e(n),this.$body=e("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",s),this.options=e.extend({},t.DEFAULTS,r),this.selector=(this.options.target||(i=e(n).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=e([]),this.targets=e([]),this.activeTarget=null,this.refresh(),this.process()}t.DEFAULTS={offset:10},t.prototype.refresh=function(){var t=this.$element[0]==window?"offset":"position";this.offsets=e([]),this.targets=e([]);var n=this,r=this.$body.find(this.selector).map(function(){var r=e(this),i=r.data("target")||r.attr("href"),s=/^#\w/.test(i)&&e(i);return s&&s.length&&[[s[t]().top+(!e.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},t.prototype.process=function(){var e=this.$scrollElement.scrollTop()+this.options.offset,t=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=t-this.$scrollElement.height(),r=this.offsets,i=this.targets,s=this.activeTarget,o;if(e>=n)return s!=(o=i.last()[0])&&this.activate(o);for(o=r.length;o--;)s!=i[o]&&e>=r[o]&&(!r[o+1]||e<=r[o+1])&&this.activate(i[o])},t.prototype.activate=function(t){this.activeTarget=t,e(this.selector).parents(".active").removeClass("active");var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',r=e(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate")};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var r=e(this),i=r.data("bs.scrollspy"),s=typeof n=="object"&&n;i||r.data("bs.scrollspy",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),+function(e){var t=function(t){this.element=e(t)};t.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));if(t.parent("li").hasClass("active"))return;var i=n.find(".active:last a")[0],s=e.Event("show.bs.tab",{relatedTarget:i});t.trigger(s);if(s.isDefaultPrevented())return;var o=e(r);this.activate(t.parent("li"),n),this.activate(o,o.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:i})})},t.prototype.activate=function(t,n,r){function o(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var i=n.find("> .active"),s=r&&e.support.transition&&i.hasClass("fade");s?i.one(e.support.transition.end,o).emulateTransitionEnd(150):o(),i.removeClass("in")};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var r=e(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new t(this)),typeof n=="string"&&i[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),+function(e){var t=function(n,r){this.options=e.extend({},t.DEFAULTS,r),this.$window=e(window).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(n),this.affixed=this.unpin=null,this.checkPosition()};t.RESET="affix affix-top affix-bottom",t.DEFAULTS={offset:0},t.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},t.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var n=e(document).height(),r=this.$window.scrollTop(),i=this.$element.offset(),s=this.options.offset,o=s.top,u=s.bottom;typeof s!="object"&&(u=o=s),typeof o=="function"&&(o=s.top()),typeof u=="function"&&(u=s.bottom());var a=this.unpin!=null&&r+this.unpin<=i.top?!1:u!=null&&i.top+this.$element.height()>=n-u?"bottom":o!=null&&r<=o?"top":!1;if(this.affixed===a)return;this.unpin&&this.$element.css("top",""),this.affixed=a,this.unpin=a=="bottom"?i.top-r:null,this.$element.removeClass(t.RESET).addClass("affix"+(a?"-"+a:"")),a=="bottom"&&this.$element.offset({top:document.body.offsetHeight-u-this.$element.height()})};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var r=e(this),i=r.data("bs.affix"),s=typeof n=="object"&&n;i||r.data("bs.affix",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.affix.Constructor=t,e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery),define("bootstrap",function(){}),!function(e){e(function(){if(navigator.userAgent.match(/IEMobile\/10\.0/)){var t=document.createElement("style");t.appendChild(document.createTextNode("@-ms-viewport{width:auto!important}")),document.getElementsByTagName("head")[0].appendChild(t)}var n=e(window),r=e(document.body),i=e(".navbar").outerHeight(!0)+10;r.scrollspy({target:".bs-sidebar",offset:i}),n.on("load",function(){r.scrollspy("refresh")}),e(".bs-docs-container [href=#]").click(function(e){e.preventDefault()}),setTimeout(function(){var t=e(".bs-sidebar");t.affix({offset:{top:function(){var n=t.offset().top,r=parseInt(t.children(0).css("margin-top"),10),i=e(".bs-docs-nav").height();return this.top=n-i-r},bottom:function(){return this.bottom=e(".bs-footer").outerHeight(!0)}}})},100),setTimeout(function(){e(".bs-top").affix()},100),e(".tooltip-demo").tooltip({selector:"[data-toggle=tooltip]",container:"body"}),e(".tooltip-test").tooltip(),e(".popover-test").popover(),e(".bs-docs-navbar").tooltip({selector:"a[data-toggle=tooltip]",container:".bs-docs-navbar .nav"}),e("[data-toggle=popover]").popover(),e("#fat-btn").click(function(){var t=e(this);t.button("loading"),setTimeout(function(){t.button("reset")},3e3)})})}(window.jQuery),define("application",function(){}),!function(e){var t=function(){window.asyncWebshims||(window.asyncWebshims={cfg:[],ready:[]})},n=function(){window.jQuery&&(e(jQuery),e=function(){return window.webshims})};window.webshims={setOptions:function(){t(),window.asyncWebshims.cfg.push(arguments)},ready:function(){t(),window.asyncWebshims.ready.push(arguments)},activeLang:function(e){t(),window.asyncWebshims.lang=e},polyfill:function(e){t(),window.asyncWebshims.polyfill=e},_curScript:function(){var e,t,n,r,i,s=document.currentScript;if(!s){try{throw new Error("")}catch(o){for(n=(o.sourceURL||o.stack||"").split("\n"),i=/(?:fil|htt|wid|abo|app|res)(.)+/i,t=0;t<n.length;t++)if(r=n[t].match(i)){n=r[0].replace(/[\:\s\(]+[\d\:\)\(\s]+$/,"");break}}for(e=document.scripts||document.getElementsByTagName("script"),t=0;t<e.length&&(!e[t].getAttribute("src")||(s=e[t],"interactive"!=e[t].readyState&&n!=e[t].src));t++);}return s}()},window.webshim=window.webshims,window.webshims.timer=setInterval(n,0),n(),"function"==typeof define&&define.amd&&define("polyfiller",["jquery"],e)}(function(e){function t(e){return document.createElement(e)}var n,r,i=window.navigator,s=window.webshims,o="dom-support",u=e.event.special,a=e([]),f=window.asyncWebshims,l={},c=window.Object,h=function(e){return e+"\n//# sourceURL="+this.url},p=function(e){return m.enhanceAuto||"auto"!=e?e:!1},d={matchmedia:"matchMedia",xhr2:"filereader",promise:"es6",URL:"url"},v="capture"in t("input");clearInterval(s.timer),l.advancedObjectProperties=l.objectAccessor=l.ES5="create"in c&&"seal"in c,!l.ES5||"toJSON"in Date.prototype||(l.ES5=!1),r=e.support.hrefNormalized===!1?s._curScript.getAttribute("src",4):s._curScript.src,r=r.split("?")[0].slice(0,r.lastIndexOf("/")+1)+"shims/",e.extend(s,{version:"1.15.5",cfg:{enhanceAuto:window.Audio&&(!window.matchMedia||matchMedia("(min-device-width: 721px)").matches),waitReady:!0,loadStyles:!0,wsdoc:document,wspopover:{appendTo:"auto",hideOnBlur:!0},ajax:{},loadScript:function(t,n){e.ajax(e.extend({},m.ajax,{url:t,success:n,dataType:"script",cache:!0,global:!1,dataFilter:h}))},basePath:r},support:l,bugs:{},modules:{},features:{},featureList:[],setOptions:function(t,n){"string"==typeof t&&arguments.length>1?m[t]=e.isPlainObject(n)?e.extend(!0,m[t]||{},n):n:"object"==typeof t&&e.extend(!0,m,t)},_getAutoEnhance:p,addPolyfill:function(t,n){n=n||{};var r=n.f||t;g[r]||(g[r]=[],s.featureList.push(r),m[r]={}),g[r].push(t),n.options=e.extend(m[r],n.options),T(t,n),n.methodNames&&e.each(n.methodNames,function(e,t){s.addMethodName(t)})},polyfill:function(){return function(e){return e||(e=s.featureList),"string"==typeof e&&(e=e.split(" ")),s._polyfill(e)}}(),_polyfill:function(t){var r,i,s=[];n.run||(r=-1!==e.inArray("forms-ext",t),n(),i=r&&!E["form-number-date-ui"].test()||!v&&-1!==e.inArray("mediacapture",t),r&&-1==e.inArray("forms",t)&&t.push("forms"),m.loadStyles&&S.loadCSS("styles/shim"+(i?"-ext":"")+".css")),m.waitReady&&(e.readyWait++,b(t,function(){e.ready(!0)})),e.each(t,function(e,t){return t=d[t]||t,g[t]?(t!==g[t][0]&&b(g[t],function(){y(t,!0)}),void (s=s.concat(g[t]))):void y(t,!0)}),x(s),e.each(t,function(e,t){var n=m[t];n&&("mediaelement"==t&&(n.replaceUI=p(n.replaceUI))&&n.plugins.unshift("mediacontrols"),n.plugins&&n.plugins.length&&x(m[t].plugins))})},reTest:function(){var t,n=function(n,r){var i=E[r],s=r+"Ready";!i||i.loaded||(i.test&&e.isFunction(i.test)?i.test([]):i.test)||(u[s]&&delete u[s],g[i.f],t.push(r))};return function(r){"string"==typeof r&&(r=r.split(" ")),t=[],e.each(r,n),x(t)}}(),isReady:function(t,n){if(t+="Ready",n){if(u[t]&&u[t].add)return!0;u[t]=e.extend(u[t]||{},{add:function(e){e.handler.call(this,t)}}),e(document).triggerHandler(t)}return!!u[t]&&!!u[t].add||!1},ready:function(t,n){var r=arguments[2];if("string"==typeof t&&(t=t.split(" ")),r||(t=e.map(e.grep(t,function(e){return!y(e)}),function(e){return e+"Ready"})),!t.length)return void n(e,s,window,document);var i=t.shift(),o=function(){b(t,n,!0)};e(document).one(i,o)},capturingEvents:function(t,n){document.addEventListener&&("string"==typeof t&&(t=[t]),e.each(t,function(t,r){var i=function(t){return t=e.event.fix(t),n&&s.capturingEventPrevented&&s.capturingEventPrevented(t),e.event.dispatch.call(this,t)};u[r]=u[r]||{},u[r].setup||u[r].teardown||e.extend(u[r],{setup:function(){this.addEventListener(r,i,!0)},teardown:function(){this.removeEventListener(r,i,!0)}})}))},register:function(t,n){var r=E[t];if(!r)return void s.error("can't find module: "+t);r.loaded=!0;var i=function(){n(e,s,window,document,void 0,r.options),y(t,!0)};r.d&&r.d.length?b(r.d,i):i()},c:{},loader:{addModule:function(t,n){E[t]=n,n.name=n.name||t,n.c||(n.c=[]),e.each(n.c,function(e,n){s.c[n]||(s.c[n]=[]),s.c[n].push(t)})},loadList:function(){var t=[],n=function(n,r){"string"==typeof r&&(r=[r]),e.merge(t,r),S.loadScript(n,!1,r)},r=function(n,r){if(y(n)||-1!=e.inArray(n,t))return!0;var i,s=E[n];return s?(i=s.test&&e.isFunction(s.test)?s.test(r):s.test,i?(y(n,!0),!0):!1):!0},i=function(t,n){if(t.d&&t.d.length){var i=function(t,i){r(i,n)||-1!=e.inArray(i,n)||n.push(i)};e.each(t.d,function(t,n){E[n]?E[n].loaded||i(t,n):g[n]&&(e.each(g[n],i),b(g[n],function(){y(n,!0)}))}),t.noAutoCallback||(t.noAutoCallback=!0)}};return function(o){var u,a,f,l,c=[],h=function(r,i){return l=i,e.each(s.c[i],function(n,r){return-1==e.inArray(r,c)||-1!=e.inArray(r,t)?(l=!1,!1):void 0}),l?(n("combos/"+l,s.c[l]),!1):void 0};for(a=0;a<o.length;a++)u=E[o[a]],u&&!r(u.name,o)&&(u.css&&m.loadStyles&&S.loadCSS(u.css),u.loadInit&&u.loadInit(),i(u,o),u.loaded||c.push(u.name),u.loaded=!0);for(a=0,f=c.length;f>a;a++)l=!1,u=c[a],-1==e.inArray(u,t)&&("noCombo"!=m.debug&&e.each(E[u].c,h),l||n(E[u].src||u,u))}}(),makePath:function(e){return-1!=e.indexOf("//")||0===e.indexOf("/")?e:(-1==e.indexOf(".")&&(e+=".js"),m.addCacheBuster&&(e+=m.addCacheBuster),m.basePath+e)},loadCSS:function(){var t,n={};return function(r){r=this.makePath(r),n[r]||(t=t||e("link, style")[0]||e("script")[0],n[r]=1,e('<link rel="stylesheet" />').insertBefore(t).attr({href:r}))}}(),loadScript:function(){var t={};return function(n,r,i,s){if(s||(n=S.makePath(n)),!t[n]){var o=function(){r&&r(),i&&("string"==typeof i&&(i=i.split(" ")),e.each(i,function(e,t){E[t]&&(E[t].afterLoad&&E[t].afterLoad(),y(E[t].noAutoCallback?t+"FileLoaded":t,!0))}))};t[n]=1,m.loadScript(n,o,e.noop)}}}()}});var m=s.cfg,g=s.features,y=s.isReady,b=s.ready,w=s.addPolyfill,E=s.modules,S=s.loader,x=S.loadList,T=S.addModule,N=s.bugs,C=[],k={warn:1,error:1},L=e.fn,A=t("video");s.addMethodName=function(e){e=e.split(":");var t=e[1];1==e.length?(t=e[0],e=e[0]):e=e[0],L[e]=function(){return this.callProp(t,arguments)}},L.callProp=function(t,n){var r;return n||(n=[]),this.each(function(){var i=e.prop(this,t);if(i&&i.apply){if(r=i.apply(this,n),void 0!==r)return!1}else s.warn(t+" is not a method of "+this)}),void 0!==r?r:this},s.activeLang=function(){"language"in i||(i.language=i.browserLanguage||"");var t=e.attr(document.documentElement,"lang")||i.language;return b("webshimLocalization",function(){s.activeLang(t)}),function(e){if(e)if("string"==typeof e)t=e;else if("object"==typeof e){var n=arguments,r=this;b("webshimLocalization",function(){s.activeLang.apply(r,n)})}return t}}(),s.errorLog=[],e.each(["log","error","warn","info"],function(e,t){s[t]=function(e){(k[t]&&m.debug!==!1||m.debug)&&(s.errorLog.push(e),window.console&&console.log&&console[console[t]?t:"log"](e))}}),function(){e.isDOMReady=e.isReady;var t=function(){e.isDOMReady=!0,y("DOM",!0),setTimeout(function(){y("WINDOWLOAD",!0)},9999)};n=function(){if(!n.run){if((m.debug||!("crossDomain"in m.ajax)&&location.protocol.indexOf("http"))&&(m.ajax.crossDomain=!0),!e.isDOMReady&&m.waitReady){var r=e.ready;e.ready=function(e){return e!==!0&&document.body&&t(),r.apply(this,arguments)},e.ready.promise=r.promise}m.readyEvt?e(document).one(m.readyEvt,t):e(t)}n.run=!0},e(window).on("load",function(){t(),setTimeout(function(){y("WINDOWLOAD",!0)},9)});var r=[],i=function(){1==this.nodeType&&s.triggerDomUpdate(this)};e.extend(s,{addReady:function(e){var t=function(t,n){s.ready("DOM",function(){e(t,n)})};r.push(t),m.wsdoc&&t(m.wsdoc,a)},triggerDomUpdate:function(t){if(!t||!t.nodeType)return void (t&&t.jquery&&t.each(function(){s.triggerDomUpdate(this)}));var n=t.nodeType;if(1==n||9==n){var i=t!==document?e(t):a;e.each(r,function(e,n){n(t,i)})}}}),L.clonePolyfill=L.clone,L.htmlPolyfill=function(t){if(!arguments.length)return e(this.clonePolyfill()).html();var n=L.html.call(this,t);return n===this&&e.isDOMReady&&this.each(i),n},L.jProp=function(){return this.pushStack(e(L.prop.apply(this,arguments)||[]))},e.each(["after","before","append","prepend","replaceWith"],function(t,n){L[n+"Polyfill"]=function(t){return t=e(t),L[n].call(this,t),e.isDOMReady&&t.each(i),this}}),e.each(["insertAfter","insertBefore","appendTo","prependTo","replaceAll"],function(t,n){L[n.replace(/[A-Z]/,function(e){return"Polyfill"+e})]=function(){return L[n].apply(this,arguments),e.isDOMReady&&s.triggerDomUpdate(this),this}}),L.updatePolyfill=function(){return e.isDOMReady&&s.triggerDomUpdate(this),this},e.each(["getNativeElement","getShadowElement","getShadowFocusElement"],function(e,t){L[t]=function(){return this.pushStack(this)}})}(),c.create&&(s.objectCreate=function(t,n,r){var i=c.create(t);return r&&(i.options=e.extend(!0,{},i.options||{},r),r=i.options),i._create&&e.isFunction(i._create)&&i._create(r),i}),T("swfmini",{test:function(){return window.swfobject&&!window.swfmini&&(window.swfmini=window.swfobject),"swfmini"in window},c:[16,7,2,8,1,12,23]}),E.swfmini.test(),T("sizzle",{test:e.expr.filters}),w("es5",{test:!!l.ES5&&!!Function.prototype.bind,d:["sizzle"]}),w("dom-extend",{f:o,noAutoCallback:!0,d:["es5"],c:[16,7,2,15,30,3,8,4,9,10,25,31,34]}),t("picture"),w("picture",{test:"picturefill"in window||!!window.HTMLPictureElement||"respimage"in window,d:["matchMedia"],c:[18],loadInit:function(){y("picture",!0)}}),w("matchMedia",{test:!!window.matchMedia&&!!matchMedia("all").addListener,c:[18]}),w("sticky",{test:-1!=(e(t("b")).attr("style","position: -webkit-sticky; position: sticky").css("position")||"").indexOf("sticky"),d:["es5","matchMedia"]}),w("es6",{test:!!(Math.imul&&Number.MIN_SAFE_INTEGER&&c.is&&window.Promise&&Promise.all),d:["es5"]}),w("geolocation",{test:"geolocation"in i,options:{destroyWrite:!0},c:[21]}),function(){w("canvas",{src:"excanvas",test:"getContext"in t("canvas"),options:{type:"flash"},noAutoCallback:!0,loadInit:function(){var e=this.options.type;!e||-1===e.indexOf("flash")||E.swfmini.test()&&!swfmini.hasFlashPlayerVersion("9.0.0")||(this.src="flash"==e?"FlashCanvas/flashcanvas":"FlashCanvasPro/flashcanvas")},methodNames:["getContext"],d:[o]})}();var O="getUserMedia"in i;w("usermedia-core",{f:"usermedia",test:O&&window.URL,d:["url",o]}),w("usermedia-shim",{f:"usermedia",test:!!(O||i.webkitGetUserMedia||i.mozGetUserMedia||i.msGetUserMedia),d:["url","mediaelement",o]}),w("mediacapture",{test:v,d:["swfmini","usermedia",o,"filereader","forms","canvas"]}),function(){var n,r,u="form-shim-extend",a="formvalidation",f="form-number-date-api",c=!1,h=!1,d=!1,v={},g=t("progress"),y=t("output"),b=function(){var r,s,o="1(",f=t("input");if(s=e('<fieldset><textarea required="" /></fieldset>')[0],l.inputtypes=v,e.each(["range","date","datetime-local","month","color","number"],function(e,t){f.setAttribute("type",t),v[t]=f.type==t&&(f.value=o)&&f.value!=o}),l.datalist=!!("options"in t("datalist")&&window.HTMLDataListElement),l[a]="checkValidity"in f,l.fieldsetelements="elements"in s,l.fieldsetdisabled="disabled"in s){try{s.querySelector(":invalid")&&(s.disabled=!0,r=!s.querySelector(":invalid")&&s.querySelector(":disabled"))}catch(p){}l.fieldsetdisabled=!!r}if(l[a]&&(h=!(l.fieldsetdisabled&&l.fieldsetelements&&"value"in g&&"value"in y),d=h&&/Android/i.test(i.userAgent),c=window.opera||N.bustedValidity||h||!l.datalist,!c&&v.number)){c=!0;try{f.type="number",f.value="",f.stepUp(),c="1"!=f.value}catch(m){}}return N.bustedValidity=c,n=l[a]&&!c?"form-native-extend":u,b=e.noop,!1},S=function(t){var n=!0;return t._types||(t._types=t.types.split(" ")),e.each(t._types,function(e,t){return t in v&&!v[t]?(n=!1,!1):void 0}),n};s.validationMessages=s.validityMessages={langSrc:"i18n/formcfg-",availableLangs:"ar ca cs el es fa fr he hi hu it ja lt nl no pl pt pt-BR pt-PT ru sv zh-CN zh-TW".split(" ")},s.formcfg=e.extend({},s.validationMessages),s.inputTypes={},w("form-core",{f:"forms",test:b,d:["es5"],options:{placeholderType:"value",messagePopover:{},list:{popover:{constrainWidth:!0}},iVal:{sel:".ws-validate",handleBubble:"hide",recheckDelay:400}},methodNames:["setCustomValidity","checkValidity","setSelectionRange"],c:[16,7,2,8,1,15,30,3,31]}),r=m.forms,w("form-native-extend",{f:"forms",test:function(t){return b(),!l[a]||c||-1==e.inArray(f,t||[])||E[f].test()},d:["form-core",o,"form-message"],c:[6,5,14,29]}),w(u,{f:"forms",test:function(){return b(),l[a]&&!c},d:["form-core",o,"sizzle"],c:[16,15,28]}),w(u+"2",{f:"forms",test:function(){return b(),l[a]&&!h},d:[u],c:[27]}),w("form-message",{f:"forms",test:function(e){return b(),!(r.customMessages||!l[a]||c||!E[n].test(e))},d:[o],c:[16,7,15,30,3,8,4,14,28]}),w(f,{f:"forms-ext",options:{types:"date time range number"},test:function(){b();var e=!c;return e&&(e=S(this.options)),e},methodNames:["stepUp","stepDown"],d:["forms",o],c:[6,5,17,14,28,29,33]}),T("range-ui",{options:{},noAutoCallback:!0,test:function(){return!!L.rangeUI},d:["es5"],c:[6,5,9,10,17,11]}),w("form-number-date-ui",{f:"forms-ext",test:function(){var e=this.options;return e.replaceUI=p(e.replaceUI),b(),!e.replaceUI&&d&&(e.replaceUI=!0),!e.replaceUI&&S(e)},d:["forms",o,f,"range-ui"],options:{widgets:{calculateWidth:!0,animate:!0}},c:[6,5,9,10,17,11]}),w("form-datalist",{f:"forms",test:function(){return b(),d&&(r.customDatalist=!0),l.datalist&&!r.fD},d:["form-core",o],c:[16,7,6,2,9,15,30,31,28,33]})}();var M="FileReader"in window&&"FormData"in window;return w("filereader-xhr",{f:"filereader",test:M,d:[o,"swfmini"],c:[25,27]}),w("canvas-blob",{f:"filereader",methodNames:["toBlob"],test:!M||!!t("canvas").toBlob}),w("details",{test:"open"in t("details"),d:[o],options:{text:"Details"},c:[21,22]}),w("url",{test:function(){var e=!1;try{e=new URL("b","http://a"),e=!!e.searchParams&&"http://a/b"==e.href}catch(t){}return e},d:["es5"]}),function(){s.mediaelement={};var n=t("track");if(l.mediaelement="canPlayType"in A,l.texttrackapi="addTextTrack"in A,l.track="kind"in n,t("audio"),!(N.track=!l.texttrackapi))try{N.track=!("oncuechange"in A.addTextTrack("metadata"))}catch(r){}w("mediaelement-core",{f:"mediaelement",noAutoCallback:!0,options:{jme:{},plugins:[],vars:{},params:{},attrs:{},changeSWF:e.noop},methodNames:["play","pause","canPlayType","mediaLoad:load"],d:["swfmini"],c:[16,7,2,8,1,12,13,23]}),w("mediaelement-jaris",{f:"mediaelement",d:["mediaelement-core",o],test:function(){var e=this.options;return!l.mediaelement||s.mediaelement.loadSwf?!1:(e.preferFlash&&!E.swfmini.test()&&(e.preferFlash=!1),!e.preferFlash||!swfmini.hasFlashPlayerVersion("11.3"))},c:[21,25]}),w("track",{options:{positionDisplay:!0,override:N.track},test:function(){var e=this.options;return e.override=p(e.override),!e.override&&!N.track},d:["mediaelement",o],methodNames:["addTextTrack"],c:[21,12,13,22,34]}),T("jmebase",{src:"jme/base",c:[98,99,97]}),e.each([["mediacontrols",{c:[98,99],css:"jme/controls.css"}],["playlist",{c:[98,97]}],["alternate-media"]],function(t,n){T(n[0],e.extend({src:"jme/"+n[0],d:["jmebase"]},n[1]))}),T("track-ui",{d:["track",o]})}(),w("feature-dummy",{test:!0,loaded:!0,c:C}),s.$=e,e.webshims=s,e.webshim=webshim,s.callAsync=function(){s.callAsync=e.noop,f&&(f.cfg&&(f.cfg.length||(f.cfg=[[f.cfg]]),e.each(f.cfg,function(e,t){s.setOptions.apply(s,t)})),f.ready&&e.each(f.ready,function(e,t){s.ready.apply(s,t)}),f.lang&&s.activeLang(f.lang),"polyfill"in f&&s.polyfill(f.polyfill)),s.isReady("jquery",!0)},s.callAsync(),s}),define("webshim",function(){}),window.CodeMirror=function(){function x(e,n){if(!(this instanceof x))return new x(e,n);this.options=n=n||{};for(var r in er)!n.hasOwnProperty(r)&&er.hasOwnProperty(r)&&(n[r]=er[r]);H(n);var i=typeof n.value=="string"?0:n.value.first,s=this.display=T(e,i);s.wrapper.CodeMirror=this,_(this),n.autofocus&&!v&&It(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,draggingText:!1,highlight:new Qi},O(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");var o=n.value;typeof o=="string"&&(o=new ui(n.value,n.mode)),Mt(this,ci)(this,o),t&&setTimeout(os(Ft,this,!0),20),Rt(this);var u;try{u=document.activeElement==s.input}catch(a){}u||n.autofocus&&!v?setTimeout(os(pn,this),20):dn(this),Mt(this,function(){for(var e in Zn)Zn.propertyIsEnumerable(e)&&Zn[e](this,n[e],nr);for(var t=0;t<or.length;++t)or[t](this)})()}function T(e,t){var r={},i=r.input=cs("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none; font-size: 4px;");return s?i.style.width="1000px":i.setAttribute("wrap","off"),d&&(i.style.border="1px solid black"),i.setAttribute("autocorrect","off"),i.setAttribute("autocapitalize","off"),i.setAttribute("spellcheck","false"),r.inputDiv=cs("div",[i],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),r.scrollbarH=cs("div",[cs("div",null,null,"height: 1px")],"CodeMirror-hscrollbar"),r.scrollbarV=cs("div",[cs("div",null,null,"width: 1px")],"CodeMirror-vscrollbar"),r.scrollbarFiller=cs("div",null,"CodeMirror-scrollbar-filler"),r.gutterFiller=cs("div",null,"CodeMirror-gutter-filler"),r.lineDiv=cs("div",null,"CodeMirror-code"),r.selectionDiv=cs("div",null,null,"position: relative; z-index: 1"),r.cursor=cs("div","Â ","CodeMirror-cursor"),r.otherCursor=cs("div","Â ","CodeMirror-cursor CodeMirror-secondarycursor"),r.measure=cs("div",null,"CodeMirror-measure"),r.lineSpace=cs("div",[r.measure,r.selectionDiv,r.lineDiv,r.cursor,r.otherCursor],null,"position: relative; outline: none"),r.mover=cs("div",[cs("div",[r.lineSpace],"CodeMirror-lines")],null,"position: relative"),r.sizer=cs("div",[r.mover],"CodeMirror-sizer"),r.heightForcer=cs("div",null,null,"position: absolute; height: "+Ji+"px; width: 1px;"),r.gutters=cs("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=cs("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=cs("div",[r.inputDiv,r.scrollbarH,r.scrollbarV,r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),n&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),e.appendChild?e.appendChild(r.wrapper):e(r.wrapper),d&&(i.style.width="0px"),s||(r.scroller.draggable=!0),l?(r.inputDiv.style.height="1px",r.inputDiv.style.position="absolute"):n&&(r.scrollbarH.style.minWidth=r.scrollbarV.style.minWidth="18px"),r.viewOffset=r.lastSizeC=0,r.showingFrom=r.showingTo=t,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.prevInput="",r.alignWidgets=!1,r.pollingFast=!1,r.poll=new Qi,r.cachedCharWidth=r.cachedTextHeight=null,r.measureLineCache=[],r.measureLineCachePos=0,r.inaccurateSelection=!1,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r}function N(e){e.doc.mode=x.getMode(e.options,e.doc.modeOption),e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,tt(e,100),e.state.modeGen++,e.curOp&&Pt(e)}function C(e){e.options.lineWrapping?(e.display.wrapper.className+=" CodeMirror-wrap",e.display.sizer.style.minWidth=""):(e.display.wrapper.className=e.display.wrapper.className.replace(" CodeMirror-wrap",""),P(e)),L(e),Pt(e),vt(e),setTimeout(function(){B(e)},100)}function k(e){var t=Ct(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/kt(e.display)-3);return function(i){return Dr(e.doc,i)?0:n?(Math.ceil(i.text.length/r)||1)*t:t}}function L(e){var t=e.doc,n=k(e);t.iter(function(e){var t=n(e);t!=e.height&&vi(e,t)})}function A(e){var t=cr[e.options.keyMap],n=t.style;e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(n?" cm-keymap-"+n:""),e.state.disableInput=t.disableInput}function O(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),vt(e)}function M(e){_(e),Pt(e),setTimeout(function(){F(e)},20)}function _(e){var t=e.display.gutters,n=e.options.gutters;hs(t);for(var r=0;r<n.length;++r){var i=n[r],s=t.appendChild(cs("div",null,"CodeMirror-gutter "+i));i=="CodeMirror-linenumbers"&&(e.display.lineGutter=s,s.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=r?"":"none"}function D(e,t){if(t.height==0)return 0;var n=t.text.length,r,i=t;while(r=Or(i)){var s=r.find();i=hi(e,s.from.line),n+=s.from.ch-s.to.ch}i=t;while(r=Mr(i)){var s=r.find();n-=i.text.length-s.from.ch,i=hi(e,s.to.line),n+=i.text.length-s.to.ch}return n}function P(e){var t=e.display,n=e.doc;t.maxLine=hi(n,n.first),t.maxLineLength=D(n,t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var r=D(n,e);r>t.maxLineLength&&(t.maxLineLength=r,t.maxLine=e)})}function H(e){var t=ns(e.gutters,"CodeMirror-linenumbers");t==-1&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function B(e){var t=e.display,n=e.doc.height,r=n+ot(t);t.sizer.style.minHeight=t.heightForcer.style.top=r+"px",t.gutters.style.height=Math.max(r,t.scroller.clientHeight-Ji)+"px";var i=Math.max(r,t.scroller.scrollHeight),s=t.scroller.scrollWidth>t.scroller.clientWidth+1,o=i>t.scroller.clientHeight+1;o?(t.scrollbarV.style.display="block",t.scrollbarV.style.bottom=s?bs(t.measure)+"px":"0",t.scrollbarV.firstChild.style.height=i-t.scroller.clientHeight+t.scrollbarV.clientHeight+"px"):(t.scrollbarV.style.display="",t.scrollbarV.firstChild.style.height="0"),s?(t.scrollbarH.style.display="block",t.scrollbarH.style.right=o?bs(t.measure)+"px":"0",t.scrollbarH.firstChild.style.width=t.scroller.scrollWidth-t.scroller.clientWidth+t.scrollbarH.clientWidth+"px"):(t.scrollbarH.style.display="",t.scrollbarH.firstChild.style.width="0"),s&&o?(t.scrollbarFiller.style.display="block",t.scrollbarFiller.style.height=t.scrollbarFiller.style.width=bs(t.measure)+"px"):t.scrollbarFiller.style.display="",s&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(t.gutterFiller.style.display="block",t.gutterFiller.style.height=bs(t.measure)+"px",t.gutterFiller.style.width=t.gutters.offsetWidth+"px"):t.gutterFiller.style.display="",c&&bs(t.measure)===0&&(t.scrollbarV.style.minWidth=t.scrollbarH.style.minHeight=h?"18px":"12px",t.scrollbarV.style.pointerEvents=t.scrollbarH.style.pointerEvents="none")}function j(e,t,n){var r=e.scroller.scrollTop,i=e.wrapper.clientHeight;typeof n=="number"?r=n:n&&(r=n.top,i=n.bottom-n.top),r=Math.floor(r-st(e));var s=Math.ceil(r+i);return{from:gi(t,r),to:gi(t,s)}}function F(e){var t=e.display;if(!t.alignWidgets&&(!t.gutters.firstChild||!e.options.fixedGutter))return;var n=R(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,i=n+"px";for(var s=t.lineDiv.firstChild;s;s=s.nextSibling)if(s.alignable)for(var o=0,u=s.alignable;o<u.length;++o)u[o].style.left=i;e.options.fixedGutter&&(t.gutters.style.left=n+r+"px")}function I(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=q(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(cs("div",[cs("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),s=i.firstChild.offsetWidth,o=i.offsetWidth-s;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(s,r.lineGutter.offsetWidth-o),r.lineNumWidth=r.lineNumInnerWidth+o,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",!0}return!1}function q(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function R(e){return vs(e.scroller).left-vs(e.sizer).left}function U(e,t,n,r){var i=e.display.showingFrom,s=e.display.showingTo,o,u=j(e.display,e.doc,n);for(var a=!0;;a=!1){var f=e.display.scroller.clientWidth;if(!z(e,t,u,r))break;o=!0,t=[],G(e),B(e);if(a&&e.options.lineWrapping&&f!=e.display.scroller.clientWidth){r=!0;continue}r=!1,n&&(n=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,typeof n=="number"?n:n.top)),u=j(e.display,e.doc,n);if(u.from>=e.display.showingFrom&&u.to<=e.display.showingTo)break}return o&&(zi(e,"update",e),(e.display.showingFrom!=i||e.display.showingTo!=s)&&zi(e,"viewportChange",e,e.display.showingFrom,e.display.showingTo)),o}function z(e,t,n,r){var i=e.display,s=e.doc;if(!i.wrapper.clientWidth){i.showingFrom=i.showingTo=s.first,i.viewOffset=0;return}if(!r&&t.length==0&&n.from>i.showingFrom&&n.to<i.showingTo)return;I(e)&&(t=[{from:s.first,to:s.first+s.size}]);var o=i.sizer.style.marginLeft=i.gutters.offsetWidth+"px";i.scrollbarH.style.left=e.options.fixedGutter?o:"0";var u=Infinity;if(e.options.lineNumbers)for(var a=0;a<t.length;++a)t[a].diff&&t[a].from<u&&(u=t[a].from);var f=s.first+s.size,l=Math.max(n.from-e.options.viewportMargin,s.first),c=Math.min(f,n.to+e.options.viewportMargin);i.showingFrom<l&&l-i.showingFrom<20&&(l=Math.max(s.first,i.showingFrom)),i.showingTo>c&&i.showingTo-c<20&&(c=Math.min(f,i.showingTo));if(S){l=mi(_r(s,hi(s,l)));while(c<f&&Dr(s,hi(s,c)))++c}var h=[{from:Math.max(i.showingFrom,s.first),to:Math.min(i.showingTo,f)}];h[0].from>=h[0].to?h=[]:h=V(h,t);if(S)for(var a=0;a<h.length;++a){var p=h[a],d;while(d=Mr(hi(s,p.to-1))){var v=d.find().from.line;if(!(v>p.from)){h.splice(a--,1);break}p.to=v}}var m=0;for(var a=0;a<h.length;++a){var p=h[a];p.from<l&&(p.from=l),p.to>c&&(p.to=c),p.from>=p.to?h.splice(a--,1):m+=p.to-p.from}if(!r&&m==c-l&&l==i.showingFrom&&c==i.showingTo){X(e);return}h.sort(function(e,t){return e.from-t.from});try{var g=document.activeElement}catch(y){}m<(c-l)*.7&&(i.lineDiv.style.display="none"),J(e,l,c,h,u),i.lineDiv.style.display="",g&&document.activeElement!=g&&g.offsetHeight&&g.focus();var b=l!=i.showingFrom||c!=i.showingTo||i.lastSizeC!=i.wrapper.clientHeight;return b&&(i.lastSizeC=i.wrapper.clientHeight,tt(e,400)),i.showingFrom=l,i.showingTo=c,W(e),X(e),!0}function W(e){var t=e.display,r=t.lineDiv.offsetTop;for(var i=t.lineDiv.firstChild,s;i;i=i.nextSibling)if(i.lineObj){if(n){var o=i.offsetTop+i.offsetHeight;s=o-r,r=o}else{var u=vs(i);s=u.bottom-u.top}var a=i.lineObj.height-s;s<2&&(s=Ct(t));if(a>.001||a<-0.001){vi(i.lineObj,s);var f=i.lineObj.widgets;if(f)for(var l=0;l<f.length;++l)f[l].height=f[l].node.offsetHeight}}}function X(e){var t=e.display.viewOffset=yi(e,hi(e.doc,e.display.showingFrom));e.display.mover.style.top=t+"px"}function V(e,t){for(var n=0,r=t.length||0;n<r;++n){var i=t[n],s=[],o=i.diff||0;for(var u=0,a=e.length;u<a;++u){var f=e[u];i.to<=f.from&&i.diff?s.push({from:f.from+o,to:f.to+o}):i.to<=f.from||i.from>=f.to?s.push(f):(i.from>f.from&&s.push({from:f.from,to:i.from}),i.to<f.to&&s.push({from:i.to+o,to:f.to+o}))}e=s}return e}function $(e){var t=e.display,n={},r={};for(var i=t.gutters.firstChild,s=0;i;i=i.nextSibling,++s)n[e.options.gutters[s]]=i.offsetLeft,r[e.options.gutters[s]]=i.offsetWidth;return{fixedPos:R(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function J(e,t,n,r,i){function c(t){var n=t.nextSibling;return s&&m&&e.display.currentWheelTarget==t?(t.style.display="none",t.lineObj=null):t.parentNode.removeChild(t),n}var o=$(e),u=e.display,a=e.options.lineNumbers;!r.length&&(!s||!e.display.currentWheelTarget)&&hs(u.lineDiv);var f=u.lineDiv,l=f.firstChild,h=r.shift(),p=t;e.doc.iter(t,n,function(t){h&&h.to==p&&(h=r.shift());if(Dr(e.doc,t)){t.height!=0&&vi(t,0);if(t.widgets&&l&&l.previousSibling)for(var n=0;n<t.widgets.length;++n){var s=t.widgets[n];if(s.showIfHidden){var u=l.previousSibling;if(/pre/i.test(u.nodeName)){var d=cs("div",null,null,"position: relative");u.parentNode.replaceChild(d,u),d.appendChild(u),u=d}var v=u.appendChild(cs("div",[s.node],"CodeMirror-linewidget"));s.handleMouseEvents||(v.ignoreEvents=!0),Q(s,v,u,o)}}}else if(h&&h.from<=p&&h.to>p){while(l.lineObj!=t)l=c(l);a&&i<=p&&l.lineNumber&&ds(l.lineNumber,q(e.options,p)),l=l.nextSibling}else{if(t.widgets)for(var m=0,g=l,y;g&&m<20;++m,g=g.nextSibling)if(g.lineObj==t&&/div/i.test(g.nodeName)){y=g;break}var b=K(e,t,p,o,y);if(b!=y)f.insertBefore(b,l);else{while(l!=y)l=c(l);l=l.nextSibling}b.lineObj=t}++p});while(l)l=c(l)}function K(e,t,r,i,s){var o=Qr(e,t),u=o.pre,a=t.gutterMarkers,f=e.display,l,c=o.bgClass?o.bgClass+" "+(t.bgClass||""):t.bgClass;if(!e.options.lineNumbers&&!a&&!c&&!t.wrapClass&&!t.widgets)return u;if(s){s.alignable=null;var h=!0,p=0,d=null;for(var v=s.firstChild,m;v;v=m){m=v.nextSibling;if(!/\bCodeMirror-linewidget\b/.test(v.className))s.removeChild(v);else{for(var g=0;g<t.widgets.length;++g){var y=t.widgets[g];if(y.node==v.firstChild){!y.above&&!d&&(d=v),Q(y,v,s,i),++p;break}}if(g==t.widgets.length){h=!1;break}}}s.insertBefore(u,d),h&&p==t.widgets.length&&(l=s,s.className=t.wrapClass||"")}l||(l=cs("div",null,t.wrapClass,"position: relative"),l.appendChild(u)),c&&l.insertBefore(cs("div",null,c+" CodeMirror-linebackground"),l.firstChild);if(e.options.lineNumbers||a){var b=l.insertBefore(cs("div",null,null,"position: absolute; left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px"),l.firstChild);e.options.fixedGutter&&(l.alignable||(l.alignable=[])).push(b),e.options.lineNumbers&&(!a||!a["CodeMirror-linenumbers"])&&(l.lineNumber=b.appendChild(cs("div",q(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+f.lineNumInnerWidth+"px")));if(a)for(var w=0;w<e.options.gutters.length;++w){var E=e.options.gutters[w],S=a.hasOwnProperty(E)&&a[E];S&&b.appendChild(cs("div",[S],"CodeMirror-gutter-elt","left: "+i.gutterLeft[E]+"px; width: "+i.gutterWidth[E]+"px"))}}n&&(l.style.zIndex=2);if(t.widgets&&l!=s)for(var g=0,x=t.widgets;g<x.length;++g){var y=x[g],T=cs("div",[y.node],"CodeMirror-linewidget");y.handleMouseEvents||(T.ignoreEvents=!0),Q(y,T,l,i),y.above?l.insertBefore(T,e.options.lineNumbers&&t.height!=0?b:u):l.appendChild(T),zi(y,"redraw")}return l}function Q(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function G(e){var t=e.display,n=An(e.doc.sel.from,e.doc.sel.to);n||e.options.showCursorWhenSelecting?Y(e):t.cursor.style.display=t.otherCursor.style.display="none",n?t.selectionDiv.style.display="none":Z(e);if(e.options.moveInputWithCursor){var r=Et(e,e.doc.sel.head,"div"),i=vs(t.wrapper),s=vs(t.lineDiv);t.inputDiv.style.top=Math.max(0,Math.min(t.wrapper.clientHeight-10,r.top+s.top-i.top))+"px",t.inputDiv.style.left=Math.max(0,Math.min(t.wrapper.clientWidth-10,r.left+s.left-i.left))+"px"}}function Y(e){var t=e.display,n=Et(e,e.doc.sel.head,"div");t.cursor.style.left=n.left+"px",t.cursor.style.top=n.top+"px",t.cursor.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",t.cursor.style.display="",n.other?(t.otherCursor.style.display="",t.otherCursor.style.left=n.other.left+"px",t.otherCursor.style.top=n.other.top+"px",t.otherCursor.style.height=(n.other.bottom-n.other.top)*.85+"px"):t.otherCursor.style.display="none"}function Z(e){function u(e,t,n,r){t<0&&(t=0),i.appendChild(cs("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(n==null?s-e:n)+"px; height: "+(r-t)+"px"))}function a(t,r,i){function h(n,r){return wt(e,Ln(t,n),"div",a,r)}var a=hi(n,t),f=a.text.length,l,c;return Cs(bi(a),r||0,i==null?f:i,function(e,t,n){var a=h(e,"left"),p,d,v;if(e==t)p=a,d=v=a.left;else{p=h(t-1,"right");if(n=="rtl"){var m=a;a=p,p=m}d=a.left,v=p.right}r==null&&e==0&&(d=o),p.top-a.top>3&&(u(d,a.top,null,a.bottom),d=o,a.bottom<p.top&&u(d,a.bottom,null,p.top)),i==null&&t==f&&(v=s);if(!l||a.top<l.top||a.top==l.top&&a.left<l.left)l=a;if(!c||p.bottom>c.bottom||p.bottom==c.bottom&&p.right>c.right)c=p;d<o+1&&(d=o),u(d,p.top,v-d,p.bottom)}),{start:l,end:c}}var t=e.display,n=e.doc,r=e.doc.sel,i=document.createDocumentFragment(),s=t.lineSpace.offsetWidth,o=ut(e.display);if(r.from.line==r.to.line)a(r.from.line,r.from.ch,r.to.ch);else{var f=hi(n,r.from.line),l=hi(n,r.to.line),c=_r(n,f)==_r(n,l),h=a(r.from.line,r.from.ch,c?f.text.length:null).end,p=a(r.to.line,c?0:null,r.to.ch).start;c&&(h.top<p.top-2?(u(h.right,h.top,null,h.bottom),u(o,p.top,p.left,p.bottom)):u(h.right,h.top,p.left-h.right,h.bottom)),h.bottom<p.top&&u(o,h.bottom,null,p.top)}ps(t.selectionDiv,i),t.selectionDiv.style.display=""}function et(e){if(!e.state.focused)return;var t=e.display;clearInterval(t.blinker);var n=!0;t.cursor.style.visibility=t.otherCursor.style.visibility="",e.options.cursorBlinkRate>0&&(t.blinker=setInterval(function(){t.cursor.style.visibility=t.otherCursor.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate))}function tt(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.showingTo&&e.state.highlight.set(t,os(nt,e))}function nt(e){var t=e.doc;t.frontier<t.first&&(t.frontier=t.first);if(t.frontier>=e.display.showingTo)return;var n=+(new Date)+e.options.workTime,r=ar(t.mode,it(e,t.frontier)),i=[],s;t.iter(t.frontier,Math.min(t.first+t.size,e.display.showingTo+500),function(o){if(t.frontier>=e.display.showingFrom){var u=o.styles;o.styles=Xr(e,o,r,!0);var a=!u||u.length!=o.styles.length;for(var f=0;!a&&f<u.length;++f)a=u[f]!=o.styles[f];a&&(s&&s.end==t.frontier?s.end++:i.push(s={start:t.frontier,end:t.frontier+1})),o.stateAfter=ar(t.mode,r)}else $r(e,o.text,r),o.stateAfter=t.frontier%5==0?ar(t.mode,r):null;++t.frontier;if(+(new Date)>n)return tt(e,e.options.workDelay),!0}),i.length&&Mt(e,function(){for(var e=0;e<i.length;++e)Pt(this,i[e].start,i[e].end)})()}function rt(e,t,n){var r,i,s=e.doc,o=n?-1:t-(e.doc.mode.innerMode?1e3:100);for(var u=t;u>o;--u){if(u<=s.first)return s.first;var a=hi(s,u-1);if(a.stateAfter&&(!n||u<=s.frontier))return u;var f=Gi(a.text,null,e.options.tabSize);if(i==null||r>f)i=u-1,r=f}return i}function it(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return!0;var s=rt(e,t,n),o=s>r.first&&hi(r,s-1).stateAfter;return o?o=ar(r.mode,o):o=fr(r.mode),r.iter(s,t,function(n){$r(e,n.text,o);var u=s==t-1||s%5==0||s>=i.showingFrom&&s<i.showingTo;n.stateAfter=u?ar(r.mode,o):null,++s}),n&&(r.frontier=s),o}function st(e){return e.lineSpace.offsetTop}function ot(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function ut(e){var t=ps(e.measure,cs("pre",null,null,"text-align: left")).appendChild(cs("span","x"));return t.offsetLeft}function at(e,t,n,r,i){var s=-1;r=r||ct(e,t);if(r.crude){var o=r.left+n*r.width;return{left:o,right:o+r.width,top:r.top,bottom:r.bottom}}for(var u=n;;u+=s){var a=r[u];if(a)break;s<0&&u==0&&(s=1)}return i=u>n?"left":u<n?"right":i,i=="left"&&a.leftSide?a=a.leftSide:i=="right"&&a.rightSide&&(a=a.rightSide),{left:u<n?a.right:a.left,right:u>n?a.left:a.right,top:a.top,bottom:a.bottom}}function ft(e,t){var n=e.display.measureLineCache;for(var r=0;r<n.length;++r){var i=n[r];if(i.text==t.text&&i.markedSpans==t.markedSpans&&e.display.scroller.clientWidth==i.width&&i.classes==t.textClass+"|"+t.wrapClass)return i}}function lt(e,t){var n=ft(e,t);n&&(n.text=n.measure=n.markedSpans=null)}function ct(e,t){var n=ft(e,t);if(n)return n.measure;var r=ht(e,t),i=e.display.measureLineCache,s={text:t.text,width:e.display.scroller.clientWidth,markedSpans:t.markedSpans,measure:r,classes:t.textClass+"|"+t.wrapClass};return i.length==16?i[++e.display.measureLineCachePos%16]=s:i.push(s),r}function ht(e,i){function b(e){var t=e.top-v.top,n=e.bottom-v.top;n>y&&(n=y),t<0&&(t=0);for(var r=m.length-2;r>=0;r-=2){var i=m[r],s=m[r+1];if(i>n||s<t)continue;if(i<=t&&s>=n||t<=i&&n>=s||Math.min(n,s)-Math.max(t,i)>=n-t>>1){m[r]=Math.min(t,i),m[r+1]=Math.max(n,s);break}}return r<0&&(r=m.length,m.push(t,n)),{left:e.left-v.left,right:e.right-v.left,top:r,bottom:null}}function w(e){e.bottom=m[e.top+1],e.top=m[e.top]}if(!e.options.lineWrapping&&i.text.length>=e.options.crudeMeasuringFrom)return pt(e,i);var s=e.display,o=ss(i.text.length),u=Qr(e,i,o,!0).pre;if(t&&!n&&!e.options.lineWrapping&&u.childNodes.length>100){var a=document.createDocumentFragment(),f=10,l=u.childNodes.length;for(var c=0,h=Math.ceil(l/f);c<h;++c){var p=cs("div",null,null,"display: inline-block");for(var d=0;d<f&&l;++d)p.appendChild(u.firstChild),--l;a.appendChild(p)}u.appendChild(a)}ps(s.measure,u);var v=vs(s.lineDiv),m=[],g=ss(i.text.length),y=u.offsetHeight;r&&s.measure.first!=u&&ps(s.measure,u);for(var c=0,E;c<o.length;++c)if(E=o[c]){var S=E,x=null;if(/\bCodeMirror-widget\b/.test(E.className)&&E.getClientRects){E.firstChild.nodeType==1&&(S=E.firstChild);var T=S.getClientRects();T.length>1&&(x=g[c]=b(T[0]),x.rightSide=b(T[T.length-1]))}x||(x=g[c]=b(vs(S))),E.measureRight&&(x.right=vs(E.measureRight).left),E.leftSide&&(x.leftSide=b(vs(E.leftSide)))}hs(e.display.measure);for(var c=0,E;c<g.length;++c)if(E=g[c])w(E),E.leftSide&&w(E.leftSide),E.rightSide&&w(E.rightSide);return g}function pt(e,t){var n=new Rr(t.text.slice(0,100),null);t.textClass&&(n.textClass=t.textClass);var r=ht(e,n),i=at(e,n,0,r,"left"),s=at(e,n,99,r,"right");return{crude:!0,top:i.top,left:i.left,bottom:i.bottom,width:(s.right-i.left)/100}}function dt(e,t){var n=!1;if(t.markedSpans)for(var r=0;r<t.markedSpans;++r){var i=t.markedSpans[r];i.collapsed&&(i.to==null||i.to==t.text.length)&&(n=!0)}var s=!n&&ft(e,t);if(s||t.text.length>=e.options.crudeMeasuringFrom)return at(e,t,t.text.length,s&&s.measure,"right").right;var o=Qr(e,t,null,!0).pre,u=o.appendChild(Es(e.display.measure));return ps(e.display.measure,o),vs(u).right-vs(e.display.lineDiv).left}function vt(e){e.display.measureLineCache.length=e.display.measureLineCachePos=0,e.display.cachedCharWidth=e.display.cachedTextHeight=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function mt(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function gt(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function yt(e,t,n,r){if(t.widgets)for(var i=0;i<t.widgets.length;++i)if(t.widgets[i].above){var s=Ir(t.widgets[i]);n.top+=s,n.bottom+=s}if(r=="line")return n;r||(r="local");var o=yi(e,t);r=="local"?o+=st(e.display):o-=e.display.viewOffset;if(r=="page"||r=="window"){var u=vs(e.display.lineSpace);o+=u.top+(r=="window"?0:gt());var a=u.left+(r=="window"?0:mt());n.left+=a,n.right+=a}return n.top+=o,n.bottom+=o,n}function bt(e,t,n){if(n=="div")return t;var r=t.left,i=t.top;if(n=="page")r-=mt(),i-=gt();else if(n=="local"||!n){var s=vs(e.display.sizer);r+=s.left,i+=s.top}var o=vs(e.display.lineSpace);return{left:r-o.left,top:i-o.top}}function wt(e,t,n,r,i){return r||(r=hi(e.doc,t.line)),yt(e,r,at(e,r,t.ch,null,i),n)}function Et(e,t,n,r,i){function s(t,s){var o=at(e,r,t,i,s?"right":"left");return s?o.left=o.right:o.right=o.left,yt(e,r,o,n)}function o(e,t){var n=u[t],r=n.level%2;return e==ks(n)&&t&&n.level<u[t-1].level?(n=u[--t],e=Ls(n)-(n.level%2?0:1),r=!0):e==Ls(n)&&t<u.length-1&&n.level<u[t+1].level&&(n=u[++t],e=ks(n)-n.level%2,r=!1),r&&e==n.to&&e>n.from?s(e-1):s(e,r)}r=r||hi(e.doc,t.line),i||(i=ct(e,r));var u=bi(r),a=t.ch;if(!u)return s(a);var f=Hs(u,a),l=o(a,f);return Ps!=null&&(l.other=o(a,Ps)),l}function St(e,t,n,r){var i=new Ln(e,t);return i.xRel=r,n&&(i.outside=!0),i}function xt(e,t,n){var r=e.doc;n+=e.display.viewOffset;if(n<0)return St(r.first,0,!0,-1);var i=gi(r,n),s=r.first+r.size-1;if(i>s)return St(r.first+r.size-1,hi(r,s).text.length,!0,1);t<0&&(t=0);for(;;){var o=hi(r,i),u=Tt(e,o,i,t,n),a=Mr(o),f=a&&a.find();if(!a||!(u.ch>f.from.ch||u.ch==f.from.ch&&u.xRel>0))return u;i=f.to.line}}function Tt(e,t,n,r,i){function f(r){var i=Et(e,Ln(n,r),"line",t,a);return o=!0,s>i.bottom?i.left-u:s<i.top?i.left+u:(o=!1,i.left)}var s=i-yi(e,t),o=!1,u=2*e.display.wrapper.clientWidth,a=ct(e,t),l=bi(t),c=t.text.length,h=As(t),p=Os(t),d=f(h),v=o,m=f(p),g=o;if(r>m)return St(n,p,g,1);for(;;){if(l?p==h||p==js(t,h,1):p-h<=1){var y=r<d||r-d<=m-r?h:p,b=r-(y==h?d:m);while(ls.test(t.text.charAt(y)))++y;var w=St(n,y,y==h?v:g,b<0?-1:b?1:0);return w}var E=Math.ceil(c/2),S=h+E;if(l){S=h;for(var x=0;x<E;++x)S=js(t,S,1)}var T=f(S);if(T>r){p=S,m=T;if(g=o)m+=1e3;c=E}else h=S,d=T,v=o,c-=E}}function Ct(e){if(e.cachedTextHeight!=null)return e.cachedTextHeight;if(Nt==null){Nt=cs("pre");for(var t=0;t<49;++t)Nt.appendChild(document.createTextNode("x")),Nt.appendChild(cs("br"));Nt.appendChild(document.createTextNode("x"))}ps(e.measure,Nt);var n=Nt.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),hs(e.measure),n||1}function kt(e){if(e.cachedCharWidth!=null)return e.cachedCharWidth;var t=cs("span","x"),n=cs("pre",[t]);ps(e.measure,n);var r=t.offsetWidth;return r>2&&(e.cachedCharWidth=r),r||10}function At(e){e.curOp={changes:[],forceUpdate:!1,updateInput:null,userSelChange:null,textChanged:null,selectionChanged:!1,cursorActivity:!1,updateMaxLine:!1,updateScrollPos:!1,id:++Lt},Ui++||(Ri=[])}function Ot(e){var t=e.curOp,n=e.doc,r=e.display;e.curOp=null,t.updateMaxLine&&P(e);if(r.maxLineChanged&&!e.options.lineWrapping&&r.maxLine){var i=dt(e,r.maxLine);r.sizer.style.minWidth=Math.max(0,i+3+Ji)+"px",r.maxLineChanged=!1;var s=Math.max(0,r.sizer.offsetLeft+r.sizer.offsetWidth-r.scroller.clientWidth);s<n.scrollLeft&&!t.updateScrollPos&&en(e,Math.min(r.scroller.scrollLeft,s),!0)}var o,u;if(t.updateScrollPos)o=t.updateScrollPos;else if(t.selectionChanged&&r.scroller.clientHeight){var a=Et(e,n.sel.head);o=Wn(e,a.left,a.top,a.left,a.bottom)}if(t.changes.length||t.forceUpdate||o&&o.scrollTop!=null)u=U(e,t.changes,o&&o.scrollTop,t.forceUpdate),e.display.scroller.offsetHeight&&(e.doc.scrollTop=e.display.scroller.scrollTop);!u&&t.selectionChanged&&G(e);if(t.updateScrollPos){var f=Math.max(0,Math.min(r.scroller.scrollHeight-r.scroller.clientHeight,o.scrollTop)),l=Math.max(0,Math.min(r.scroller.scrollWidth-r.scroller.clientWidth,o.scrollLeft));r.scroller.scrollTop=r.scrollbarV.scrollTop=n.scrollTop=f,r.scroller.scrollLeft=r.scrollbarH.scrollLeft=n.scrollLeft=l,F(e),t.scrollToPos&&Un(e,Dn(e.doc,t.scrollToPos.from),Dn(e.doc,t.scrollToPos.to),t.scrollToPos.margin)}else o&&Rn(e);t.selectionChanged&&et(e),e.state.focused&&t.updateInput&&Ft(e,t.userSelChange);var c=t.maybeHiddenMarkers,h=t.maybeUnhiddenMarkers;if(c)for(var p=0;p<c.length;++p)c[p].lines.length||qi(c[p],"hide");if(h)for(var p=0;p<h.length;++p)h[p].lines.length&&qi(h[p],"unhide");var d;--Ui||(d=Ri,Ri=null),t.textChanged&&qi(e,"change",e,t.textChanged),t.cursorActivity&&qi(e,"cursorActivity",e);if(d)for(var p=0;p<d.length;++p)d[p]()}function Mt(e,t){return function(){var n=e||this,r=!n.curOp;r&&At(n);try{var i=t.apply(n,arguments)}finally{r&&Ot(n)}return i}}function _t(e){return function(){var t=this.cm&&!this.cm.curOp,n;t&&At(this.cm);try{n=e.apply(this,arguments)}finally{t&&Ot(this.cm)}return n}}function Dt(e,t){var n=!e.curOp,r;n&&At(e);try{r=t()}finally{n&&Ot(e)}return r}function Pt(e,t,n,r){t==null&&(t=e.doc.first),n==null&&(n=e.doc.first+e.doc.size),e.curOp.changes.push({from:t,to:n,diff:r})}function Ht(e){if(e.display.pollingFast)return;e.display.poll.set(e.options.pollInterval,function(){jt(e),e.state.focused&&Ht(e)})}function Bt(e){function n(){var r=jt(e);!r&&!t?(t=!0,e.display.poll.set(60,n)):(e.display.pollingFast=!1,Ht(e))}var t=!1;e.display.pollingFast=!0,e.display.poll.set(20,n)}function jt(e){var n=e.display.input,i=e.display.prevInput,s=e.doc,o=s.sel;if(!e.state.focused||xs(n)||qt(e)||e.state.disableInput)return!1;e.state.pasteIncoming&&e.state.fakedLastChar&&(n.value=n.value.substring(0,n.value.length-1),e.state.fakedLastChar=!1);var u=n.value;if(u==i&&An(o.from,o.to))return!1;if(t&&!r&&e.display.inputHasSelection===u)return Ft(e,!0),!1;var a=!e.curOp;a&&At(e),o.shift=!1;var f=0,l=Math.min(i.length,u.length);while(f<l&&i.charCodeAt(f)==u.charCodeAt(f))++f;var c=o.from,h=o.to;f<i.length?c=Ln(c.line,c.ch-(i.length-f)):e.state.overwrite&&An(c,h)&&!e.state.pasteIncoming&&(h=Ln(h.line,Math.min(hi(s,h.line).text.length,h.ch+(u.length-f))));var p=e.curOp.updateInput,d={from:c,to:h,text:Ss(u.slice(f)),origin:e.state.pasteIncoming?"paste":"+input"};return En(e.doc,d,"end"),e.curOp.updateInput=p,zi(e,"inputRead",e,d),u.length>1e3||u.indexOf("\n")>-1?n.value=e.display.prevInput="":e.display.prevInput=u,a&&Ot(e),e.state.pasteIncoming=!1,!0}function Ft(e,n){var i,s,o=e.doc;if(!An(o.sel.from,o.sel.to)){e.display.prevInput="",i=Ts&&(o.sel.to.line-o.sel.from.line>100||(s=e.getSelection()).length>1e3);var u=i?"-":s||e.getSelection();e.display.input.value=u,e.state.focused&&ts(e.display.input),t&&!r&&(e.display.inputHasSelection=u)}else n&&(e.display.prevInput=e.display.input.value="",t&&!r&&(e.display.inputHasSelection=null));e.display.inaccurateSelection=i}function It(e){e.options.readOnly!="nocursor"&&(!v||document.activeElement!=e.display.input)&&e.display.input.focus()}function qt(e){return e.options.readOnly||e.doc.cantEdit}function Rt(e){function i(){e.state.focused&&setTimeout(os(It,e),0)}function u(){o==null&&(o=setTimeout(function(){o=null,n.cachedCharWidth=n.cachedTextHeight=ys=null,vt(e),Dt(e,os(Pt,e))},100))}function a(){for(var e=n.wrapper.parentNode;e&&e!=document.body;e=e.parentNode);e?setTimeout(a,5e3):Ii(window,"resize",u)}function f(t){if(Wi(e,t)||e.options.onDragEvent&&e.options.onDragEvent(e,Mi(t)))return;Hi(t)}function c(){n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,n.input.value=e.getSelection(),ts(n.input))}var n=e.display;Fi(n.scroller,"mousedown",Mt(e,Vt)),t?Fi(n.scroller,"dblclick",Mt(e,function(t){if(Wi(e,t))return;var n=zt(e,t);if(!n||Kt(e,t)||Ut(e.display,t))return;_i(t);var r=Gn(hi(e.doc,n.line).text,n);Bn(e.doc,r.from,r.to)})):Fi(n.scroller,"dblclick",function(t){Wi(e,t)||_i(t)}),Fi(n.lineSpace,"selectstart",function(e){Ut(n,e)||_i(e)}),w||Fi(n.scroller,"contextmenu",function(t){mn(e,t)}),Fi(n.scroller,"scroll",function(){n.scroller.clientHeight&&(Zt(e,n.scroller.scrollTop),en(e,n.scroller.scrollLeft,!0),qi(e,"scroll",e))}),Fi(n.scrollbarV,"scroll",function(){n.scroller.clientHeight&&Zt(e,n.scrollbarV.scrollTop)}),Fi(n.scrollbarH,"scroll",function(){n.scroller.clientHeight&&en(e,n.scrollbarH.scrollLeft)}),Fi(n.scroller,"mousewheel",function(t){rn(e,t)}),Fi(n.scroller,"DOMMouseScroll",function(t){rn(e,t)}),Fi(n.scrollbarH,"mousedown",i),Fi(n.scrollbarV,"mousedown",i),Fi(n.wrapper,"scroll",function(){n.wrapper.scrollTop=n.wrapper.scrollLeft=0});var o;Fi(window,"resize",u),setTimeout(a,5e3),Fi(n.input,"keyup",Mt(e,function(t){if(Wi(e,t)||e.options.onKeyEvent&&e.options.onKeyEvent(e,Mi(t)))return;t.keyCode==16&&(e.doc.sel.shift=!1)})),Fi(n.input,"input",function(){t&&!r&&e.display.inputHasSelection&&(e.display.inputHasSelection=null),Bt(e)}),Fi(n.input,"keydown",Mt(e,cn)),Fi(n.input,"keypress",Mt(e,hn)),Fi(n.input,"focus",os(pn,e)),Fi(n.input,"blur",os(dn,e)),e.options.dragDrop&&(Fi(n.scroller,"dragstart",function(t){Yt(e,t)}),Fi(n.scroller,"dragenter",f),Fi(n.scroller,"dragover",f),Fi(n.scroller,"drop",Mt(e,Gt))),Fi(n.scroller,"paste",function(t){if(Ut(n,t))return;It(e),Bt(e)}),Fi(n.input,"paste",function(){if(s&&!e.state.fakedLastChar&&!(new Date-e.state.lastMiddleDown<200)){var t=n.input.selectionStart,r=n.input.selectionEnd;n.input.value+="$",n.input.selectionStart=t,n.input.selectionEnd=r,e.state.fakedLastChar=!0}e.state.pasteIncoming=!0,Bt(e)}),Fi(n.input,"cut",c),Fi(n.input,"copy",c),l&&Fi(n.sizer,"mouseup",function(){document.activeElement==n.input&&n.input.blur(),It(e)})}function Ut(e,t){for(var n=Bi(t);n!=e.wrapper;n=n.parentNode)if(!n||n.ignoreEvents||n.parentNode==e.sizer&&n!=e.mover)return!0}function zt(e,t,n){var r=e.display;if(!n){var i=Bi(t);if(i==r.scrollbarH||i==r.scrollbarH.firstChild||i==r.scrollbarV||i==r.scrollbarV.firstChild||i==r.scrollbarFiller||i==r.gutterFiller)return null}var s,o,u=vs(r.lineSpace);try{s=t.clientX,o=t.clientY}catch(t){return null}return xt(e,s-u.left,o-u.top)}function Vt(e){function m(e){if(An(v,e))return;v=e;if(f=="single"){Bn(n.doc,Dn(i,u),e);return}p=Dn(i,p),d=Dn(i,d);if(f=="double"){var t=Gn(hi(i,e.line).text,e);On(e,p)?Bn(n.doc,t.from,d):Bn(n.doc,p,t.to)}else f=="triple"&&(On(e,p)?Bn(n.doc,d,Dn(i,Ln(e.line,0))):Bn(n.doc,p,Dn(i,Ln(e.line+1,0))))}function b(e){var t=++y,s=zt(n,e,!0);if(!s)return;if(!An(s,c)){n.state.focused||pn(n),c=s,m(s);var o=j(r,i);(s.line>=o.to||s.line<o.from)&&setTimeout(Mt(n,function(){y==t&&b(e)}),150)}else{var u=e.clientY<g.top?-20:e.clientY>g.bottom?20:0;u&&setTimeout(Mt(n,function(){if(y!=t)return;r.scroller.scrollTop+=u,b(e)}),50)}}function E(e){y=Infinity,_i(e),It(n),Ii(document,"mousemove",S),Ii(document,"mouseup",x)}if(Wi(this,e))return;var n=this,r=n.display,i=n.doc,o=i.sel;o.shift=e.shiftKey;if(Ut(r,e)){s||(r.scroller.draggable=!1,setTimeout(function(){r.scroller.draggable=!0},100));return}if(Kt(n,e))return;var u=zt(n,e);switch(ji(e)){case 3:w&&mn.call(n,n,e);return;case 2:s&&(n.state.lastMiddleDown=+(new Date)),u&&Bn(n.doc,u),setTimeout(os(It,n),20),_i(e);return}if(!u){Bi(e)==r.scroller&&_i(e);return}n.state.focused||pn(n);var a=+(new Date),f="single";if(Xt&&Xt.time>a-400&&An(Xt.pos,u))f="triple",_i(e),setTimeout(os(It,n),20),Yn(n,u.line);else if(Wt&&Wt.time>a-400&&An(Wt.pos,u)){f="double",Xt={time:a,pos:u},_i(e);var l=Gn(hi(i,u.line).text,u);Bn(n.doc,l.from,l.to)}else Wt={time:a,pos:u};var c=u;if(n.options.dragDrop&&ms&&!qt(n)&&!An(o.from,o.to)&&!On(u,o.from)&&!On(o.to,u)&&f=="single"){var h=Mt(n,function(t){s&&(r.scroller.draggable=!1),n.state.draggingText=!1,Ii(document,"mouseup",h),Ii(r.scroller,"drop",h),Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)<10&&(_i(t),Bn(n.doc,u),It(n))});s&&(r.scroller.draggable=!0),n.state.draggingText=h,r.scroller.dragDrop&&r.scroller.dragDrop(),Fi(document,"mouseup",h),Fi(r.scroller,"drop",h);return}_i(e),f=="single"&&Bn(n.doc,Dn(i,u));var p=o.from,d=o.to,v=u,g=vs(r.wrapper),y=0,S=Mt(n,function(e){!t&&!ji(e)?E(e):b(e)}),x=Mt(n,E);Fi(document,"mousemove",S),Fi(document,"mouseup",x)}function $t(e,t,n,r,i){try{var s=t.clientX,o=t.clientY}catch(t){return!1}if(s>=Math.floor(vs(e.display.gutters).right))return!1;r&&_i(t);var u=e.display,a=vs(u.lineDiv);if(o>a.bottom||!Vi(e,n))return Pi(t);o-=a.top-u.viewOffset;for(var f=0;f<e.options.gutters.length;++f){var l=u.gutters.childNodes[f];if(l&&vs(l).right>=s){var c=gi(e.doc,o),h=e.options.gutters[f];return i(e,n,e,c,h,t),Pi(t)}}}function Jt(e,t){return Vi(e,"gutterContextMenu")?$t(e,t,"gutterContextMenu",!1,qi):!1}function Kt(e,t){return $t(e,t,"gutterClick",!0,zi)}function Gt(e){var n=this;if(Wi(n,e)||Ut(n.display,e)||n.options.onDragEvent&&n.options.onDragEvent(n,Mi(e)))return;_i(e),t&&(Qt=+(new Date));var r=zt(n,e,!0),i=e.dataTransfer.files;if(!r||qt(n))return;if(i&&i.length&&window.FileReader&&window.File){var s=i.length,o=Array(s),u=0,a=function(e,t){var i=new FileReader;i.onload=function(){o[t]=i.result,++u==s&&(r=Dn(n.doc,r),En(n.doc,{from:r,to:r,text:Ss(o.join("\n")),origin:"paste"},"around"))},i.readAsText(e)};for(var f=0;f<s;++f)a(i[f],f)}else{if(n.state.draggingText&&!On(r,n.doc.sel.from)&&!On(n.doc.sel.to,r)){n.state.draggingText(e),setTimeout(os(It,n),20);return}try{var o=e.dataTransfer.getData("Text");if(o){var l=n.doc.sel.from,c=n.doc.sel.to;Fn(n.doc,r,r),n.state.draggingText&&kn(n.doc,"",l,c,"paste"),n.replaceSelection(o,null,"paste"),It(n)}}catch(e){}}}function Yt(e,n){if(t&&(!e.state.draggingText||+(new Date)-Qt<100)){Hi(n);return}if(Wi(e,n)||Ut(e.display,n))return;var r=e.getSelection();n.dataTransfer.setData("Text",r);if(n.dataTransfer.setDragImage&&!f){var i=cs("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",a&&(i.width=i.height=1,e.display.wrapper.appendChild(i),i._top=i.offsetTop),n.dataTransfer.setDragImage(i,0,0),a&&i.parentNode.removeChild(i)}}function Zt(t,n){if(Math.abs(t.doc.scrollTop-n)<2)return;t.doc.scrollTop=n,e||U(t,[],n),t.display.scroller.scrollTop!=n&&(t.display.scroller.scrollTop=n),t.display.scrollbarV.scrollTop!=n&&(t.display.scrollbarV.scrollTop=n),e&&U(t,[]),tt(t,100)}function en(e,t,n){if(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)return;t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,F(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbarH.scrollLeft!=t&&(e.display.scrollbarH.scrollLeft=t)}function rn(t,n){var r=n.wheelDeltaX,i=n.wheelDeltaY;r==null&&n.detail&&n.axis==n.HORIZONTAL_AXIS&&(r=n.detail),i==null&&n.detail&&n.axis==n.VERTICAL_AXIS?i=n.detail:i==null&&(i=n.wheelDelta);var o=t.display,u=o.scroller;if(!(r&&u.scrollWidth>u.clientWidth||i&&u.scrollHeight>u.clientHeight))return;if(i&&m&&s)for(var f=n.target;f!=u;f=f.parentNode)if(f.lineObj){t.display.currentWheelTarget=f;break}if(r&&!e&&!a&&nn!=null){i&&Zt(t,Math.max(0,Math.min(u.scrollTop+i*nn,u.scrollHeight-u.clientHeight))),en(t,Math.max(0,Math.min(u.scrollLeft+r*nn,u.scrollWidth-u.clientWidth))),_i(n),o.wheelStartX=null;return}if(i&&nn!=null){var l=i*nn,c=t.doc.scrollTop,h=c+o.wrapper.clientHeight;l<0?c=Math.max(0,c+l-50):h=Math.min(t.doc.height,h+l+50),U(t,[],{top:c,bottom:h})}tn<20&&(o.wheelStartX==null?(o.wheelStartX=u.scrollLeft,o.wheelStartY=u.scrollTop,o.wheelDX=r,o.wheelDY=i,setTimeout(function(){if(o.wheelStartX==null)return;var e=u.scrollLeft-o.wheelStartX,t=u.scrollTop-o.wheelStartY,n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null;if(!n)return;nn=(nn*tn+n)/(tn+1),++tn},200)):(o.wheelDX+=r,o.wheelDY+=i))}function sn(e,t,n){if(typeof t=="string"){t=lr[t];if(!t)return!1}e.display.pollingFast&&jt(e)&&(e.display.pollingFast=!1);var r=e.doc,i=r.sel.shift,s=!1;try{qt(e)&&(e.state.suppressEdits=!0),n&&(r.sel.shift=!1),s=t(e)!=Ki}finally{r.sel.shift=i,e.state.suppressEdits=!1}return s}function on(e){var t=e.state.keyMaps.slice(0);return e.options.extraKeys&&t.push(e.options.extraKeys),t.push(e.options.keyMap),t}function an(e,t){var n=hr(e.options.keyMap),i=n.auto;clearTimeout(un),i&&!dr(t)&&(un=setTimeout(function(){hr(e.options.keyMap)==n&&(e.options.keyMap=i.call?i.call(null,e):i,A(e))},50));var s=vr(t,!0),o=!1;if(!s)return!1;var u=on(e);return t.shiftKey?o=pr("Shift-"+s,u,function(t){return sn(e,t,!0)})||pr(s,u,function(t){if(typeof t=="string"?/^go[A-Z]/.test(t):t.motion)return sn(e,t)}):o=pr(s,u,function(t){return sn(e,t)}),o&&(_i(t),et(e),r&&(t.oldKeyCode=t.keyCode,t.keyCode=0),zi(e,"keyHandled",e,s,t)),o}function fn(e,t,n){var r=pr("'"+n+"'",on(e),function(t){return sn(e,t,!0)});return r&&(_i(t),et(e),zi(e,"keyHandled",e,"'"+n+"'",t)),r}function cn(e){var n=this;n.state.focused||pn(n);if(Wi(n,e)||n.options.onKeyEvent&&n.options.onKeyEvent(n,Mi(e)))return;t&&e.keyCode==27&&(e.returnValue=!1);var r=e.keyCode;n.doc.sel.shift=r==16||e.shiftKey;var i=an(n,e);a&&(ln=i?r:null,!i&&r==88&&!Ts&&(m?e.metaKey:e.ctrlKey)&&n.replaceSelection(""))}function hn(e){var n=this;if(Wi(n,e)||n.options.onKeyEvent&&n.options.onKeyEvent(n,Mi(e)))return;var i=e.keyCode,s=e.charCode;if(a&&i==ln){ln=null,_i(e);return}if((a&&(!e.which||e.which<10)||l)&&an(n,e))return;var o=String.fromCharCode(s==null?i:s);this.options.electricChars&&this.doc.mode.electricChars&&this.options.smartIndent&&!qt(this)&&this.doc.mode.electricChars.indexOf(o)>-1&&setTimeout(Mt(n,function(){$n(n,n.doc.sel.to.line,"smart")}),75);if(fn(n,e,o))return;t&&!r&&(n.display.inputHasSelection=null),Bt(n)}function pn(e){if(e.options.readOnly=="nocursor")return;e.state.focused||(qi(e,"focus",e),e.state.focused=!0,e.display.wrapper.className.search(/\bCodeMirror-focused\b/)==-1&&(e.display.wrapper.className+=" CodeMirror-focused"),e.curOp||(Ft(e,!0),s&&setTimeout(os(Ft,e,!0),0))),Ht(e),et(e)}function dn(e){e.state.focused&&(qi(e,"blur",e),e.state.focused=!1,e.display.wrapper.className=e.display.wrapper.className.replace(" CodeMirror-focused","")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.doc.sel.shift=!1)},150)}function mn(e,n){function c(){if(i.input.selectionStart!=null){var e=i.input.value="â"+(An(s.from,s.to)?"":i.input.value);i.prevInput="â",i.input.selectionStart=1,i.input.selectionEnd=e.length}}function h(){i.inputDiv.style.position="relative",i.input.style.cssText=l,r&&(i.scrollbarV.scrollTop=i.scroller.scrollTop=u),Ht(e);if(i.input.selectionStart!=null){(!t||r)&&c(),clearTimeout(vn);var n=0,s=function(){i.prevInput==" "&&i.input.selectionStart==0?Mt(e,lr.selectAll)(e):n++<10?vn=setTimeout(s,500):Ft(e)};vn=setTimeout(s,200)}}if(Wi(e,n,"contextmenu"))return;var i=e.display,s=e.doc.sel;if(Ut(i,n)||Jt(e,n))return;var o=zt(e,n),u=i.scroller.scrollTop;if(!o||a)return;var f=e.options.resetSelectionOnContextMenu;f&&(An(s.from,s.to)||On(o,s.from)||!On(o,s.to))&&Mt(e,Fn)(e.doc,o,o);var l=i.input.style.cssText;i.inputDiv.style.position="absolute",i.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(n.clientY-5)+"px; left: "+(n.clientX-5)+"px; z-index: 1000; background: white; outline: none;"+"border-width: 0; outline: none; overflow: hidden; opacity: .05; -ms-opacity: .05; filter: alpha(opacity=5);",It(e),Ft(e,!0),An(s.from,s.to)&&(i.input.value=i.prevInput=" "),t&&!r&&c();if(w){Hi(n);var p=function(){Ii(window,"mouseup",p),setTimeout(h,20)};Fi(window,"mouseup",p)}else setTimeout(h,50)}function yn(e,t,n){if(!On(t.from,n))return Dn(e,n);var r=t.text.length-1-(t.to.line-t.from.line);if(n.line>t.to.line+r){var i=n.line-r,s=e.first+e.size-1;return i>s?Ln(s,hi(e,s).text.length):Pn(n,hi(e,i).text.length)}if(n.line==t.to.line+r)return Pn(n,es(t.text).length+(t.text.length==1?t.from.ch:0)+hi(e,t.to.line).text.length-t.to.ch);var o=n.line-t.from.line;return Pn(n,t.text[o].length+(o?0:t.from.ch))}function bn(e,t,n){if(n&&typeof n=="object")return{anchor:yn(e,t,n.anchor),head:yn(e,t,n.head)};if(n=="start")return{anchor:t.from,head:t.from};var r=gn(t);if(n=="around")return{anchor:t.from,head:r};if(n=="end")return{anchor:r,head:r};var i=function(e){if(On(e,t.from))return e;if(!On(t.to,e))return r;var n=e.line+t.text.length-(t.to.line-t.from.line)-1,i=e.ch;return e.line==t.to.line&&(i+=r.ch-t.to.ch),Ln(n,i)};return{anchor:i(e.sel.anchor),head:i(e.sel.head)}}function wn(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return n&&(r.update=function(t,n,r,i){t&&(this.from=Dn(e,t)),n&&(this.to=Dn(e,n)),r&&(this.text=r),i!==undefined&&(this.origin=i)}),qi(e,"beforeChange",e,r),e.cm&&qi(e.cm,"beforeChange",e.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function En(e,t,n,r){if(e.cm){if(!e.cm.curOp)return Mt(e.cm,En)(e,t,n,r);if(e.cm.state.suppressEdits)return}if(Vi(e,"beforeChange")||e.cm&&Vi(e.cm,"beforeChange")){t=wn(e,t,!0);if(!t)return}var i=E&&!r&&Lr(e,t.from,t.to);if(i){for(var s=i.length-1;s>=1;--s)Sn(e,{from:i[s].from,to:i[s].to,text:[""]});i.length&&Sn(e,{from:i[0].from,to:i[0].to,text:t.text},n)}else Sn(e,t,n)}function Sn(e,t,n){if(t.text.length==1&&t.text[0]==""&&An(t.from,t.to))return;var r=bn(e,t,n);xi(e,t,r,e.cm?e.cm.curOp.id:NaN),Nn(e,t,r,Cr(e,t));var i=[];li(e,function(e,n){!n&&ns(i,e.history)==-1&&(Ai(e.history,t),i.push(e.history)),Nn(e,t,null,Cr(e,t))})}function xn(e,t){if(e.cm&&e.cm.state.suppressEdits)return;var n=e.history,r=(t=="undo"?n.done:n.undone).pop();if(!r)return;var i={changes:[],anchorBefore:r.anchorAfter,headBefore:r.headAfter,anchorAfter:r.anchorBefore,headAfter:r.headBefore,generation:n.generation};(t=="undo"?n.undone:n.done).push(i),n.generation=r.generation||++n.maxGeneration;var s=Vi(e,"beforeChange")||e.cm&&Vi(e.cm,"beforeChange");for(var o=r.changes.length-1;o>=0;--o){var u=r.changes[o];u.origin=t;if(s&&!wn(e,u,!1)){(t=="undo"?n.done:n.undone).length=0;return}i.changes.push(Si(e,u));var a=o?bn(e,u,null):{anchor:r.anchorBefore,head:r.headBefore};Nn(e,u,a,kr(e,u));var f=[];li(e,function(e,t){!t&&ns(f,e.history)==-1&&(Ai(e.history,u),f.push(e.history)),Nn(e,u,null,kr(e,u))})}}function Tn(e,t){function n(e){return Ln(e.line+t,e.ch)}e.first+=t,e.cm&&Pt(e.cm,e.first,e.first,t),e.sel.head=n(e.sel.head),e.sel.anchor=n(e.sel.anchor),e.sel.from=n(e.sel.from),e.sel.to=n(e.sel.to)}function Nn(e,t,n,r){if(e.cm&&!e.cm.curOp)return Mt(e.cm,Nn)(e,t,n,r);if(t.to.line<e.first){Tn(e,t.text.length-1-(t.to.line-t.from.line));return}if(t.from.line>e.lastLine())return;if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);Tn(e,i),t={from:Ln(e.first,0),to:Ln(t.to.line+i,t.to.ch),text:[es(t.text)],origin:t.origin}}var s=e.lastLine();t.to.line>s&&(t={from:t.from,to:Ln(s,hi(e,s).text.length),text:[t.text[0]],origin:t.origin}),t.removed=pi(e,t.from,t.to),n||(n=bn(e,t,null)),e.cm?Cn(e.cm,t,r,n):ri(e,t,r,n)}function Cn(e,t,n,r){var i=e.doc,s=e.display,o=t.from,u=t.to,a=!1,f=o.line;e.options.lineWrapping||(f=mi(_r(i,hi(i,o.line))),i.iter(f,u.line+1,function(e){if(e==s.maxLine)return a=!0,!0})),!On(i.sel.head,t.from)&&!On(t.to,i.sel.head)&&(e.curOp.cursorActivity=!0),ri(i,t,n,r,k(e)),e.options.lineWrapping||(i.iter(f,o.line+t.text.length,function(e){var t=D(i,e);t>s.maxLineLength&&(s.maxLine=e,s.maxLineLength=t,s.maxLineChanged=!0,a=!1)}),a&&(e.curOp.updateMaxLine=!0)),i.frontier=Math.min(i.frontier,o.line),tt(e,400);var l=t.text.length-(u.line-o.line)-1;Pt(e,o.line,u.line+1,l);if(Vi(e,"change")){var c={from:o,to:u,text:t.text,removed:t.removed,origin:t.origin};if(e.curOp.textChanged){for(var h=e.curOp.textChanged;h.next;h=h.next);h.next=c}else e.curOp.textChanged=c}}function kn(e,t,n,r,i){r||(r=n);if(On(r,n)){var s=r;r=n,n=s}typeof t=="string"&&(t=Ss(t)),En(e,{from:n,to:r,text:t,origin:i},null)}function Ln(e,t){if(!(this instanceof Ln))return new Ln(e,t);this.line=e,this.ch=t}function An(e,t){return e.line==t.line&&e.ch==t.ch}function On(e,t){return e.line<t.line||e.line==t.line&&e.ch<t.ch}function Mn(e){return Ln(e.line,e.ch)}function _n(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function Dn(e,t){if(t.line<e.first)return Ln(e.first,0);var n=e.first+e.size-1;return t.line>n?Ln(n,hi(e,n).text.length):Pn(t,hi(e,t.line).text.length)}function Pn(e,t){var n=e.ch;return n==null||n>t?Ln(e.line,t):n<0?Ln(e.line,0):e}function Hn(e,t){return t>=e.first&&t<e.first+e.size}function Bn(e,t,n,r){if(e.sel.shift||e.sel.extend){var i=e.sel.anchor;if(n){var s=On(t,i);s!=On(n,i)?(i=t,t=n):s!=On(t,n)&&(t=n)}Fn(e,i,t,r)}else Fn(e,t,n||t,r);e.cm&&(e.cm.curOp.userSelChange=!0)}function jn(e,t,n){var r={anchor:t,head:n};return qi(e,"beforeSelectionChange",e,r),e.cm&&qi(e.cm,"beforeSelectionChange",e.cm,r),r.anchor=Dn(e,r.anchor),r.head=Dn(e,r.head),r}function Fn(e,t,n,r,i){if(!i&&Vi(e,"beforeSelectionChange")||e.cm&&Vi(e.cm,"beforeSelectionChange")){var s=jn(e,t,n);n=s.head,t=s.anchor}var o=e.sel;o.goalColumn=null,r==null&&(r=On(n,o.head)?-1:1);if(i||!An(t,o.anchor))t=qn(e,t,r,i!="push");if(i||!An(n,o.head))n=qn(e,n,r,i!="push");if(An(o.anchor,t)&&An(o.head,n))return;o.anchor=t,o.head=n;var u=On(n,t);o.from=u?n:t,o.to=u?t:n,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=e.cm.curOp.cursorActivity=!0),zi(e,"cursorActivity",e)}function In(e){Fn(e.doc,e.doc.sel.from,e.doc.sel.to,null,"push")}function qn(e,t,n,r){var i=!1,s=t,o=n||1;e.cantEdit=!1;e:for(;;){var u=hi(e,s.line);if(u.markedSpans)for(var a=0;a<u.markedSpans.length;++a){var f=u.markedSpans[a],l=f.marker;if((f.from==null||(l.inclusiveLeft?f.from<=s.ch:f.from<s.ch))&&(f.to==null||(l.inclusiveRight?f.to>=s.ch:f.to>s.ch))){if(r){qi(l,"beforeCursorEnter");if(l.explicitlyCleared){if(!u.markedSpans)break;--a;continue}}if(!l.atomic)continue;var c=l.find()[o<0?"from":"to"];if(An(c,s)){c.ch+=o,c.ch<0?c.line>e.first?c=Dn(e,Ln(c.line-1)):c=null:c.ch>u.text.length&&(c.line<e.first+e.size-1?c=Ln(c.line+1,0):c=null);if(!c){if(i)return r?(e.cantEdit=!0,Ln(e.first,0)):qn(e,t,n,!0);i=!0,c=t,o=-o}}s=c;continue e}}return s}}function Rn(e){var t=Un(e,e.doc.sel.head,null,e.options.cursorScrollMargin);if(!e.state.focused)return;var n=e.display,r=vs(n.sizer),i=null;t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1);if(i!=null&&!p){var s=n.cursor.style.display=="none";s&&(n.cursor.style.display="",n.cursor.style.left=t.left+"px",n.cursor.style.top=t.top-n.viewOffset+"px"),n.cursor.scrollIntoView(i),s&&(n.cursor.style.display="none")}}function Un(e,t,n,r){r==null&&(r=0);for(;;){var i=!1,s=Et(e,t),o=!n||n==t?s:Et(e,n),u=Wn(e,Math.min(s.left,o.left),Math.min(s.top,o.top)-r,Math.max(s.left,o.left),Math.max(s.bottom,o.bottom)+r),a=e.doc.scrollTop,f=e.doc.scrollLeft;u.scrollTop!=null&&(Zt(e,u.scrollTop),Math.abs(e.doc.scrollTop-a)>1&&(i=!0)),u.scrollLeft!=null&&(en(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-f)>1&&(i=!0));if(!i)return s}}function zn(e,t,n,r,i){var s=Wn(e,t,n,r,i);s.scrollTop!=null&&Zt(e,s.scrollTop),s.scrollLeft!=null&&en(e,s.scrollLeft)}function Wn(e,t,n,r,i){var s=e.display,o=Ct(e.display);n<0&&(n=0);var u=s.scroller.clientHeight-Ji,a=s.scroller.scrollTop,f={},l=e.doc.height+ot(s),c=n<o,h=i>l-o;if(n<a)f.scrollTop=c?0:n;else if(i>a+u){var p=Math.min(n,(h?l:i)-u);p!=a&&(f.scrollTop=p)}var d=s.scroller.clientWidth-Ji,v=s.scroller.scrollLeft;t+=s.gutters.offsetWidth,r+=s.gutters.offsetWidth;var m=s.gutters.offsetWidth,g=t<m+10;return t<v+m||g?(g&&(t=0),f.scrollLeft=Math.max(0,t-10-m)):r>d+v-3&&(f.scrollLeft=r+10-d),f}function Xn(e,t,n){e.curOp.updateScrollPos={scrollLeft:t==null?e.doc.scrollLeft:t,scrollTop:n==null?e.doc.scrollTop:n}}function Vn(e,t,n){var r=e.curOp.updateScrollPos||(e.curOp.updateScrollPos={scrollLeft:e.doc.scrollLeft,scrollTop:e.doc.scrollTop}),i=e.display.scroller;r.scrollTop=Math.max(0,Math.min(i.scrollHeight-i.clientHeight,r.scrollTop+n)),r.scrollLeft=Math.max(0,Math.min(i.scrollWidth-i.clientWidth,r.scrollLeft+t))}function $n(e,t,n,r){var i=e.doc;n==null&&(n="add");if(n=="smart")if(!e.doc.mode.indent)n="prev";else var s=it(e,t);var o=e.options.tabSize,u=hi(i,t),a=Gi(u.text,null,o),f=u.text.match(/^\s*/)[0],l;if(n=="smart"){l=e.doc.mode.indent(s,u.text.slice(f.length),u.text);if(l==Ki){if(!r)return;n="prev"}}n=="prev"?t>i.first?l=Gi(hi(i,t-1).text,null,o):l=0:n=="add"?l=a+e.options.indentUnit:n=="subtract"?l=a-e.options.indentUnit:typeof n=="number"&&(l=a+n),l=Math.max(0,l);var c="",h=0;if(e.options.indentWithTabs)for(var p=Math.floor(l/o);p;--p)h+=o,c+="	";h<l&&(c+=Zi(l-h)),c!=f?kn(e.doc,c,Ln(t,0),Ln(t,f.length),"+input"):i.sel.head.line==t&&i.sel.head.ch<f.length&&Fn(i,Ln(t,f.length),Ln(t,f.length),1),u.stateAfter=null}function Jn(e,t,n){var r=t,i=t,s=e.doc;return typeof t=="number"?i=hi(s,_n(s,t)):r=mi(t),r==null?null:n(i,r)?(Pt(e,r,r+1),i):null}function Kn(e,t,n,r,i){function l(){var t=s+n;return t<e.first||t>=e.first+e.size?f=!1:(s=t,a=hi(e,t))}function c(e){var t=(i?js:Fs)(a,o,n,!0);if(t==null){if(!!e||!l())return f=!1;i?o=(n<0?Os:As)(a):o=n<0?a.text.length:0}else o=t;return!0}var s=t.line,o=t.ch,u=n,a=hi(e,s),f=!0;if(r=="char")c();else if(r=="column")c(!0);else if(r=="word"||r=="group"){var h=null,p=r=="group";for(var d=!0;;d=!1){if(n<0&&!c(!d))break;var v=a.text.charAt(o)||"\n",m=as(v)?"w":p?/\s/.test(v)?null:"p":null;if(h&&h!=m){n<0&&(n=1,c());break}m&&(h=m);if(n>0&&!c(!d))break}}var g=qn(e,Ln(s,o),u,!0);return f||(g.hitSide=!0),g}function Qn(e,t,n,r){var i=e.doc,s=t.left,o;if(r=="page"){var u=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);o=t.top+n*(u-(n<0?1.5:.5)*Ct(e.display))}else r=="line"&&(o=n>0?t.bottom+3:t.top-3);for(;;){var a=xt(e,s,o);if(!a.outside)break;if(n<0?o<=0:o>=i.height){a.hitSide=!0;break}o+=n*5}return a}function Gn(e,t){var n=t.ch,r=t.ch;if(e){(t.xRel<0||r==e.length)&&n?--n:++r;var i=e.charAt(n),s=as(i)?as:/\s/.test(i)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!as(e)};while(n>0&&s(e.charAt(n-1)))--n;while(r<e.length&&s(e.charAt(r)))++r}return{from:Ln(t.line,n),to:Ln(t.line,r)}}function Yn(e,t){Bn(e.doc,Ln(t,0),Dn(e.doc,Ln(t+1,0)))}function tr(e,t,n,r){x.defaults[e]=t,n&&(Zn[e]=r?function(e,t,r){r!=nr&&n(e,t,r)}:n)}function ar(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function fr(e,t,n){return e.startState?e.startState(t,n):!0}function hr(e){return typeof e=="string"?cr[e]:e}function pr(e,t,n){function r(t){t=hr(t);var i=t[e];if(i===!1)return"stop";if(i!=null&&n(i))return!0;if(t.nofallthrough)return"stop";var s=t.fallthrough;if(s==null)return!1;if(Object.prototype.toString.call(s)!="[object Array]")return r(s);for(var o=0,u=s.length;o<u;++o){var a=r(s[o]);if(a)return a}return!1}for(var i=0;i<t.length;++i){var s=r(t[i]);if(s)return s!="stop"}}function dr(e){var t=Ns[e.keyCode];return t=="Ctrl"||t=="Alt"||t=="Shift"||t=="Mod"}function vr(e,t){if(a&&e.keyCode==34&&e["char"])return!1;var n=Ns[e.keyCode];if(n==null||e.altGraphKey)return!1;e.altKey&&(n="Alt-"+n);if(b?e.metaKey:e.ctrlKey)n="Ctrl-"+n;if(b?e.ctrlKey:e.metaKey)n="Cmd-"+n;return!t&&e.shiftKey&&(n="Shift-"+n),n}function mr(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0}function gr(e,t){this.lines=[],this.type=t,this.doc=e}function yr(e,t,n,r,i){if(r&&r.shared)return wr(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return Mt(e.cm,yr)(e,t,n,r,i);var s=new gr(e,i);if(On(n,t)||An(t,n)&&i=="range"&&(!r.inclusiveLeft||!r.inclusiveRight))return s;r&&is(r,s),s.replacedWith&&(s.collapsed=!0,s.replacedWith=cs("span",[s.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||(s.replacedWith.ignoreEvents=!0)),s.collapsed&&(S=!0),s.addToHistory&&xi(e,{from:t,to:n,origin:"markText"},{head:e.sel.head,anchor:e.sel.anchor},NaN);var o=t.line,u=0,a,f,l=e.cm,c;e.iter(o,n.line+1,function(r){l&&s.collapsed&&!l.options.lineWrapping&&_r(e,r)==l.display.maxLine&&(c=!0);var i={from:null,to:null,marker:s};u+=r.text.length,o==t.line&&(i.from=t.ch,u-=t.ch),o==n.line&&(i.to=n.ch,u-=r.text.length-n.ch),s.collapsed&&(o==n.line&&(f=Ar(r,n.ch)),o==t.line?a=Ar(r,t.ch):vi(r,0)),xr(r,i),++o}),s.collapsed&&e.iter(t.line,n.line+1,function(t){Dr(e,t)&&vi(t,0)}),s.clearOnEnter&&Fi(s,"beforeCursorEnter",function(){s.clear()}),s.readOnly&&(E=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory());if(s.collapsed){if(a!=f)throw new Error("Inserting collapsed marker overlapping an existing one");s.size=u,s.atomic=!0}return l&&(c&&(l.curOp.updateMaxLine=!0),(s.className||s.title||s.startStyle||s.endStyle||s.collapsed)&&Pt(l,t.line,n.line+1),s.atomic&&In(l)),s}function br(e,t){this.markers=e,this.primary=t;for(var n=0,r=this;n<e.length;++n)e[n].parent=this,Fi(e[n],"clear",function(){r.clear()})}function wr(e,t,n,r,i){r=is(r),r.shared=!1;var s=[yr(e,t,n,r,i)],o=s[0],u=r.replacedWith;return li(e,function(e){u&&(r.replacedWith=u.cloneNode(!0)),s.push(yr(e,Dn(e,t),Dn(e,n),r,i));for(var a=0;a<e.linked.length;++a)if(e.linked[a].isParent)return;o=es(s)}),new br(s,o)}function Er(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Sr(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function xr(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function Tr(e,t,n){if(e)for(var r=0,i;r<e.length;++r){var s=e[r],o=s.marker,u=s.from==null||(o.inclusiveLeft?s.from<=t:s.from<t);if(u||(o.inclusiveLeft&&o.inclusiveRight||o.type=="bookmark")&&s.from==t&&(!n||!s.marker.insertLeft)){var a=s.to==null||(o.inclusiveRight?s.to>=t:s.to>t);(i||(i=[])).push({from:s.from,to:a?null:s.to,marker:o})}}return i}function Nr(e,t,n){if(e)for(var r=0,i;r<e.length;++r){var s=e[r],o=s.marker,u=s.to==null||(o.inclusiveRight?s.to>=t:s.to>t);if(u||o.type=="bookmark"&&s.from==t&&(!n||s.marker.insertLeft)){var a=s.from==null||(o.inclusiveLeft?s.from<=t:s.from<t);(i||(i=[])).push({from:a?null:s.from-t,to:s.to==null?null:s.to-t,marker:o})}}return i}function Cr(e,t){var n=Hn(e,t.from.line)&&hi(e,t.from.line).markedSpans,r=Hn(e,t.to.line)&&hi(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,s=t.to.ch,o=An(t.from,t.to),u=Tr(n,i,o),a=Nr(r,s,o),f=t.text.length==1,l=es(t.text).length+(f?i:0);if(u)for(var c=0;c<u.length;++c){var h=u[c];if(h.to==null){var p=Er(a,h.marker);p?f&&(h.to=p.to==null?null:p.to+l):h.to=i}}if(a)for(var c=0;c<a.length;++c){var h=a[c];h.to!=null&&(h.to+=l);if(h.from==null){var p=Er(u,h.marker);p||(h.from=l,f&&(u||(u=[])).push(h))}else h.from+=l,f&&(u||(u=[])).push(h)}if(f&&u){for(var c=0;c<u.length;++c)u[c].from!=null&&u[c].from==u[c].to&&u[c].marker.type!="bookmark"&&u.splice(c--,1);u.length||(u=null)}var d=[u];if(!f){var v=t.text.length-2,m;if(v>0&&u)for(var c=0;c<u.length;++c)u[c].to==null&&(m||(m=[])).push({from:null,to:null,marker:u[c].marker});for(var c=0;c<v;++c)d.push(m);d.push(a)}return d}function kr(e,t){var n=Ni(e,t),r=Cr(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var s=n[i],o=r[i];if(s&&o)e:for(var u=0;u<o.length;++u){var a=o[u];for(var f=0;f<s.length;++f)if(s[f].marker==a.marker)continue e;s.push(a)}else o&&(n[i]=o)}return n}function Lr(e,t,n){var r=null;e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;n.readOnly&&(!r||ns(r,n)==-1)&&(r||(r=[])).push(n)}});if(!r)return null;var i=[{from:t,to:n}];for(var s=0;s<r.length;++s){var o=r[s],u=o.find();for(var a=0;a<i.length;++a){var f=i[a];if(On(f.to,u.from)||On(u.to,f.from))continue;var l=[a,1];(On(f.from,u.from)||!o.inclusiveLeft&&An(f.from,u.from))&&l.push({from:f.from,to:u.from}),(On(u.to,f.to)||!o.inclusiveRight&&An(f.to,u.to))&&l.push({from:u.to,to:f.to}),i.splice.apply(i,l),a+=l.length-1}}return i}function Ar(e,t){var n=S&&e.markedSpans,r;if(n)for(var i,s=0;s<n.length;++s){i=n[s];if(!i.marker.collapsed)continue;(i.from==null||i.from<t)&&(i.to==null||i.to>t)&&(!r||r.width<i.marker.width)&&(r=i.marker)}return r}function Or(e){return Ar(e,-1)}function Mr(e){return Ar(e,e.text.length+1)}function _r(e,t){var n;while(n=Or(t))t=hi(e,n.find().from.line);return t}function Dr(e,t){var n=S&&t.markedSpans;if(n)for(var r,i=0;i<n.length;++i){r=n[i];if(!r.marker.collapsed)continue;if(r.from==null)return!0;if(r.marker.replacedWith)continue;if(r.from==0&&r.marker.inclusiveLeft&&Pr(e,t,r))return!0}}function Pr(e,t,n){if(n.to==null){var r=n.marker.find().to,i=hi(e,r.line);return Pr(e,i,Er(i.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var s,o=0;o<t.markedSpans.length;++o){s=t.markedSpans[o];if(s.marker.collapsed&&!s.marker.replacedWith&&s.from==n.to&&(s.marker.inclusiveLeft||n.marker.inclusiveRight)&&Pr(e,t,s))return!0}}function Hr(e){var t=e.markedSpans;if(!t)return;for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}function Br(e,t){if(!t)return;for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}function Fr(e){return function(){var t=!this.cm.curOp;t&&At(this.cm);try{var n=e.apply(this,arguments)}finally{t&&Ot(this.cm)}return n}}function Ir(e){return e.height!=null?e.height:((!e.node.parentNode||e.node.parentNode.nodeType!=1)&&ps(e.cm.display.measure,cs("div",[e.node],null,"position: relative")),e.height=e.node.offsetHeight)}function qr(e,t,n,r){var i=new jr(e,n,r);return i.noHScroll&&(e.display.alignWidgets=!0),Jn(e,t,function(t){var n=t.widgets||(t.widgets=[]);i.insertAt==null?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t;if(!Dr(e.doc,t)||i.showIfHidden){var r=yi(e,t)<e.doc.scrollTop;vi(t,t.height+Ir(i)),r&&Vn(e,0,i.height)}return!0}),i}function Ur(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),e.order!=null&&(e.order=null),Hr(e),Br(e,n);var i=r?r(e):1;i!=e.height&&vi(e,i)}function zr(e){e.parent=null,Hr(e)}function Wr(e,t,n,r,i,s){var o=n.flattenSpans;o==null&&(o=e.options.flattenSpans);var u=0,a=null,f=new mr(t,e.options.tabSize),l;t==""&&n.blankLine&&n.blankLine(r);while(!f.eol()){f.pos>e.options.maxHighlightLength?(o=!1,s&&$r(e,t,r,f.pos),f.pos=t.length,l=null):l=n.token(f,r);if(!o||a!=l)u<f.start&&i(f.start,a),u=f.start,a=l;f.start=f.pos}while(u<f.pos){var c=Math.min(f.pos,u+5e4);i(c,a),u=c}}function Xr(e,t,n,r){var i=[e.state.modeGen];Wr(e,t.text,e.doc.mode,n,function(e,t){i.push(e,t)},r);for(var s=0;s<e.state.overlays.length;++s){var o=e.state.overlays[s],u=1,a=0;Wr(e,t.text,o.mode,!0,function(e,t){var n=u;while(a<e){var r=i[u];r>e&&i.splice(u,1,e,i[u+1],r),u+=2,a=Math.min(e,r)}if(!t)return;if(o.opaque)i.splice(n,u-n,e,t),u=n+2;else for(;n<u;n+=2){var s=i[n+1];i[n+1]=s?s+" "+t:t}})}return i}function Vr(e,t){if(!t.styles||t.styles[0]!=e.state.modeGen)t.styles=Xr(e,t,t.stateAfter=it(e,mi(t)));return t.styles}function $r(e,t,n,r){var i=e.doc.mode,s=new mr(t,e.options.tabSize);s.start=s.pos=r||0,t==""&&i.blankLine&&i.blankLine(n);while(!s.eol()&&s.pos<=e.options.maxHighlightLength)i.token(s,n),s.start=s.pos}function Kr(e,t){if(!e)return null;for(;;){var n=e.match(/(?:^|\s)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";t[r]==null?t[r]=n[2]:(new RegExp("(?:^|s)"+n[2]+"(?:$|s)")).test(t[r])||(t[r]+=" "+n[2])}return Jr[e]||(Jr[e]="cm-"+e.replace(/ +/g," cm-"))}function Qr(e,n,r,o){var u,a=n,f=!0;while(u=Or(a))a=hi(e.doc,u.find().from.line);var l={pre:cs("pre"),col:0,pos:0,measure:null,measuredSomething:!1,cm:e,copyWidgets:o};do{a.text&&(f=!1),l.measure=a==n&&r,l.pos=0,l.addToken=l.measure?Zr:Yr,(t||s)&&e.getOption("lineWrapping")&&(l.addToken=ei(l.addToken));var c=ni(a,l,Vr(e,a));r&&a==n&&!l.measuredSomething&&(r[0]=l.pre.appendChild(Es(e.display.measure)),l.measuredSomething=!0),c&&(a=hi(e.doc,c.to.line))}while(c);r&&!l.measuredSomething&&!r[0]&&(r[0]=l.pre.appendChild(f?cs("span","Â "):Es(e.display.measure))),!l.pre.firstChild&&!Dr(e.doc,n)&&l.pre.appendChild(document.createTextNode("Â "));var h;if(r&&(t||i)&&(h=bi(a))){var p=h.length-1;h[p].from==h[p].to&&--p;var d=h[p],v=h[p-1];if(d.from+1==d.to&&v&&d.level<v.level){var m=r[l.pos-1];m&&m.parentNode.insertBefore(m.measureRight=Es(e.display.measure),m.nextSibling)}}var g=l.textClass?l.textClass+" "+(n.textClass||""):n.textClass;return g&&(l.pre.className=g),qi(e,"renderLine",e,n,l.pre),l}function Gr(e){var t=cs("span","â¢","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t}function Yr(e,t,n,r,i,s){if(!t)return;var o=e.cm.options.specialChars;if(!o.test(t)){e.col+=t.length;var u=document.createTextNode(t)}else{var u=document.createDocumentFragment(),a=0;for(;;){o.lastIndex=a;var f=o.exec(t),l=f?f.index-a:t.length-a;l&&(u.appendChild(document.createTextNode(t.slice(a,a+l))),e.col+=l);if(!f)break;a+=l+1;if(f[0]=="	"){var c=e.cm.options.tabSize,h=c-e.col%c;u.appendChild(cs("span",Zi(h),"cm-tab")),e.col+=h}else{var p=e.cm.options.specialCharPlaceholder(f[0]);u.appendChild(p),e.col+=1}}}if(n||r||i||e.measure){var d=n||"";r&&(d+=r),i&&(d+=i);var p=cs("span",[u],d);return s&&(p.title=s),e.pre.appendChild(p)}e.pre.appendChild(u)}function Zr(e,n,r,i,s){var o=e.cm.options.lineWrapping;for(var u=0;u<n.length;++u){var a=n.charAt(u),f=u==0;a>="ï¿½"&&a<"ï¿½"&&u<n.length-1?(a=n.slice(u,u+2),++u):u&&o&&gs(n,u)&&e.pre.appendChild(cs("wbr"));var l=e.measure[e.pos],c=e.measure[e.pos]=Yr(e,a,r,f&&i,u==n.length-1&&s);l&&(c.leftSide=l.leftSide||l),t&&o&&a==" "&&u&&!/\s/.test(n.charAt(u-1))&&u<n.length-1&&!/\s/.test(n.charAt(u+1))&&(c.style.whiteSpace="normal"),e.pos+=a.length}n.length&&(e.measuredSomething=!0)}function ei(e){function t(e){var t=" ";for(var n=0;n<e.length-2;++n)t+=n%2?" ":"Â ";return t+=" ",t}return function(n,r,i,s,o,u){return e(n,r.replace(/ {3,}/g,t),i,s,o,u)}}function ti(e,t,n,r){var i=!r&&n.replacedWith;if(i){e.copyWidgets&&(i=i.cloneNode(!0)),e.pre.appendChild(i);if(e.measure){if(t)e.measure[e.pos]=i;else{var s=Es(e.cm.display.measure);if(n.type=="bookmark"&&!n.insertLeft)e.measure[e.pos]=e.pre.appendChild(s);else{if(e.measure[e.pos])return;e.measure[e.pos]=e.pre.insertBefore(s,i)}}e.measuredSomething=!0}}e.pos+=t}function ni(e,t,n){var r=e.markedSpans,i=e.text,s=0;if(!r){for(var o=1;o<n.length;o+=2)t.addToken(t,i.slice(s,s=n[o]),Kr(n[o+1],t));return}var u=i.length,a=0,o=1,f="",l,c=0,h,p,d,v,m;for(;;){if(c==a){h=p=d=v="",m=null,c=Infinity;var g=[];for(var y=0;y<r.length;++y){var b=r[y],w=b.marker;b.from<=a&&(b.to==null||b.to>a)?(b.to!=null&&c>b.to&&(c=b.to,p=""),w.className&&(h+=" "+w.className),w.startStyle&&b.from==a&&(d+=" "+w.startStyle),w.endStyle&&b.to==c&&(p+=" "+w.endStyle),w.title&&!v&&(v=w.title),w.collapsed&&(!m||m.marker.size<w.size)&&(m=b)):b.from>a&&c>b.from&&(c=b.from),w.type=="bookmark"&&b.from==a&&w.replacedWith&&g.push(w)}if(m&&(m.from||0)==a){ti(t,(m.to==null?u:m.to)-a,m.marker,m.from==null);if(m.to==null)return m.marker.find()}if(!m&&g.length)for(var y=0;y<g.length;++y)ti(t,0,g[y])}if(a>=u)break;var E=Math.min(u,c);for(;;){if(f){var S=a+f.length;if(!m){var x=S>E?f.slice(0,E-a):f;t.addToken(t,x,l?l+h:h,d,a+x.length==c?p:"",v)}if(S>=E){f=f.slice(E-a),a=E;break}a=S,d=""}f=i.slice(s,s=n[o++]),l=Kr(n[o++],t)}}}function ri(e,t,n,r,i){function s(e){return n?n[e]:null}function o(e,n,r){Ur(e,n,r,i),zi(e,"change",e,t)}var u=t.from,a=t.to,f=t.text,l=hi(e,u.line),c=hi(e,a.line),h=es(f),p=s(f.length-1),d=a.line-u.line;if(u.ch==0&&a.ch==0&&h==""&&(!e.cm||e.cm.options.wholeLineUpdateBefore)){for(var v=0,m=f.length-1,g=[];v<m;++v)g.push(new Rr(f[v],s(v),i));o(c,c.text,p),d&&e.remove(u.line,d),g.length&&e.insert(u.line,g)}else if(l==c)if(f.length==1)o(l,l.text.slice(0,u.ch)+h+l.text.slice(a.ch),p);else{for(var g=[],v=1,m=f.length-1;v<m;++v)g.push(new Rr(f[v],s(v),i));g.push(new Rr(h+l.text.slice(a.ch),p,i)),o(l,l.text.slice(0,u.ch)+f[0],s(0)),e.insert(u.line+1,g)}else if(f.length==1)o(l,l.text.slice(0,u.ch)+f[0]+c.text.slice(a.ch),s(0)),e.remove(u.line+1,d);else{o(l,l.text.slice(0,u.ch)+f[0],s(0)),o(c,h+c.text.slice(a.ch),p);for(var v=1,m=f.length-1,g=[];v<m;++v)g.push(new Rr(f[v],s(v),i));d>1&&e.remove(u.line+1,d-1),e.insert(u.line+1,g)}zi(e,"change",e,t),Fn(e,r.anchor,r.head,null,!0)}function ii(e){this.lines=e,this.parent=null;for(var t=0,n=e.length,r=0;t<n;++t)e[t].parent=this,r+=e[t].height;this.height=r}function si(e){this.children=e;var t=0,n=0;for(var r=0,i=e.length;r<i;++r){var s=e[r];t+=s.chunkSize(),n+=s.height,s.parent=this}this.size=t,this.height=n,this.parent=null}function li(e,t,n){function r(e,i,s){if(e.linked)for(var o=0;o<e.linked.length;++o){var u=e.linked[o];if(u.doc==i)continue;var a=s&&u.sharedHist;if(n&&!a)continue;t(u.doc,a),r(u.doc,e,a)}}r(e,null,!0)}function ci(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,L(e),N(e),e.options.lineWrapping||P(e),e.options.mode=t.modeOption,Pt(e)}function hi(e,t){t-=e.first;while(!e.lines)for(var n=0;;++n){var r=e.children[n],i=r.chunkSize();if(t<i){e=r;break}t-=i}return e.lines[t]}function pi(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(e){var s=e.text;i==n.line&&(s=s.slice(0,n.ch)),i==t.line&&(s=s.slice(t.ch)),r.push(s),++i}),r}function di(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function vi(e,t){var n=t-e.height;for(var r=e;r;r=r.parent)r.height+=n}function mi(e){if(e.parent==null)return null;var t=e.parent,n=ns(t.lines,e);for(var r=t.parent;r;t=r,r=r.parent)for(var i=0;;++i){if(r.children[i]==t)break;n+=r.children[i].chunkSize()}return n+t.first}function gi(e,t){var n=e.first;e:do{for(var r=0,i=e.children.length;r<i;++r){var s=e.children[r],o=s.height;if(t<o){e=s;continue e}t-=o,n+=s.chunkSize()}return n}while(!e.lines);for(var r=0,i=e.lines.length;r<i;++r){var u=e.lines[r],a=u.height;if(t<a)break;t-=a}return n+r}function yi(e,t){t=_r(e.doc,t);var n=0,r=t.parent;for(var i=0;i<r.lines.length;++i){var s=r.lines[i];if(s==t)break;n+=s.height}for(var o=r.parent;o;r=o,o=r.parent)for(var i=0;i<o.children.length;++i){var u=o.children[i];if(u==r)break;n+=u.height}return n}function bi(e){var t=e.order;return t==null&&(t=e.order=Is(e.text)),t}function wi(e){return{done:[],undone:[],undoDepth:Infinity,lastTime:0,lastOp:null,lastOrigin:null,generation:e||1,maxGeneration:e||1}}function Ei(e,t,n,r){var i=t["spans_"+e.id],s=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[s]=n.markedSpans),++s})}function Si(e,t){var n={line:t.from.line,ch:t.from.ch},r={from:n,to:gn(t),text:pi(e,t.from,t.to)};return Ei(e,r,t.from.line,t.to.line+1),li(e,function(e){Ei(e,r,t.from.line,t.to.line+1)},!0),r}function xi(e,t,n,r){var i=e.history;i.undone.length=0;var s=+(new Date),o=es(i.done);if(o&&(i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&(t.origin.charAt(0)=="+"&&e.cm&&i.lastTime>s-e.cm.options.historyEventDelay||t.origin.charAt(0)=="*"))){var u=es(o.changes);An(t.from,t.to)&&An(t.from,u.to)?u.to=gn(t):o.changes.push(Si(e,t)),o.anchorAfter=n.anchor,o.headAfter=n.head}else{o={changes:[Si(e,t)],generation:i.generation,anchorBefore:e.sel.anchor,headBefore:e.sel.head,anchorAfter:n.anchor,headAfter:n.head},i.done.push(o),i.generation=++i.maxGeneration;while(i.done.length>i.undoDepth)i.done.shift()}i.lastTime=s,i.lastOp=r,i.lastOrigin=t.origin}function Ti(e){if(!e)return null;for(var t=0,n;t<e.length;++t)e[t].marker.explicitlyCleared?n||(n=e.slice(0,t)):n&&n.push(e[t]);return n?n.length?n:null:e}function Ni(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=0,i=[];r<t.text.length;++r)i.push(Ti(n[r]));return i}function Ci(e,t){for(var n=0,r=[];n<e.length;++n){var i=e[n],s=i.changes,o=[];r.push({changes:o,anchorBefore:i.anchorBefore,headBefore:i.headBefore,anchorAfter:i.anchorAfter,headAfter:i.headAfter});for(var u=0;u<s.length;++u){var a=s[u],f;o.push({from:a.from,to:a.to,text:a.text});if(t)for(var l in a)(f=l.match(/^spans_(\d+)$/))&&ns(t,Number(f[1]))>-1&&(es(o)[l]=a[l],delete a[l])}}return r}function ki(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function Li(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i],o=!0;for(var u=0;u<s.changes.length;++u){var a=s.changes[u];s.copied||(a.from=Mn(a.from),a.to=Mn(a.to));if(n<a.from.line)a.from.line+=r,a.to.line+=r;else if(t<=a.to.line){o=!1;break}}s.copied||(s.anchorBefore=Mn(s.anchorBefore),s.headBefore=Mn(s.headBefore),s.anchorAfter=Mn(s.anchorAfter),s.readAfter=Mn(s.headAfter),s.copied=!0),o?(ki(s.anchorBefore),ki(s.headBefore),ki(s.anchorAfter),ki(s.headAfter)):(e.splice(0,i+1),i=0)}}function Ai(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;Li(e.done,n,r,i),Li(e.undone,n,r,i)}function Oi(){Hi(this)}function Mi(e){return e.stop||(e.stop=Oi),e}function _i(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Di(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Pi(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==0}function Hi(e){_i(e),Di(e)}function Bi(e){return e.target||e.srcElement}function ji(e){var t=e.which;return t==null&&(e.button&1?t=1:e.button&2?t=3:e.button&4&&(t=2)),m&&e.ctrlKey&&t==1&&(t=3),t}function Fi(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={}),i=r[t]||(r[t]=[]);i.push(n)}}function Ii(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers&&e._handlers[t];if(!r)return;for(var i=0;i<r.length;++i)if(r[i]==n){r.splice(i,1);break}}}function qi(e,t){var n=e._handlers&&e._handlers[t];if(!n)return;var r=Array.prototype.slice.call(arguments,2);for(var i=0;i<n.length;++i)n[i].apply(null,r)}function zi(e,t){function i(e){return function(){e.apply(null,r)}}var n=e._handlers&&e._handlers[t];if(!n)return;var r=Array.prototype.slice.call(arguments,2);Ri||(++Ui,Ri=[],setTimeout(Xi,0));for(var s=0;s<n.length;++s)Ri.push(i(n[s]))}function Wi(e,t,n){return qi(e,n||t.type,e,t),Pi(t)||t.codemirrorIgnore}function Xi(){--Ui;var e=Ri;Ri=null;for(var t=0;t<e.length;++t)e[t]()}function Vi(e,t){var n=e._handlers&&e._handlers[t];return n&&n.length>0}function $i(e){e.prototype.on=function(e,t){Fi(this,e,t)},e.prototype.off=function(e,t){Ii(this,e,t)}}function Qi(){this.id=null}function Gi(e,t,n,r,i){t==null&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));for(var s=r||0,o=i||0;s<t;++s)e.charAt(s)=="	"?o+=n-o%n:++o;return o}function Zi(e){while(Yi.length<=e)Yi.push(es(Yi)+" ");return Yi[e]}function es(e){return e[e.length-1]}function ts(e){if(d)e.selectionStart=0,e.selectionEnd=e.value.length;else try{e.select()}catch(t){}}function ns(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;++n)if(e[n]==t)return n;return-1}function rs(e,t){function n(){}n.prototype=e;var r=new n;return t&&is(t,r),r}function is(e,t){t||(t={});for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function ss(e){for(var t=[],n=0;n<e;++n)t.push(undefined);return t}function os(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function as(e){return/\w/.test(e)||e>"Â"&&(e.toUpperCase()!=e.toLowerCase()||us.test(e))}function fs(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function cs(e,t,n,r){var i=document.createElement(e);n&&(i.className=n),r&&(i.style.cssText=r);if(typeof t=="string")ds(i,t);else if(t)for(var s=0;s<t.length;++s)i.appendChild(t[s]);return i}function hs(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function ps(e,t){return hs(e).appendChild(t)}function ds(e,t){r?(e.innerHTML="",e.appendChild(document.createTextNode(t))):e.textContent=t}function vs(e){return e.getBoundingClientRect()}function gs(){return!1}function bs(e){if(ys!=null)return ys;var t=cs("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");return ps(e,t),t.offsetWidth&&(ys=t.offsetHeight-t.clientHeight),ys||0}function Es(e){if(ws==null){var t=cs("span","â");ps(e,cs("span",[t,document.createTextNode("x")])),e.firstChild.offsetHeight!=0&&(ws=t.offsetWidth<=1&&t.offsetHeight>2&&!n)}return ws?cs("span","â"):cs("span","Â ",null,"display: inline-block; width: 1px; margin-right: -1px")}function Cs(e,t,n,r){if(!e)return r(t,n,"ltr");var i=!1;for(var s=0;s<e.length;++s){var o=e[s];if(o.from<n&&o.to>t||t==n&&o.to==t)r(Math.max(o.from,t),Math.min(o.to,n),o.level==1?"rtl":"ltr"),i=!0}i||r(t,n,"ltr")}function ks(e){return e.level%2?e.to:e.from}function Ls(e){return e.level%2?e.from:e.to}function As(e){var t=bi(e);return t?ks(t[0]):0}function Os(e){var t=bi(e);return t?Ls(es(t)):e.text.length}function Ms(e,t){var n=hi(e.doc,t),r=_r(e.doc,n);r!=n&&(t=mi(r));var i=bi(r),s=i?i[0].level%2?Os(r):As(r):0;return Ln(t,s)}function _s(e,t){var n,r;while(n=Mr(r=hi(e.doc,t)))t=n.find().to.line;var i=bi(r),s=i?i[0].level%2?As(r):Os(r):r.text.length;return Ln(t,s)}function Ds(e,t,n){var r=e[0].level;return t==r?!0:n==r?!1:t<n}function Hs(e,t){for(var n=0,r;n<e.length;++n){var i=e[n];if(i.from<t&&i.to>t)return Ps=null,n;if(i.from==t||i.to==t){if(r!=null)return Ds(e,i.level,e[r].level)?(Ps=r,n):(Ps=n,r);r=n}}return Ps=null,r}function Bs(e,t,n,r){if(!r)return t+n;do t+=n;while(t>0&&ls.test(e.text.charAt(t)));return t}function js(e,t,n,r){var i=bi(e);if(!i)return Fs(e,t,n,r);var s=Hs(i,t),o=i[s],u=Bs(e,t,o.level%2?-n:n,r);for(;;){if(u>o.from&&u<o.to)return u;if(u==o.from||u==o.to)return Hs(i,u)==s?u:(o=i[s+=n],n>0==o.level%2?o.to:o.from);o=i[s+=n];if(!o)return null;n>0==o.level%2?u=Bs(e,o.to,-1,r):u=Bs(e,o.from,1,r)}}function Fs(e,t,n,r){var i=t+n;if(r)while(i>0&&ls.test(e.text.charAt(i)))i+=n;return i<0||i>e.text.length?null:i}var e=/gecko\/\d/i.test(navigator.userAgent),t=/MSIE \d/.test(navigator.userAgent),n=t&&(document.documentMode==null||document.documentMode<8),r=t&&(document.documentMode==null||document.documentMode<9),i=/Trident\/([7-9]|\d{2,})\./.test(navigator.userAgent),s=/WebKit\//.test(navigator.userAgent),o=s&&/Qt\/\d+\.\d+/.test(navigator.userAgent),u=/Chrome\//.test(navigator.userAgent),a=/Opera\//.test(navigator.userAgent),f=/Apple Computer/.test(navigator.vendor),l=/KHTML\//.test(navigator.userAgent),c=/Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent),h=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),p=/PhantomJS/.test(navigator.userAgent),d=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),v=d||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),m=d||/Mac/.test(navigator.platform),g=/win/i.test(navigator.platform),y=a&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);y&&(y=Number(y[1])),y&&y>=15&&(a=!1,s=!0);var b=m&&(o||a&&(y==null||y<12.11)),w=e||t&&!r,E=!1,S=!1,Nt,Lt=0,Wt,Xt,Qt=0,tn=0,nn=null;t?nn=-0.53:e?nn=15:u?nn=-0.7:f&&(nn=-1/3);var un,ln=null,vn,gn=x.changeEnd=function(e){return e.text?Ln(e.from.line+e.text.length-1,es(e.text).length+(e.text.length==1?e.from.ch:0)):e.to};x.Pos=Ln,x.prototype={constructor:x,focus:function(){window.focus(),It(this),Bt(this)},setOption:function(e,t){var n=this.options,r=n[e];if(n[e]==t&&e!="mode")return;n[e]=t,Zn.hasOwnProperty(e)&&Mt(this,Zn[e])(this,t,r)},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](e)},removeKeyMap:function(e){var t=this.state.keyMaps;for(var n=0;n<t.length;++n)if(t[n]==e||typeof t[n]!="string"&&t[n].name==e)return t.splice(n,1),!0},addOverlay:Mt(null,function(e,t){var n=e.token?e:x.getMode(this.options,e);if(n.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:n,modeSpec:e,opaque:t&&t.opaque}),this.state.modeGen++,Pt(this)}),removeOverlay:Mt(null,function(e){var t=this.state.overlays;for(var n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||typeof e=="string"&&r.name==e){t.splice(n,1),this.state.modeGen++,Pt(this);return}}}),indentLine:Mt(null,function(e,t,n){typeof t!="string"&&typeof t!="number"&&(t==null?t=this.options.smartIndent?"smart":"prev":t=t?"add":"subtract"),Hn(this.doc,e)&&$n(this,e,t,n)}),indentSelection:Mt(null,function(e){var t=this.doc.sel;if(An(t.from,t.to))return $n(this,t.from.line,e);var n=t.to.line-(t.to.ch?0:1);for(var r=t.from.line;r<=n;++r)$n(this,r,e)}),getTokenAt:function(e,t){var n=this.doc;e=Dn(n,e);var r=it(this,e.line,t),i=this.doc.mode,s=hi(n,e.line),o=new mr(s.text,this.options.tabSize);while(o.pos<e.ch&&!o.eol()){o.start=o.pos;var u=i.token(o,r)}return{start:o.start,end:o.pos,string:o.current(),className:u||null,type:u||null,state:r}},getTokenTypeAt:function(e){e=Dn(this.doc,e);var t=Vr(this,hi(this.doc,e.line)),n=0,r=(t.length-1)/2,i=e.ch;if(i==0)return t[2];for(;;){var s=n+r>>1;if((s?t[s*2-1]:0)>=i)r=s;else{if(!(t[s*2+1]<i))return t[s*2+2];n=s+1}}},getModeAt:function(e){var t=this.doc.mode;return t.innerMode?x.innerMode(t,this.getTokenAt(e).state).mode:t},getHelper:function(e,t){if(!ur.hasOwnProperty(t))return;var n=ur[t],r=this.getModeAt(e);return r[t]&&n[r[t]]||r.helperType&&n[r.helperType]||n[r.name]},getStateAfter:function(e,t){var n=this.doc;return e=_n(n,e==null?n.first+n.size-1:e),it(this,e+1,t)},cursorCoords:function(e,t){var n,r=this.doc.sel;return e==null?n=r.head:typeof e=="object"?n=Dn(this.doc,e):n=e?r.from:r.to,Et(this,n,t||"page")},charCoords:function(e,t){return wt(this,Dn(this.doc,e),t||"page")},coordsChar:function(e,t){return e=bt(this,e,t||"page"),xt(this,e.left,e.top)},lineAtHeight:function(e,t){return e=bt(this,{top:e,left:0},t||"page").top,gi(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var n=!1,r=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>r&&(e=r,n=!0);var i=hi(this.doc,e);return yt(this,hi(this.doc,e),{top:0,left:0},t||"page").top+(n?i.height:0)},defaultTextHeight:function(){return Ct(this.display)},defaultCharWidth:function(){return kt(this.display)},setGutterMarker:Mt(null,function(e,t,n){return Jn(this,e,function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&fs(r)&&(e.gutterMarkers=null),!0})}),clearGutter:Mt(null,function(e){var t=this,n=t.doc,r=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&(n.gutterMarkers[e]=null,Pt(t,r,r+1),fs(n.gutterMarkers)&&(n.gutterMarkers=null)),++r})}),addLineClass:Mt(null,function(e,t,n){return Jn(this,e,function(e){var r=t=="text"?"textClass":t=="background"?"bgClass":"wrapClass";if(!e[r])e[r]=n;else{if((new RegExp("(?:^|\\s)"+n+"(?:$|\\s)")).test(e[r]))return!1;e[r]+=" "+n}return!0})}),removeLineClass:Mt(null,function(e,t,n){return Jn(this,e,function(e){var r=t=="text"?"textClass":t=="background"?"bgClass":"wrapClass",i=e[r];if(!i)return!1;if(n==null)e[r]=null;else{var s=i.match(new RegExp("(?:^|\\s+)"+n+"(?:$|\\s+)"));if(!s)return!1;var o=s.index+s[0].length;e[r]=i.slice(0,s.index)+(!s.index||o==i.length?"":" ")+i.slice(o)||null}return!0})}),addLineWidget:Mt(null,function(e,t,n){return qr(this,e,t,n)}),removeLineWidget:function(e){e.clear()},lineInfo:function(e){if(typeof e=="number"){if(!Hn(this.doc,e))return null;var t=e;e=hi(this.doc,e);if(!e)return null}else{var t=mi(e);if(t==null)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.showingFrom,to:this.display.showingTo}},addWidget:function(e,t,n,r,i){var s=this.display;e=Et(this,Dn(this.doc,e));var o=e.bottom,u=e.left;t.style.position="absolute",s.sizer.appendChild(t);if(r=="over")o=e.top;else if(r=="above"||r=="near"){var a=Math.max(s.wrapper.clientHeight,this.doc.height),f=Math.max(s.sizer.clientWidth,s.lineSpace.clientWidth);(r=="above"||e.bottom+t.offsetHeight>a)&&e.top>t.offsetHeight?o=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=a&&(o=e.bottom),u+t.offsetWidth>f&&(u=f-t.offsetWidth)}t.style.top=o+"px",t.style.left=t.style.right="",i=="right"?(u=s.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):(i=="left"?u=0:i=="middle"&&(u=(s.sizer.clientWidth-t.offsetWidth)/2),t.style.left=u+"px"),n&&zn(this,u,o,u+t.offsetWidth,o+t.offsetHeight)},triggerOnKeyDown:Mt(null,cn),execCommand:function(e){return lr[e](this)},findPosH:function(e,t,n,r){var i=1;t<0&&(i=-1,t=-t);for(var s=0,o=Dn(this.doc,e);s<t;++s){o=Kn(this.doc,o,i,n,r);if(o.hitSide)break}return o},moveH:Mt(null,function(e,t){var n=this.doc.sel,r;n.shift||n.extend||An(n.from,n.to)?r=Kn(this.doc,n.head,e,t,this.options.rtlMoveVisually):r=e<0?n.from:n.to,Bn(this.doc,r,r,e)}),deleteH:Mt(null,function(e,t){var n=this.doc.sel;An(n.from,n.to)?kn(this.doc,"",n.from,Kn(this.doc,n.head,e,t,!1),"+delete"):kn(this.doc,"",n.from,n.to,"+delete"),this.curOp.userSelChange=!0}),findPosV:function(e,t,n,r){var i=1,s=r;t<0&&(i=-1,t=-t);for(var o=0,u=Dn(this.doc,e);o<t;++o){var a=Et(this,u,"div");s==null?s=a.left:a.left=s,u=Qn(this,a,i,n);if(u.hitSide)break}return u},moveV:Mt(null,function(e,t){var n=this.doc.sel,r=Et(this,n.head,"div");n.goalColumn!=null&&(r.left=n.goalColumn);var i=Qn(this,r,e,t);t=="page"&&Vn(this,0,wt(this,i,"div").top-r.top),Bn(this.doc,i,i,e),n.goalColumn=r.left}),toggleOverwrite:function(e){if(e!=null&&e==this.state.overwrite)return;(this.state.overwrite=!this.state.overwrite)?this.display.cursor.className+=" CodeMirror-overwrite":this.display.cursor.className=this.display.cursor.className.replace(" CodeMirror-overwrite","")},hasFocus:function(){return this.state.focused},scrollTo:Mt(null,function(e,t){Xn(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller,t=Ji;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-t,width:e.scrollWidth-t,clientHeight:e.clientHeight-t,clientWidth:e.clientWidth-t}},scrollIntoView:Mt(null,function(e,t){e==null?e={from:this.doc.sel.head,to:null}:typeof e=="number"?e={from:Ln(e,0),to:null}:e.from==null&&(e={from:e,to:null}),e.to||(e.to=e.from),t||(t=0);var n=e;e.from.line!=null&&(this.curOp.scrollToPos={from:e.from,to:e.to,margin:t},n={from:Et(this,e.from),to:Et(this,e.to)});var r=Wn(this,Math.min(n.from.left,n.to.left),Math.min(n.from.top,n.to.top)-t,Math.max(n.from.right,n.to.right),Math.max(n.from.bottom,n.to.bottom)+t);Xn(this,r.scrollLeft,r.scrollTop)}),setSize:Mt(null,function(e,t){function n(e){return typeof e=="number"||/^\d+$/.test(String(e))?e+"px":e}e!=null&&(this.display.wrapper.style.width=n(e)),t!=null&&(this.display.wrapper.style.height=n(t)),this.options.lineWrapping&&(this.display.measureLineCache.length=this.display.measureLineCachePos=0),this.curOp.forceUpdate=!0}),operation:function(e){return Dt(this,e)},refresh:Mt(null,function(){var e=this.display.cachedTextHeight==null;vt(this),Xn(this,this.doc.scrollLeft,this.doc.scrollTop),Pt(this),e&&L(this)}),swapDoc:Mt(null,function(e){var t=this.doc;return t.cm=null,ci(this,e),vt(this),Ft(this,!0),Xn(this,e.scrollLeft,e.scrollTop),zi(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},$i(x);var Zn=x.optionHandlers={},er=x.defaults={},nr=x.Init={toString:function(){return"CodeMirror.Init"}};tr("value","",function(e,t){e.setValue(t)},!0),tr("mode",null,function(e,t){e.doc.modeOption=t,N(e)},!0),tr("indentUnit",2,N,!0),tr("indentWithTabs",!1),tr("smartIndent",!0),tr("tabSize",4,function(e){N(e),vt(e),Pt(e)},!0),tr("specialChars",/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\ufeff]/g,function(e,t){e.options.specialChars=new RegExp(t.source+(t.test("	")?"":"|	"),"g"),e.refresh()},!0),tr("specialCharPlaceholder",Gr,function(e){e.refresh()},!0),tr("electricChars",!0),tr("rtlMoveVisually",!g),tr("wholeLineUpdateBefore",!0),tr("theme","default",function(e){O(e),M(e)},!0),tr("keyMap","default",A),tr("extraKeys",null),tr("onKeyEvent",null),tr("onDragEvent",null),tr("lineWrapping",!1,C,!0),tr("gutters",[],function(e){H(e.options),M(e)},!0),tr("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?R(e.display)+"px":"0",e.refresh()},!0),tr("coverGutterNextToScrollbar",!1,B,!0),tr("lineNumbers",!1,function(e){H(e.options),M(e)},!0),tr("firstLineNumber",1,M,!0),tr("lineNumberFormatter",function(e){return e},M,!0),tr("showCursorWhenSelecting",!1,G,!0),tr("resetSelectionOnContextMenu",!0),tr("readOnly",!1,function(e,t){t=="nocursor"?(dn(e),e.display.input.blur(),e.display.disabled=!0):(e.display.disabled=!1,t||Ft(e,!0))}),tr("dragDrop",!0),tr("cursorBlinkRate",530),tr("cursorScrollMargin",0),tr("cursorHeight",1),tr("workTime",100),tr("workDelay",100),tr("flattenSpans",!0),tr("pollInterval",100),tr("undoDepth",40,function(e,t){e.doc.history.undoDepth=t}),tr("historyEventDelay",500),tr("viewportMargin",10,function(e){e.refresh()},!0),tr("maxHighlightLength",1e4,function(e){N(e),e.refresh()},!0),tr("crudeMeasuringFrom",1e4),tr("moveInputWithCursor",!0,function(e,t){t||(e.display.inputDiv.style.top=e.display.inputDiv.style.left=0)}),tr("tabindex",null,function(e,t){e.display.input.tabIndex=t||""}),tr("autofocus",null);var rr=x.modes={},ir=x.mimeModes={};x.defineMode=function(e,t){!x.defaults.mode&&e!="null"&&(x.defaults.mode=e);if(arguments.length>2){t.dependencies=[];for(var n=2;n<arguments.length;++n)t.dependencies.push(arguments[n])}rr[e]=t},x.defineMIME=function(e,t){ir[e]=t},x.resolveMode=function(e){if(typeof e=="string"&&ir.hasOwnProperty(e))e=ir[e];else if(e&&typeof e.name=="string"&&ir.hasOwnProperty(e.name)){var t=ir[e.name];e=rs(t,e),e.name=t.name}else if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return x.resolveMode("application/xml");return typeof e=="string"?{name:e}:e||{name:"null"}},x.getMode=function(e,t){var t=x.resolveMode(t),n=rr[t.name];if(!n)return x.getMode(e,"text/plain");var r=n(e,t);if(sr.hasOwnProperty(t.name)){var i=sr[t.name];for(var s in i){if(!i.hasOwnProperty(s))continue;r.hasOwnProperty(s)&&(r["_"+s]=r[s]),r[s]=i[s]}}return r.name=t.name,r},x.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),x.defineMIME("text/plain","null");var sr=x.modeExtensions={};x.extendMode=function(e,t){var n=sr.hasOwnProperty(e)?sr[e]:sr[e]={};is(t,n)},x.defineExtension=function(e,t){x.prototype[e]=t},x.defineDocExtension=function(e,t){ui.prototype[e]=t},x.defineOption=tr;var or=[];x.defineInitHook=function(e){or.push(e)};var ur=x.helpers={};x.registerHelper=function(e,t,n){ur.hasOwnProperty(e)||(ur[e]=x[e]={}),ur[e][t]=n},x.isWordChar=as,x.copyState=ar,x.startState=fr,x.innerMode=function(e,t){while(e.innerMode){var n=e.innerMode(t);if(!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}};var lr=x.commands={selectAll:function(e){e.setSelection(Ln(e.firstLine(),0),Ln(e.lastLine()))},killLine:function(e){var t=e.getCursor(!0),n=e.getCursor(!1),r=!An(t,n);!r&&e.getLine(t.line).length==t.ch?e.replaceRange("",t,Ln(t.line+1,0),"+delete"):e.replaceRange("",t,r?n:Ln(t.line),"+delete")},deleteLine:function(e){var t=e.getCursor().line;e.replaceRange("",Ln(t,0),Ln(t),"+delete")},delLineLeft:function(e){var t=e.getCursor();e.replaceRange("",Ln(t.line,0),t,"+delete")},undo:function(e){e.undo()},redo:function(e){e.redo()},goDocStart:function(e){e.extendSelection(Ln(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(Ln(e.lastLine()))},goLineStart:function(e){e.extendSelection(Ms(e,e.getCursor().line))},goLineStartSmart:function(e){var t=e.getCursor(),n=Ms(e,t.line),r=e.getLineHandle(n.line),i=bi(r);if(!i||i[0].level==0){var s=Math.max(0,r.text.search(/\S/)),o=t.line==n.line&&t.ch<=s&&t.ch;e.extendSelection(Ln(n.line,o?0:s))}else e.extendSelection(n)},goLineEnd:function(e){e.extendSelection(_s(e,e.getCursor().line))},goLineRight:function(e){var t=e.charCoords(e.getCursor(),"div").top+5;e.extendSelection(e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:t},"div"))},goLineLeft:function(e){var t=e.charCoords(e.getCursor(),"div").top+5;e.extendSelection(e.coordsChar({left:0,top:t},"div"))},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	","end","+input")},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.replaceSelection("	","end","+input")},transposeChars:function(e){var t=e.getCursor(),n=e.getLine(t.line);t.ch>0&&t.ch<n.length-1&&e.replaceRange(n.charAt(t.ch)+n.charAt(t.ch-1),Ln(t.line,t.ch-1),Ln(t.line,t.ch+1))},newlineAndIndent:function(e){Mt(e,function(){e.replaceSelection("\n","end","+input"),e.indentLine(e.getCursor().line,null,!0)})()},toggleOverwrite:function(e){e.toggleOverwrite()}},cr=x.keyMap={};cr.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},cr.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"},cr.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delLineLeft",fallthrough:["basic","emacsy"]},cr["default"]=m?cr.macDefault:cr.pcDefault,cr.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},x.lookupKey=pr,x.isModifierKey=dr,x.keyName=vr,x.fromTextArea=function(e,t){function i(){e.value=a.getValue()}t||(t={}),t.value=e.value,!t.tabindex&&e.tabindex&&(t.tabindex=e.tabindex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder);if(t.autofocus==null){var n=document.body;try{n=document.activeElement}catch(r){}t.autofocus=n==e||e.getAttribute("autofocus")!=null&&n==document.body}if(e.form){Fi(e.form,"submit",i);if(!t.leaveSubmitMethodAlone){var s=e.form,o=s.submit;try{var u=s.submit=function(){i(),s.submit=o,s.submit(),s.submit=u}}catch(r){}}}e.style.display="none";var a=x(function(t){e.parentNode.insertBefore(t,e.nextSibling)},t);return a.save=i,a.getTextArea=function(){return e},a.toTextArea=function(){i(),e.parentNode.removeChild(a.getWrapperElement()),e.style.display="",e.form&&(Ii(e.form,"submit",i),typeof e.form.submit=="function"&&(e.form.submit=o))},a},mr.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)||undefined},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(e){var t=this.string.charAt(this.pos);if(typeof e=="string")var n=t==e;else var n=t&&(e.test?e.test(t):e(t));if(n)return++this.pos,t},eatWhile:function(e){var t=this.pos;while(this.eat(e));return this.pos>t},eatSpace:function(){var e=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos)))++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Gi(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue},indentation:function(){return Gi(this.string,null,this.tabSize)},match:function(e,t,n){if(typeof e!="string"){var s=this.string.slice(this.pos).match(e);return s&&s.index>0?null:(s&&t!==!1&&(this.pos+=s[0].length),s)}var r=function(e){return n?e.toLowerCase():e},i=this.string.substr(this.pos,e.length);if(r(i)==r(e))return t!==!1&&(this.pos+=e.length),!0},current:function(){return this.string.slice(this.start,this.pos)}},x.StringStream=mr,x.TextMarker=gr,$i(gr),gr.prototype.clear=function(){if(this.explicitlyCleared)return;var e=this.doc.cm,t=e&&!e.curOp;t&&At(e);if(Vi(this,"clear")){var n=this.find();n&&zi(this,"clear",n.from,n.to)}var r=null,i=null;for(var s=0;s<this.lines.length;++s){var o=this.lines[s],u=Er(o.markedSpans,this);u.to!=null&&(i=mi(o)),o.markedSpans=Sr(o.markedSpans,u),u.from!=null?r=mi(o):this.collapsed&&!Dr(this.doc,o)&&e&&vi(o,Ct(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var s=0;s<this.lines.length;++s){var a=_r(e.doc,this.lines[s]),f=D(e.doc,a);f>e.display.maxLineLength&&(e.display.maxLine=a,e.display.maxLineLength=f,e.display.maxLineChanged=!0)}r!=null&&e&&Pt(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&In(e)),t&&Ot(e)},gr.prototype.find=function(){var e,t;for(var n=0;n<this.lines.length;++n){var r=this.lines[n],i=Er(r.markedSpans,this);if(i.from!=null||i.to!=null){var s=mi(r);i.from!=null&&(e=Ln(s,i.from)),i.to!=null&&(t=Ln(s,i.to))}}return this.type=="bookmark"?e:e&&{from:e,to:t}},gr.prototype.changed=function(){var e=this.find(),t=this.doc.cm;if(!e||!t)return;this.type!="bookmark"&&(e=e.from);var n=hi(this.doc,e.line);lt(t,n);if(e.line>=t.display.showingFrom&&e.line<t.display.showingTo){for(var r=t.display.lineDiv.firstChild;r;r=r.nextSibling)if(r.lineObj==n){r.offsetHeight!=n.height&&vi(n,r.offsetHeight);break}Dt(t,function(){t.curOp.selectionChanged=t.curOp.forceUpdate=t.curOp.updateMaxLine=!0})}},gr.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(!t.maybeHiddenMarkers||ns(t.maybeHiddenMarkers,this)==-1)&&(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},gr.prototype.detachLine=function(e){this.lines.splice(ns(this.lines,e),1);if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},x.SharedTextMarker=br,$i(br),br.prototype.clear=function(){if(this.explicitlyCleared)return;this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();zi(this,"clear")},br.prototype.find=function(){return this.primary.find()};var jr=x.LineWidget=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.cm=e,this.node=t};$i(jr),jr.prototype.clear=Fr(function(){var e=this.line.widgets,t=mi(this.line);if(t==null||!e)return;for(var n=0;n<e.length;++n)e[n]==this&&e.splice(n--,1);e.length||(this.line.widgets=null);var r=yi(this.cm,this.line)<this.cm.doc.scrollTop;vi(this.line,Math.max(0,this.line.height-Ir(this))),r&&Vn(this.cm,0,-this.height),Pt(this.cm,t,t+1)}),jr.prototype.changed=Fr(function(){var e=this.height;this.height=null;var t=Ir(this)-e;if(!t)return;vi(this.line,this.line.height+t);var n=mi(this.line);Pt(this.cm,n,n+1)});var Rr=x.Line=function(e,t,n){this.text=e,Br(this,t),this.height=n?n(this):1};$i(Rr),Rr.prototype.lineNo=function(){return mi(this)};var Jr={};ii.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var i=this.lines[n];this.height-=i.height,zr(i),zi(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.splice.apply(e,[e.length,0].concat(this.lines))},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0,i=t.length;r<i;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},si.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(e<i){var s=Math.min(t,i-e),o=r.height;r.removeInner(e,s),this.height-=o-r.height,i==s&&(this.children.splice(n--,1),r.parent=null);if((t-=s)==0)break;e=0}else e-=i}if(this.size-t<25){var u=[];this.collapse(u),this.children=[new ii(u)],this.children[0].parent=this}},collapse:function(e){for(var t=0,n=this.children.length;t<n;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0,i=this.children.length;r<i;++r){var s=this.children[r],o=s.chunkSize();if(e<=o){s.insertInner(e,t,n);if(s.lines&&s.lines.length>50){while(s.lines.length>50){var u=s.lines.splice(s.lines.length-25,25),a=new ii(u);s.height-=a.height,this.children.splice(r+1,0,a),a.parent=this}this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(this.children.length<=10)return;var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new si(t);if(!e.parent){var r=new si(e.children);r.parent=e,e.children=[r,n],e=r}else{e.size-=n.size,e.height-=n.height;var i=ns(e.parent.children,e);e.parent.children.splice(i+1,0,n)}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()},iterN:function(e,t,n){for(var r=0,i=this.children.length;r<i;++r){var s=this.children[r],o=s.chunkSize();if(e<o){var u=Math.min(t,o-e);if(s.iterN(e,u,n))return!0;if((t-=u)==0)break;e=0}else e-=o}}};var oi=0,ui=x.Doc=function(e,t,n){if(!(this instanceof ui))return new ui(e,t,n);n==null&&(n=0),si.call(this,[new ii([new Rr("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.history=wi(),this.cleanGeneration=1,this.frontier=n;var r=Ln(n,0);this.sel={from:r,to:r,head:r,anchor:r,shift:!1,extend:!1,goalColumn:null},this.id=++oi,this.modeOption=t,typeof e=="string"&&(e=Ss(e)),ri(this,{from:r,to:r,text:e},null,{head:r,anchor:r})};ui.prototype=rs(si.prototype,{constructor:ui,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){var n=0;for(var r=0,i=t.length;r<i;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=di(this,this.first,this.first+this.size);return e===!1?t:t.join(e||"\n")},setValue:function(e){var t=Ln(this.first,0),n=this.first+this.size-1;En(this,{from:t,to:Ln(n,hi(this,n).text.length),text:Ss(e),origin:"setValue"},{head:t,anchor:t},!0)},replaceRange:function(e,t,n,r){t=Dn(this,t),n=n?Dn(this,n):t,kn(this,e,t,n,r)},getRange:function(e,t,n){var r=pi(this,Dn(this,e),Dn(this,t));return n===!1?r:r.join(n||"\n")},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},setLine:function(e,t){Hn(this,e)&&kn(this,t,Ln(e,0),Dn(this,Ln(e)))},removeLine:function(e){e?kn(this,"",Dn(this,Ln(e-1)),Dn(this,Ln(e))):kn(this,"",Ln(0,0),Dn(this,Ln(1,0)))},getLineHandle:function(e){if(Hn(this,e))return hi(this,e)},getLineNumber:function(e){return mi(e)},getLineHandleVisualStart:function(e){return typeof e=="number"&&(e=hi(this,e)),_r(this,e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return Dn(this,e)},getCursor:function(e){var t=this.sel,n;return e==null||e=="head"?n=t.head:e=="anchor"?n=t.anchor:e=="end"||e===!1?n=t.to:n=t.from,Mn(n)},somethingSelected:function(){return!An(this.sel.head,this.sel.anchor)},setCursor:_t(function(e,t,n){var r=Dn(this,typeof e=="number"?Ln(e,t||0):e);n?Bn(this,r):Fn(this,r,r)}),setSelection:_t(function(e,t,n){Fn(this,Dn(this,e),Dn(this,t||e),n)}),extendSelection:_t(function(e,t,n){Bn(this,Dn(this,e),t&&Dn(this,t),n)}),getSelection:function(e){return this.getRange(this.sel.from,this.sel.to,e)},replaceSelection:function(e,t,n){En(this,{from:this.sel.from,to:this.sel.to,text:Ss(e),origin:n},t||"around")},undo:_t(function(){xn(this,"undo")}),redo:_t(function(){xn(this,"redo")}),setExtending:function(e){this.sel.extend=e},historySize:function(){var e=this.history;return{undo:e.done.length,redo:e.undone.length}},clearHistory:function(){this.history=wi(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration()},changeGeneration:function(){return this.history.lastOp=this.history.lastOrigin=null,this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Ci(this.history.done),undone:Ci(this.history.undone)}},setHistory:function(e){var t=this.history=wi(this.history.maxGeneration);t.done=e.done.slice(0),t.undone=e.undone.slice(0)},markText:function(e,t,n){return yr(this,Dn(this,e),Dn(this,t),n,"range")},setBookmark:function(e,t){var n={replacedWith:t&&(t.nodeType==null?t.widget:t),insertLeft:t&&t.insertLeft};return e=Dn(this,e),yr(this,e,e,n,"bookmark")},findMarksAt:function(e){e=Dn(this,e);var t=[],n=hi(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(i.from==null||i.from<=e.ch)&&(i.to==null||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)n[r].from!=null&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first;return this.iter(function(r){var i=r.text.length+1;if(i>e)return t=e,!0;e-=i,++n}),Dn(this,Ln(n,t))},indexFromPos:function(e){e=Dn(this,e);var t=e.ch;return e.line<this.first||e.ch<0?0:(this.iter(this.first,e.line,function(e){t+=e.text.length+1}),t)},copy:function(e){var t=new ui(di(this,this.first,this.first+this.size),this.modeOption,this.first);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel={from:this.sel.from,to:this.sel.to,head:this.sel.head,anchor:this.sel.anchor,shift:this.sel.shift,extend:!1,goalColumn:this.sel.goalColumn},e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;e.from!=null&&e.from>t&&(t=e.from),e.to!=null&&e.to<n&&(n=e.to);var r=new ui(di(this,t,n),e.mode||this.modeOption,t);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],r},unlinkDoc:function(e){e instanceof x&&(e=e.doc);if(this.linked)for(var t=0;t<this.linked.length;++t){var n=this.linked[t];if(n.doc!=e)continue;this.linked.splice(t,1),e.unlinkDoc(this);break}if(e.history==this.history){var r=[e.id];li(e,function(e){r.push(e.id)},!0),e.history=wi(),e.history.done=Ci(this.history.done,r),e.history.undone=Ci(this.history.undone,r)}},iterLinkedDocs:function(e){li(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),ui.prototype.eachLine=ui.prototype.iter;var ai="iter insert remove copy getEditor".split(" ");for(var fi in ui.prototype)ui.prototype.hasOwnProperty(fi)&&ns(ai,fi)<0&&(x.prototype[fi]=function(e){return function(){return e.apply(this.doc,arguments)}}(ui.prototype[fi]));$i(ui),x.e_stop=Hi,x.e_preventDefault=_i,x.e_stopPropagation=Di;var Ri,Ui=0;x.on=Fi,x.off=Ii,x.signal=qi;var Ji=30,Ki=x.Pass={toString:function(){return"CodeMirror.Pass"}};Qi.prototype={set:function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)}},x.countColumn=Gi;var Yi=[""],us=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,ls=/[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\uA66F\u1DC0â\u1DFF\u20D0â\u20FF\uA670-\uA672\uA674-\uA67D\uA69F\udc00-\udfff\uFE20â\uFE2F]/;x.replaceGetRect=function(e){vs=e};var ms=function(){if(r)return!1;var e=cs("div");return"draggable"in e||"dragDrop"in e}();e?gs=function(e,t){return e.charCodeAt(t-1)==36&&e.charCodeAt(t)==39}:f&&!/Version\/([6-9]|\d\d)\b/.test(navigator.userAgent)?gs=function(e,t){return/\-[^ \-?]|\?[^ !\'\"\),.\-\/:;\?\]\}]/.test(e.slice(t-1,t+1))}:s&&/Chrome\/(?:29|[3-9]\d|\d\d\d)\./.test(navigator.userAgent)?gs=function(e,t){var n=e.charCodeAt(t-1);return n>=8208&&n<=8212}:s&&(gs=function(e,t){if(t>1&&e.charCodeAt(t-1)==45){if(/\w/.test(e.charAt(t-2))&&/[^\-?\.]/.test(e.charAt(t)))return!0;if(t>2&&/[\d\.,]/.test(e.charAt(t-2))&&/[\d\.,]/.test(e.charAt(t)))return!1}return/[~!#%&*)=+}\]\\|\"\.>,:;][({[<]|-[^\-?\.\u2010-\u201f\u2026]|\?[\w~`@#$%\^&*(_=+{[|><]|â¦[\w~`@#$%\^&*(_=+{[><]/.test(e.slice(t-1,t+1))});var ys,ws,Ss="\n\nb".split(/\n/).length!=3?function(e){var t=0,n=[],r=e.length;while(t<=r){var i=e.indexOf("\n",t);i==-1&&(i=e.length);var s=e.slice(t,e.charAt(i-1)=="\r"?i-1:i),o=s.indexOf("\r");o!=-1?(n.push(s.slice(0,o)),t+=o+1):(n.push(s),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)};x.splitLines=Ss;var xs=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return!t||t.parentElement()!=e?!1:t.compareEndPoints("StartToEnd",t)!=0},Ts=function(){var e=cs("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),typeof e.oncopy=="function")}(),Ns={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};x.keyNames=Ns,function(){for(var e=0;e<10;e++)Ns[e+48]=String(e);for(var e=65;e<=90;e++)Ns[e]=String.fromCharCode(e);for(var e=1;e<=12;e++)Ns[e+111]=Ns[e+63235]="F"+e}();var Ps,Is=function(){function n(n){return n<=255?e.charAt(n):1424<=n&&n<=1524?"R":1536<=n&&n<=1791?t.charAt(n-1536):1792<=n&&n<=2220?"r":"L"}var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLL",t="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmmrrrrrrrrrrrrrrrrrr",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,s=/[LRr]/,o=/[Lb1n]/,u=/[1n]/,a="L";return function(e){if(!r.test(e))return!1;var t=e.length,f=[];for(var l=0,c;l<t;++l)f.push(c=n(e.charCodeAt(l)));for(var l=0,h=a;l<t;++l){var c=f[l];c=="m"?f[l]=h:h=c}for(var l=0,p=a;l<t;++l){var c=f[l];c=="1"&&p=="r"?f[l]="n":s.test(c)&&(p=c,c=="r"&&(f[l]="R"))}for(var l=1,h=f[0];l<t-1;++l){var c=f[l];c=="+"&&h=="1"&&f[l+1]=="1"?f[l]="1":c==","&&h==f[l+1]&&(h=="1"||h=="n")&&(f[l]=h),h=c}for(var l=0;l<t;++l){var c=f[l];if(c==",")f[l]="N";else if(c=="%"){for(var d=l+1;d<t&&f[d]=="%";++d);var v=l&&f[l-1]=="!"||d<t-1&&f[d]=="1"?"1":"N";for(var m=l;m<d;++m)f[m]=v;l=d-1}}for(var l=0,p=a;l<t;++l){var c=f[l];p=="L"&&c=="1"?f[l]="L":s.test(c)&&(p=c)}for(var l=0;l<t;++l)if(i.test(f[l])){for(var d=l+1;d<t&&i.test(f[d]);++d);var g=(l?f[l-1]:a)=="L",y=(d<t-1?f[d]:a)=="L",v=g||y?"L":"R";for(var m=l;m<d;++m)f[m]=v;l=d-1}var b=[],w;for(var l=0;l<t;)if(o.test(f[l])){var E=l;for(++l;l<t&&o.test(f[l]);++l);b.push({from:E,to:l,level:0})}else{var S=l,x=b.length;for(++l;l<t&&f[l]!="L";++l);for(var m=S;m<l;)if(u.test(f[m])){S<m&&b.splice(x,0,{from:S,to:m,level:1});var T=m;for(++m;m<l&&u.test(f[m]);++m);b.splice(x,0,{from:T,to:m,level:2}),S=m}else++m;S<l&&b.splice(x,0,{from:S,to:l,level:1})}return b[0].level==1&&(w=e.match(/^\s+/))&&(b[0].from=w[0].length,b.unshift({from:0,to:w[0].length,level:0})),es(b).level==1&&(w=e.match(/\s+$/))&&(es(b).to-=w[0].length,b.push({from:t-w[0].length,to:t,level:0})),b[0].level!=es(b).level&&b.push({from:t,to:t,level:b[0].level}),b}}();return x.version="3.20.0",x}(),define("codemirror",function(){}),!function(e){"function"==typeof define&&define.amd?define("summernote",["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(window.jQuery)}(function($){var func=function(){var e=function(e){return function(t){return e===t}},t=function(e,t){return e===t},n=function(e){return function(t,n){return t[e]===n[e]}},r=function(){return!0},i=function(){return!1},s=function(e){return function(){return!e.apply(e,arguments)}},o=function(e,t){return function(n){return e(n)&&t(n)}},u=0;return{eq:e,eq2:t,peq2:n,ok:r,fail:i,self:function(e){return e},not:s,and:o,invoke:function(e,t){return function(){return e[t].apply(e,arguments)}},uniqueId:function(e){var t=++u+"";return e?e+t:t},rect2bnd:function(e){var t=$(document);return{top:e.top+t.scrollTop(),left:e.left+t.scrollLeft(),width:e.right-e.left,height:e.bottom-e.top}},invertObject:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t},namespaceToCamel:function(e,t){return(t=t||"")+e.split(".").map(function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}).join("")},debounce:function(e,t,n){var r;return function(){var i=this,s=arguments,o=function(){r=null,n||e.apply(i,s)},u=n&&!r;clearTimeout(r),r=setTimeout(o,t),u&&e.apply(i,s)}}}}(),list=function(){var e=function(e){return e[0]},t=function(e){return e[e.length-1]},n=function(e){return e.slice(0,e.length-1)},r=function(e){return e.slice(1)},i=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];if(t(i))return i}},s=function(e,t){for(var n=0,r=e.length;n<r;n++)if(!t(e[n]))return!1;return!0},o=function(e,t){return $.inArray(t,e)},u=function(e,t){return o(e,t)!==-1},a=function(e,t){return t=t||func.self,e.reduce(function(e,n){return e+t(n)},0)},f=function(e){for(var t=[],n=-1,r=e.length;++n<r;)t[n]=e[n];return t},l=function(e){return!e||!e.length},c=function(n,i){return n.length?r(n).reduce(function(e,n){var r=t(e);return i(t(r),n)?r[r.length]=n:e[e.length]=[n],e},[[e(n)]]):[]},h=function(e){for(var t=[],n=0,r=e.length;n<r;n++)e[n]&&t.push(e[n]);return t},p=function(e){for(var t=[],n=0,r=e.length;n<r;n++)u(t,e[n])||t.push(e[n]);return t},d=function(e,t){var n=o(e,t);return n===-1?null:e[n+1]};return{head:e,last:t,initial:n,tail:r,prev:function(e,t){var n=o(e,t);return n===-1?null:e[n-1]},next:d,find:i,contains:u,all:s,sum:a,from:f,isEmpty:l,clusterBy:c,compact:h,unique:p}}(),isSupportAmd="function"==typeof define&&define.amd,isFontInstalled=function(e){var t="Comic Sans MS"===e?"Courier New":"Comic Sans MS",n=$("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),r=n.css("fontFamily",t).width(),i=n.css("fontFamily",e+","+t).width();return n.remove(),r!==i},userAgent=navigator.userAgent,isMSIE=/MSIE|Trident/i.test(userAgent),browserVersion;if(isMSIE){var matches=/MSIE (\d+[.]\d+)/.exec(userAgent);matches&&(browserVersion=parseFloat(matches[1])),matches=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(userAgent),matches&&(browserVersion=parseFloat(matches[1]))}var isEdge=/Edge\/\d+/.test(userAgent),hasCodeMirror=!!window.CodeMirror;if(!hasCodeMirror&&isSupportAmd&&"undefined"!=typeof require)if(void 0!==require.resolve)try{require.resolve("codemirror"),hasCodeMirror=!0}catch(a){}else void 0!==eval("require").specified&&(hasCodeMirror=eval("require").specified("codemirror"));var agent={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:isMSIE,isEdge:isEdge,isFF:!isEdge&&/firefox/i.test(userAgent),isPhantom:/PhantomJS/i.test(userAgent),isWebkit:!isEdge&&/webkit/i.test(userAgent),isChrome:!isEdge&&/chrome/i.test(userAgent),isSafari:!isEdge&&/safari/i.test(userAgent),browserVersion:browserVersion,jqueryVersion:parseFloat($.fn.jquery),isSupportAmd:isSupportAmd,hasCodeMirror:hasCodeMirror,isFontInstalled:isFontInstalled,isW3CRangeSupport:!!document.createRange},NBSP_CHAR=String.fromCharCode(160),ZERO_WIDTH_NBSP_CHAR="ï»¿",dom=function(){var e=function(e){return e&&$(e).hasClass("note-editable")},t=function(e){return e&&$(e).hasClass("note-control-sizing")},n=function(e){return e=e.toUpperCase(),function(t){return t&&t.nodeName.toUpperCase()===e}},r=function(e){return e&&3===e.nodeType},i=function(e){return e&&1===e.nodeType},s=function(e){return e&&/^BR|^IMG|^HR|^IFRAME|^BUTTON/.test(e.nodeName.toUpperCase())},o=function(t){return!e(t)&&t&&/^DIV|^P|^LI|^H[1-7]/.test(t.nodeName.toUpperCase())},u=function(e){return e&&/^H[1-7]/.test(e.nodeName.toUpperCase())},a=n("PRE"),f=n("LI"),l=function(e){return o(e)&&!f(e)},c=n("TABLE"),h=n("DATA"),p=function(e){return!(y(e)||d(e)||v(e)||o(e)||c(e)||g(e)||h(e))},d=function(e){return e&&/^UL|^OL/.test(e.nodeName.toUpperCase())},v=n("HR"),m=function(e){return e&&/^TD|^TH/.test(e.nodeName.toUpperCase())},g=n("BLOCKQUOTE"),y=function(t){return m(t)||g(t)||e(t)},b=n("A"),w=function(e){return p(e)&&!!A(e,o)},E=function(e){return p(e)&&!A(e,o)},S=n("BODY"),x=function(e,t){return e.nextSibling===t||e.previousSibling===t},T=function(e,t){t=t||func.ok;var n=[];return e.previousSibling&&t(e.previousSibling)&&n.push(e.previousSibling),n.push(e),e.nextSibling&&t(e.nextSibling)&&n.push(e.nextSibling),n},N=agent.isMSIE&&agent.browserVersion<11?"&nbsp;":"<br>",C=function(e){return r(e)?e.nodeValue.length:e?e.childNodes.length:0},k=function(e){var t=C(e);return 0===t||!r(e)&&1===t&&e.innerHTML===N||!!list.all(e.childNodes,r)&&""===e.innerHTML},L=function(e){s(e)||C(e)||(e.innerHTML=N)},A=function(t,n){for(;t;){if(n(t))return t;if(e(t))break;t=t.parentNode}return null},O=function(t,n){for(t=t.parentNode;t&&1===C(t);){if(n(t))return t;if(e(t))break;t=t.parentNode}return null},M=function(t,n){n=n||func.fail;var r=[];return A(t,function(t){return e(t)||r.push(t),n(t)}),r},_=function(e,t){var n=M(e);return list.last(n.filter(t))},D=function(e,t){for(var n=M(e),r=t;r;r=r.parentNode)if($.inArray(r,n)>-1)return r;return null},P=function(e,t){t=t||func.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.previousSibling;return n},H=function(e,t){t=t||func.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.nextSibling;return n},B=function(e,t){var n=[];return t=t||func.ok,function r(i){e!==i&&t(i)&&n.push(i);for(var s=0,o=i.childNodes.length;s<o;s++)r(i.childNodes[s])}(e),n},j=function(e,t){var n=e.parentNode,r=$("<"+t+">")[0];return n.insertBefore(r,e),r.appendChild(e),r},F=function(e,t){var n=t.nextSibling,r=t.parentNode;return n?r.insertBefore(e,n):r.appendChild(e),e},I=function(e,t){return $.each(t,function(t,n){e.appendChild(n)}),e},q=function(e){return 0===e.offset},R=function(e){return e.offset===C(e.node)},U=function(e){return q(e)||R(e)},z=function(e,t){for(;e&&e!==t;){if(0!==J(e))return!1;e=e.parentNode}return!0},W=function(e,t){if(!t)return!1;for(;e&&e!==t;){if(J(e)!==C(e.parentNode)-1)return!1;e=e.parentNode}return!0},X=function(e,t){return q(e)&&z(e.node,t)},V=function(e,t){return R(e)&&W(e.node,t)},J=function(e){for(var t=0;e=e.previousSibling;)t+=1;return t},K=function(e){return!!(e&&e.childNodes&&e.childNodes.length)},Q=function(t,n){var r,i;if(0===t.offset){if(e(t.node))return null;r=t.node.parentNode,i=J(t.node)}else K(t.node)?(r=t.node.childNodes[t.offset-1],i=C(r)):(r=t.node,i=n?0:t.offset-1);return{node:r,offset:i}},G=function(t,n){var r,i;if(C(t.node)===t.offset){if(e(t.node))return null;r=t.node.parentNode,i=J(t.node)+1}else K(t.node)?(r=t.node.childNodes[t.offset],i=0):(r=t.node,i=n?C(t.node):t.offset+1);return{node:r,offset:i}},Y=function(e,t){return e.node===t.node&&e.offset===t.offset},Z=function(e){if(r(e.node)||!K(e.node)||k(e.node))return!0;var t=e.node.childNodes[e.offset-1],n=e.node.childNodes[e.offset];return!(t&&!s(t)||n&&!s(n))},et=function(e,t){for(;e;){if(t(e))return e;e=Q(e)}return null},tt=function(e,t){for(;e;){if(t(e))return e;e=G(e)}return null},nt=function(e){if(!r(e.node))return!1;var t=e.node.nodeValue.charAt(e.offset-1);return t&&" "!==t&&t!==NBSP_CHAR},rt=function(e,t,n,r){for(var i=e;i&&(n(i),!Y(i,t));)i=G(i,r&&e.node!==i.node&&t.node!==i.node)},it=function(e,t){return M(t,func.eq(e)).map(J).reverse()},st=function(e,t){for(var n=e,r=0,i=t.length;r<i;r++)n=n.childNodes.length<=t[r]?n.childNodes[n.childNodes.length-1]:n.childNodes[t[r]];return n},ot=function(e,t){var n=t&&t.isSkipPaddingBlankHTML,i=t&&t.isNotSplitEdgePoint;if(U(e)&&(r(e.node)||i)){if(q(e))return e.node;if(R(e))return e.node.nextSibling}if(r(e.node))return e.node.splitText(e.offset);var s=e.node.childNodes[e.offset],o=F(e.node.cloneNode(!1),e.node);return I(o,H(s)),n||(L(e.node),L(o)),o},ut=function(e,t,n){var r=M(t.node,func.eq(e));return r.length?1===r.length?ot(t,n):r.reduce(function(e,r){return e===t.node&&(e=ot(t,n)),ot({node:r,offset:e?dom.position(e):C(r)},n)}):null},at=function(e,t){var n,r,i=t?o:y,s=M(e.node,i),u=list.last(s)||e.node;i(u)?(n=s[s.length-2],r=u):(n=u,r=n.parentNode);var a=n&&ut(n,e,{isSkipPaddingBlankHTML:t,isNotSplitEdgePoint:t});return a||r!==e.node||(a=e.node.childNodes[e.offset]),{rightNode:a,container:r}},ft=function(e){return document.createElement(e)},lt=function(e){return document.createTextNode(e)},ct=function(e,t){if(e&&e.parentNode){if(e.removeNode)return e.removeNode(t);var n=e.parentNode;if(!t){var r,i,s=[];for(r=0,i=e.childNodes.length;r<i;r++)s.push(e.childNodes[r]);for(r=0,i=s.length;r<i;r++)n.insertBefore(s[r],e)}n.removeChild(e)}},ht=function(t,n){for(;t&&!e(t)&&n(t);){var r=t.parentNode;ct(t),t=r}},pt=function(e,t){if(e.nodeName.toUpperCase()===t.toUpperCase())return e;var n=ft(t);return e.style.cssText&&(n.style.cssText=e.style.cssText),I(n,list.from(e.childNodes)),F(n,e),ct(e),n},dt=n("TEXTAREA"),vt=function(e,t){var n=dt(e[0])?e.val():e.html();return t?n.replace(/[\n\r]/g,""):n},mt=function(e,t){var n=vt(e);return t&&(n=n.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,function(e,t,n){n=n.toUpperCase();var r=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!t,i=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return e+(r||i?"\n":"")}),n=$.trim(n)),n},gt=function(e){var t=$(e),n=t.offset(),r=t.outerHeight(!0);return{left:n.left,top:n.top+r}},yt=function(e,t){Object.keys(t).forEach(function(n){e.on(n,t[n])})},bt=function(e,t){Object.keys(t).forEach(function(n){e.off(n,t[n])})};return{NBSP_CHAR:NBSP_CHAR,ZERO_WIDTH_NBSP_CHAR:"ï»¿",blank:N,emptyPara:"<p>"+N+"</p>",makePredByNodeName:n,isEditable:e,isControlSizing:t,isText:r,isElement:i,isVoid:s,isPara:o,isPurePara:l,isHeading:u,isInline:p,isBlock:func.not(p),isBodyInline:E,isBody:S,isParaInline:w,isPre:a,isList:d,isTable:c,isData:h,isCell:m,isBlockquote:g,isBodyContainer:y,isAnchor:b,isDiv:n("DIV"),isLi:f,isBR:n("BR"),isSpan:n("SPAN"),isB:n("B"),isU:n("U"),isS:n("S"),isI:n("I"),isImg:n("IMG"),isTextarea:dt,isEmpty:k,isEmptyAnchor:func.and(b,k),isClosestSibling:x,withClosestSiblings:T,nodeLength:C,isLeftEdgePoint:q,isRightEdgePoint:R,isEdgePoint:U,isLeftEdgeOf:z,isRightEdgeOf:W,isLeftEdgePointOf:X,isRightEdgePointOf:V,prevPoint:Q,nextPoint:G,isSamePoint:Y,isVisiblePoint:Z,prevPointUntil:et,nextPointUntil:tt,isCharPoint:nt,walkPoint:rt,ancestor:A,singleChildAncestor:O,listAncestor:M,lastAncestor:_,listNext:H,listPrev:P,listDescendant:B,commonAncestor:D,wrap:j,insertAfter:F,appendChildNodes:I,position:J,hasChildren:K,makeOffsetPath:it,fromOffsetPath:st,splitTree:ut,splitPoint:at,create:ft,createText:lt,remove:ct,removeWhile:ht,replace:pt,html:mt,value:vt,posFromPlaceholder:gt,attachEvents:yt,detachEvents:bt}}(),Context=function(e,t){var n=this,r=$.summernote.ui;return this.memos={},this.modules={},this.layoutInfo={},this.options=t,this.initialize=function(){return this.layoutInfo=r.createLayout(e,t),this._initialize(),e.hide(),this},this.destroy=function(){this._destroy(),e.removeData("summernote"),r.removeLayout(e,this.layoutInfo)},this.reset=function(){var e=n.isDisabled();this.code(dom.emptyPara),this._destroy(),this._initialize(),e&&n.disable()},this._initialize=function(){var e=$.extend({},this.options.buttons);Object.keys(e).forEach(function(t){n.memo("button."+t,e[t])});var t=$.extend({},this.options.modules,$.summernote.plugins||{});Object.keys(t).forEach(function(e){n.module(e,t[e],!0)}),Object.keys(this.modules).forEach(function(e){n.initializeModule(e)})},this._destroy=function(){Object.keys(this.modules).reverse().forEach(function(e){n.removeModule(e)}),Object.keys(this.memos).forEach(function(e){n.removeMemo(e)}),this.triggerEvent("destroy",this)},this.code=function(t){var n=this.invoke("codeview.isActivated");if(void 0===t)return this.invoke("codeview.sync"),n?this.layoutInfo.codable.val():this.layoutInfo.editable.html();n?this.layoutInfo.codable.val(t):this.layoutInfo.editable.html(t),e.val(t),this.triggerEvent("change",t)},this.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},this.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0)},this.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0)},this.triggerEvent=function(){var t=list.head(arguments),n=list.tail(list.from(arguments)),r=this.options.callbacks[func.namespaceToCamel(t,"on")];r&&r.apply(e[0],n),e.trigger("summernote."+t,n)},this.initializeModule=function(t){var n=this.modules[t];n.shouldInitialize=n.shouldInitialize||func.ok,n.shouldInitialize()&&(n.initialize&&n.initialize(),n.events&&dom.attachEvents(e,n.events))},this.module=function(e,t,n){if(1===arguments.length)return this.modules[e];this.modules[e]=new t(this),n||this.initializeModule(e)},this.removeModule=function(t){var n=this.modules[t];n.shouldInitialize()&&(n.events&&dom.detachEvents(e,n.events),n.destroy&&n.destroy()),delete this.modules[t]},this.memo=function(e,t){if(1===arguments.length)return this.memos[e];this.memos[e]=t},this.removeMemo=function(e){this.memos[e]&&this.memos[e].destroy&&this.memos[e].destroy(),delete this.memos[e]},this.createInvokeHandler=function(e,t){return function(r){r.preventDefault(),n.invoke(e,t||$(r.target).closest("[data-value]").data("value"))}},this.invoke=function(){var e=list.head(arguments),t=list.tail(list.from(arguments)),n=e.split("."),r=n.length>1,i=r&&list.head(n),s=r?list.last(n):list.head(n),o=this.modules[i||"editor"];return!i&&this[s]?this[s].apply(this,t):o&&o[s]&&o.shouldInitialize()?o[s].apply(o,t):void 0},this.initialize()};$.fn.extend({summernote:function(){var e=$.type(list.head(arguments)),t="string"===e,n="object"===e,r=n?list.head(arguments):{};r=$.extend({},$.summernote.options,r),r.langInfo=$.extend(!0,{},$.summernote.lang["en-US"],$.summernote.lang[r.lang]),r.icons=$.extend(!0,{},$.summernote.options.icons,r.icons),this.each(function(e,t){var n=$(t);if(!n.data("summernote")){var i=new Context(n,r);n.data("summernote",i),n.data("summernote").triggerEvent("init",i.layoutInfo)}});var i=this.first();if(i.length){var s=i.data("summernote");if(t)return s.invoke.apply(s,list.from(arguments));r.focus&&s.invoke("editor.focus")}return this}});var Renderer=function(e,t,n,r){this.render=function(i){var s=$(e);if(n&&n.contents&&s.html(n.contents),n&&n.className&&s.addClass(n.className),n&&n.data&&$.each(n.data,function(e,t){s.attr("data-"+e,t)}),n&&n.click&&s.on("click",n.click),t){var o=s.find(".note-children-container");t.forEach(function(e){e.render(o.length?o:s)})}return r&&r(s,n),n&&n.callback&&n.callback(s),i&&i.append(s),s}},renderer={create:function(e,t){return function(){var n=$.isArray(arguments[0])?arguments[0]:[],r="object"==typeof arguments[1]?arguments[1]:arguments[0];return r&&r.children&&(n=r.children),new Renderer(e,n,r,t)}}},editor=renderer.create('<div class="note-editor note-frame panel panel-default"/>'),toolbar=renderer.create('<div class="note-toolbar panel-heading"/>'),editingArea=renderer.create('<div class="note-editing-area"/>'),codable=renderer.create('<textarea class="note-codable"/>'),editable=renderer.create('<div class="note-editable panel-body" contentEditable="true"/>'),statusbar=renderer.create(['<div class="note-statusbar">','  <div class="note-resizebar">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),airEditor=renderer.create('<div class="note-editor"/>'),airEditable=renderer.create('<div class="note-editable" contentEditable="true"/>'),buttonGroup=renderer.create('<div class="note-btn-group btn-group">'),button=renderer.create('<button type="button" class="note-btn btn btn-default btn-sm" tabindex="-1">',function(e,t){t&&t.tooltip&&e.attr({title:t.tooltip}).tooltip({container:"body",trigger:"hover",placement:"bottom"})}),dropdown=renderer.create('<div class="dropdown-menu">',function(e,t){var n=$.isArray(t.items)?t.items.map(function(e){return'<li><a href="#" data-value="'+("string"==typeof e?e:e.value||"")+'">'+(t.template?t.template(e):e)+"</a></li>"}).join(""):t.items;e.html(n)}),dropdownCheck=renderer.create('<div class="dropdown-menu note-check">',function(e,t){var n=$.isArray(t.items)?t.items.map(function(e){var n="string"==typeof e?e:e.value||"",r=t.template?t.template(e):e;return'<li><a href="#" data-value="'+n+'">'+icon(t.checkClassName)+" "+r+"</a></li>"}).join(""):t.items;e.html(n)}),palette=renderer.create('<div class="note-color-palette"/>',function(e,t){for(var n=[],r=0,i=t.colors.length;r<i;r++){for(var s=t.eventName,o=t.colors[r],u=[],a=0,f=o.length;a<f;a++){var l=o[a];u.push(['<button type="button" class="note-color-btn"','style="background-color:',l,'" ','data-event="',s,'" ','data-value="',l,'" ','title="',l,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}n.push('<div class="note-color-row">'+u.join("")+"</div>")}e.html(n.join("")),e.find(".note-color-btn").tooltip({container:"body",trigger:"hover",placement:"bottom"})}),dialog=renderer.create('<div class="modal" aria-hidden="false" tabindex="-1"/>',function(e,t){t.fade&&e.addClass("fade"),e.html(['<div class="modal-dialog">','  <div class="modal-content">',t.title?'    <div class="modal-header">      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>      <h4 class="modal-title">'+t.title+"</h4>    </div>":"",'    <div class="modal-body">'+t.body+"</div>",t.footer?'    <div class="modal-footer">'+t.footer+"</div>":"","  </div>","</div>"].join(""))}),popover=renderer.create(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(e,t){var n=void 0!==t.direction?t.direction:"bottom";e.addClass(n),t.hideArrow&&e.find(".arrow").hide()}),icon=function(e,t){return"<"+(t=t||"i")+' class="'+e+'"/>'},ui={editor:editor,toolbar:toolbar,editingArea:editingArea,codable:codable,editable:editable,statusbar:statusbar,airEditor:airEditor,airEditable:airEditable,buttonGroup:buttonGroup,button:button,dropdown:dropdown,dropdownCheck:dropdownCheck,palette:palette,dialog:dialog,popover:popover,icon:icon,toggleBtn:function(e,t){e.toggleClass("disabled",!t),e.attr("disabled",!t)},toggleBtnActive:function(e,t){e.toggleClass("active",t)},onDialogShown:function(e,t){e.one("shown.bs.modal",t)},onDialogHidden:function(e,t){e.one("hidden.bs.modal",t)},showDialog:function(e){e.modal("show")},hideDialog:function(e){e.modal("hide")},createLayout:function(e,t){var n=(t.airMode?ui.airEditor([ui.editingArea([ui.airEditable()])]):ui.editor([ui.toolbar(),ui.editingArea([ui.codable(),ui.editable()]),ui.statusbar()])).render();return n.insertAfter(e),{note:e,editor:n,toolbar:n.find(".note-toolbar"),editingArea:n.find(".note-editing-area"),editable:n.find(".note-editable"),codable:n.find(".note-codable"),statusbar:n.find(".note-statusbar")}},removeLayout:function(e,t){e.html(t.editable.html()),t.editor.remove(),e.show()}};$.summernote=$.summernote||{lang:{}},$.extend($.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var key=function(){var e={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221};return{isEdit:function(t){return list.contains([e.BACKSPACE,e.TAB,e.ENTER,e.SPACE],t)},isMove:function(t){return list.contains([e.LEFT,e.UP,e.RIGHT,e.DOWN],t)},nameFromCode:func.invertObject(e),code:e}}(),range=function(){var e=function(e,t){var n,r,i=e.parentElement(),s=document.body.createTextRange(),o=list.from(i.childNodes);for(n=0;n<o.length;n++)if(!dom.isText(o[n])){if(s.moveToElementText(o[n]),s.compareEndPoints("StartToStart",e)>=0)break;r=o[n]}if(0!==n&&dom.isText(o[n-1])){var u=document.body.createTextRange(),a=null;u.moveToElementText(r||i),u.collapse(!r),a=r?r.nextSibling:i.firstChild;var f=e.duplicate();f.setEndPoint("StartToStart",u);for(var l=f.text.replace(/[\r\n]/g,"").length;l>a.nodeValue.length&&a.nextSibling;)l-=a.nodeValue.length,a=a.nextSibling;a.nodeValue,t&&a.nextSibling&&dom.isText(a.nextSibling)&&l===a.nodeValue.length&&(l-=a.nodeValue.length,a=a.nextSibling),i=a,n=l}return{cont:i,offset:n}},t=function(e){var t=function(e,n){var r,i;if(dom.isText(e)){var s=dom.listPrev(e,func.not(dom.isText)),o=list.last(s).previousSibling;r=o||e.parentNode,n+=list.sum(list.tail(s),dom.nodeLength),i=!o}else{if(r=e.childNodes[n]||e,dom.isText(r))return t(r,0);n=0,i=!1}return{node:r,collapseToStart:i,offset:n}},n=document.body.createTextRange(),r=t(e.node,e.offset);return n.moveToElementText(r.node),n.collapse(r.collapseToStart),n.moveStart("character",r.offset),n},n=function(e,r,i,s){this.sc=e,this.so=r,this.ec=i,this.eo=s;var o=function(){if(agent.isW3CRangeSupport){var n=document.createRange();return n.setStart(e,r),n.setEnd(i,s),n}var o=t({node:e,offset:r});return o.setEndPoint("EndToEnd",t({node:i,offset:s})),o};this.getPoints=function(){return{sc:e,so:r,ec:i,eo:s}},this.getStartPoint=function(){return{node:e,offset:r}},this.getEndPoint=function(){return{node:i,offset:s}},this.select=function(){var e=o();if(agent.isW3CRangeSupport){var t=document.getSelection();t.rangeCount>0&&t.removeAllRanges(),t.addRange(e)}else e.select();return this},this.scrollIntoView=function(e){var t=$(e).height();return e.scrollTop+t<this.sc.offsetTop&&(e.scrollTop+=Math.abs(e.scrollTop+t-this.sc.offsetTop)),this},this.normalize=function(){var e=function(e,t){if(dom.isVisiblePoint(e)&&!dom.isEdgePoint(e)||dom.isVisiblePoint(e)&&dom.isRightEdgePoint(e)&&!t||dom.isVisiblePoint(e)&&dom.isLeftEdgePoint(e)&&t||dom.isVisiblePoint(e)&&dom.isBlock(e.node)&&dom.isEmpty(e.node))return e;var n=dom.ancestor(e.node,dom.isBlock);if((dom.isLeftEdgePointOf(e,n)||dom.isVoid(dom.prevPoint(e).node))&&!t||(dom.isRightEdgePointOf(e,n)||dom.isVoid(dom.nextPoint(e).node))&&t){if(dom.isVisiblePoint(e))return e;t=!t}return(t?dom.nextPointUntil(dom.nextPoint(e),dom.isVisiblePoint):dom.prevPointUntil(dom.prevPoint(e),dom.isVisiblePoint))||e},t=e(this.getEndPoint(),!1),r=this.isCollapsed()?t:e(this.getStartPoint(),!0);return new n(r.node,r.offset,t.node,t.offset)},this.nodes=function(e,t){e=e||func.ok;var n=t&&t.includeAncestor,r=t&&t.fullyContains,i=this.getStartPoint(),s=this.getEndPoint(),o=[],u=[];return dom.walkPoint(i,s,function(t){if(!dom.isEditable(t.node)){var i;r?(dom.isLeftEdgePoint(t)&&u.push(t.node),dom.isRightEdgePoint(t)&&list.contains(u,t.node)&&(i=t.node)):i=n?dom.ancestor(t.node,e):t.node,i&&e(i)&&o.push(i)}},!0),list.unique(o)},this.commonAncestor=function(){return dom.commonAncestor(e,i)},this.expand=function(t){var o=dom.ancestor(e,t),u=dom.ancestor(i,t);if(!o&&!u)return new n(e,r,i,s);var l=this.getPoints();return o&&(l.sc=o,l.so=0),u&&(l.ec=u,l.eo=dom.nodeLength(u)),new n(l.sc,l.so,l.ec,l.eo)},this.collapse=function(t){return t?new n(e,r,e,r):new n(i,s,i,s)},this.splitText=function(){var t=e===i,o=this.getPoints();return dom.isText(i)&&!dom.isEdgePoint(this.getEndPoint())&&i.splitText(s),dom.isText(e)&&!dom.isEdgePoint(this.getStartPoint())&&(o.sc=e.splitText(r),o.so=0,t&&(o.ec=o.sc,o.eo=s-r)),new n(o.sc,o.so,o.ec,o.eo)},this.deleteContents=function(){if(this.isCollapsed())return this;var e=this.splitText(),t=e.nodes(null,{fullyContains:!0}),r=dom.prevPointUntil(e.getStartPoint(),function(e){return!list.contains(t,e.node)}),i=[];return $.each(t,function(e,t){var n=t.parentNode;r.node!==n&&1===dom.nodeLength(n)&&i.push(n),dom.remove(t,!1)}),$.each(i,function(e,t){dom.remove(t,!1)}),(new n(r.node,r.offset,r.node,r.offset)).normalize()};var u=function(t){return function(){var n=dom.ancestor(e,t);return!!n&&n===dom.ancestor(i,t)}};this.isOnEditable=u(dom.isEditable),this.isOnList=u(dom.isList),this.isOnAnchor=u(dom.isAnchor),this.isOnCell=u(dom.isCell),this.isOnData=u(dom.isData),this.isLeftEdgeOf=function(e){if(!dom.isLeftEdgePoint(this.getStartPoint()))return!1;var t=dom.ancestor(this.sc,e);return t&&dom.isLeftEdgeOf(this.sc,t)},this.isCollapsed=function(){return e===i&&r===s},this.wrapBodyInlineWithPara=function(){if(dom.isBodyContainer(e)&&dom.isEmpty(e))return e.innerHTML=dom.emptyPara,new n(e.firstChild,0,e.firstChild,0);var t=this.normalize();if(dom.isParaInline(e)||dom.isPara(e))return t;var r;if(dom.isInline(t.sc)){var i=dom.listAncestor(t.sc,func.not(dom.isInline));r=list.last(i),dom.isInline(r)||(r=i[i.length-2]||t.sc.childNodes[t.so])}else r=t.sc.childNodes[t.so>0?t.so-1:0];var s=dom.listPrev(r,dom.isParaInline).reverse();if(s=s.concat(dom.listNext(r.nextSibling,dom.isParaInline)),s.length){var o=dom.wrap(list.head(s),"p");dom.appendChildNodes(o,list.tail(s))}return this.normalize()},this.insertNode=function(e){var t=this.wrapBodyInlineWithPara().deleteContents(),n=dom.splitPoint(t.getStartPoint(),dom.isInline(e));return n.rightNode?n.rightNode.parentNode.insertBefore(e,n.rightNode):n.container.appendChild(e),e},this.pasteHTML=function(e){var t=$("<div></div>").html(e)[0],n=list.from(t.childNodes),r=this.wrapBodyInlineWithPara().deleteContents();return n.reverse().map(function(e){return r.insertNode(e)}).reverse()},this.toString=function(){var e=o();return agent.isW3CRangeSupport?e.toString():e.text},this.getWordRange=function(e){var t=this.getEndPoint();if(!dom.isCharPoint(t))return this;var r=dom.prevPointUntil(t,function(e){return!dom.isCharPoint(e)});return e&&(t=dom.nextPointUntil(t,function(e){return!dom.isCharPoint(e)})),new n(r.node,r.offset,t.node,t.offset)},this.bookmark=function(t){return{s:{path:dom.makeOffsetPath(t,e),offset:r},e:{path:dom.makeOffsetPath(t,i),offset:s}}},this.paraBookmark=function(t){return{s:{path:list.tail(dom.makeOffsetPath(list.head(t),e)),offset:r},e:{path:list.tail(dom.makeOffsetPath(list.last(t),i)),offset:s}}},this.getClientRects=function(){return o().getClientRects()}};return{create:function(e,t,r,i){if(4===arguments.length)return new n(e,t,r,i);if(2===arguments.length)return r=e,i=t,new n(e,t,r,i);var s=this.createFromSelection();return s||1!==arguments.length?s:(s=this.createFromNode(arguments[0]),s.collapse(dom.emptyPara===arguments[0].innerHTML))},createFromSelection:function(){var t,r,i,s;if(agent.isW3CRangeSupport){var o=document.getSelection();if(!o||0===o.rangeCount)return null;if(dom.isBody(o.anchorNode))return null;var u=o.getRangeAt(0);t=u.startContainer,r=u.startOffset,i=u.endContainer,s=u.endOffset}else{var f=document.selection.createRange(),l=f.duplicate();l.collapse(!1);var h=f;h.collapse(!0);var p=e(h,!0),d=e(l,!1);dom.isText(p.node)&&dom.isLeftEdgePoint(p)&&dom.isTextNode(d.node)&&dom.isRightEdgePoint(d)&&d.node.nextSibling===p.node&&(p=d),t=p.cont,r=p.offset,i=d.cont,s=d.offset}return new n(t,r,i,s)},createFromNode:function(e){var t=e,n=0,r=e,i=dom.nodeLength(r);return dom.isVoid(t)&&(n=dom.listPrev(t).length-1,t=t.parentNode),dom.isBR(r)?(i=dom.listPrev(r).length-1,r=r.parentNode):dom.isVoid(r)&&(i=dom.listPrev(r).length,r=r.parentNode),this.create(t,n,r,i)},createFromNodeBefore:function(e){return this.createFromNode(e).collapse(!0)},createFromNodeAfter:function(e){return this.createFromNode(e).collapse()},createFromBookmark:function(e,t){return new n(dom.fromOffsetPath(e,t.s.path),t.s.offset,dom.fromOffsetPath(e,t.e.path),t.e.offset)},createFromParaBookmark:function(e,t){var r=e.s.offset,i=e.e.offset;return new n(dom.fromOffsetPath(list.head(t),e.s.path),r,dom.fromOffsetPath(list.last(t),e.e.path),i)}}}(),async=function(){return{readFileAsDataURL:function(e){return $.Deferred(function(t){$.extend(new FileReader,{onload:function(e){var n=e.target.result;t.resolve(n)},onerror:function(){t.reject(this)}}).readAsDataURL(e)}).promise()},createImage:function(e){return $.Deferred(function(t){var n=$("<img>");n.one("load",function(){n.off("error abort"),t.resolve(n)}).one("error abort",function(){n.off("load").detach(),t.reject(n)}).css({display:"none"}).appendTo(document.body).attr("src",e)}).promise()}}}(),History=function(e){var t=[],n=-1,r=e[0],i=function(){var t=range.create(r),n={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:e.html(),bookmark:t?t.bookmark(r):n}},s=function(t){null!==t.contents&&e.html(t.contents),null!==t.bookmark&&range.createFromBookmark(r,t.bookmark).select()};this.rewind=function(){e.html()!==t[n].contents&&this.recordUndo(),n=0,s(t[n])},this.reset=function(){t=[],n=-1,e.html(""),this.recordUndo()},this.undo=function(){e.html()!==t[n].contents&&this.recordUndo(),0<n&&(n--,s(t[n]))},this.redo=function(){t.length-1>n&&(n++,s(t[n]))},this.recordUndo=function(){n++,t.length>n&&(t=t.slice(0,n)),t.push(i())}},Style=function(){var e=function(e,t){if(agent.jqueryVersion<1.9){var n={};return $.each(t,function(t,r){n[r]=e.css(r)}),n}return e.css.call(e,t)};this.fromNode=function(t){var n=["font-family","font-size","text-align","list-style-type","line-height"],r=e(t,n)||{};return r["font-size"]=parseInt(r["font-size"],10),r},this.stylePara=function(e,t){$.each(e.nodes(dom.isPara,{includeAncestor:!0}),function(e,n){$(n).css(t)})},this.styleNodes=function(e,t){e=e.splitText();var n=t&&t.nodeName||"SPAN",r=!!t&&!!t.expandClosestSibling,i=!!t&&!!t.onlyPartialContains;if(e.isCollapsed())return[e.insertNode(dom.create(n))];var s=dom.makePredByNodeName(n),o=e.nodes(dom.isText,{fullyContains:!0}).map(function(e){return dom.singleChildAncestor(e,s)||dom.wrap(e,n)});if(r){if(i){var u=e.nodes();s=func.and(s,function(e){return list.contains(u,e)})}return o.map(function(e){var t=dom.withClosestSiblings(e,s),n=list.head(t),r=list.tail(t);return $.each(r,function(e,t){dom.appendChildNodes(n,t.childNodes),dom.remove(t)}),list.head(t)})}return o},this.current=function(e){var t=$(dom.isElement(e.sc)?e.sc:e.sc.parentNode),n=this.fromNode(t);try{n=$.extend(n,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal"})}catch(e){}if(e.isOnList()){var r=["circle","disc","disc-leading-zero","square"],i=$.inArray(n["list-style-type"],r)>-1;n["list-style"]=i?"unordered":"ordered"}else n["list-style"]="none";var s=dom.ancestor(e.sc,dom.isPara);if(s&&s.style["line-height"])n["line-height"]=s.style.lineHeight;else{var o=parseInt(n["line-height"],10)/parseInt(n["font-size"],10);n["line-height"]=o.toFixed(1)}return n.anchor=e.isOnAnchor()&&dom.ancestor(e.sc,dom.isAnchor),n.ancestors=dom.listAncestor(e.sc,dom.isEditable),n.range=e,n}},Bullet=function(){var e=this;this.insertOrderedList=function(e){this.toggleList("OL",e)},this.insertUnorderedList=function(e){this.toggleList("UL",e)},this.indent=function(e){var t=this,n=range.create(e).wrapBodyInlineWithPara(),r=n.nodes(dom.isPara,{includeAncestor:!0}),i=list.clusterBy(r,func.peq2("parentNode"));$.each(i,function(e,n){var r=list.head(n);dom.isLi(r)?t.wrapList(n,r.parentNode.nodeName):$.each(n,function(e,t){$(t).css("marginLeft",function(e,t){return(parseInt(t,10)||0)+25})})}),n.select()},this.outdent=function(e){var t=this,n=range.create(e).wrapBodyInlineWithPara(),r=n.nodes(dom.isPara,{includeAncestor:!0}),i=list.clusterBy(r,func.peq2("parentNode"));$.each(i,function(e,n){var r=list.head(n);dom.isLi(r)?t.releaseList([n]):$.each(n,function(e,t){$(t).css("marginLeft",function(e,t){return t=parseInt(t,10)||0,t>25?t-25:""})})}),n.select()},this.toggleList=function(t,n){var r=range.create(n).wrapBodyInlineWithPara(),i=r.nodes(dom.isPara,{includeAncestor:!0}),s=r.paraBookmark(i),o=list.clusterBy(i,func.peq2("parentNode"));if(list.find(i,dom.isPurePara)){var u=[];$.each(o,function(n,r){u=u.concat(e.wrapList(r,t))}),i=u}else{var f=r.nodes(dom.isList,{includeAncestor:!0}).filter(function(e){return!$.nodeName(e,t)});f.length?$.each(f,function(e,n){dom.replace(n,t)}):i=this.releaseList(o,!0)}range.createFromParaBookmark(s,i).select()},this.wrapList=function(e,t){var n=list.head(e),r=list.last(e),i=dom.isList(n.previousSibling)&&n.previousSibling,s=dom.isList(r.nextSibling)&&r.nextSibling,o=i||dom.insertAfter(dom.create(t||"UL"),r);return e=e.map(function(e){return dom.isPurePara(e)?dom.replace(e,"LI"):e}),dom.appendChildNodes(o,e),s&&(dom.appendChildNodes(o,list.from(s.childNodes)),dom.remove(s)),e},this.releaseList=function(e,t){var n=[];return $.each(e,function(e,r){var i=list.head(r),s=list.last(r),o=t?dom.lastAncestor(i,dom.isList):i.parentNode,u=o.childNodes.length>1?dom.splitTree(o,{node:s.parentNode,offset:dom.position(s)+1},{isSkipPaddingBlankHTML:!0}):null,a=dom.splitTree(o,{node:i.parentNode,offset:dom.position(i)},{isSkipPaddingBlankHTML:!0});r=t?dom.listDescendant(a,dom.isLi):list.from(a.childNodes).filter(dom.isLi),!t&&dom.isList(o.parentNode)||(r=r.map(function(e){return dom.replace(e,"P")})),$.each(list.from(r).reverse(),function(e,t){dom.insertAfter(t,o)});var f=list.compact([o,a,u]);$.each(f,function(e,t){var n=[t].concat(dom.listDescendant(t,dom.isList));$.each(n.reverse(),function(e,t){dom.nodeLength(t)||dom.remove(t,!0)})}),n=n.concat(r)}),n}},Typing=function(){var e=new Bullet;this.insertTab=function(e,t){var n=dom.createText((new Array(t+1)).join(dom.NBSP_CHAR));e=e.deleteContents(),e.insertNode(n,!0),e=range.create(n,t),e.select()},this.insertParagraph=function(t){var n=range.create(t);n=n.deleteContents(),n=n.wrapBodyInlineWithPara();var r,i=dom.ancestor(n.sc,dom.isPara);if(i){if(dom.isEmpty(i)&&dom.isLi(i))return void e.toggleList(i.parentNode.nodeName);if(dom.isEmpty(i)&&dom.isPara(i)&&dom.isBlockquote(i.parentNode))dom.insertAfter(i,i.parentNode),r=i;else{r=dom.splitTree(i,n.getStartPoint());var s=dom.listDescendant(i,dom.isEmptyAnchor);s=s.concat(dom.listDescendant(r,dom.isEmptyAnchor)),$.each(s,function(e,t){dom.remove(t)}),(dom.isHeading(r)||dom.isPre(r))&&dom.isEmpty(r)&&(r=dom.replace(r,"p"))}}else{var o=n.sc.childNodes[n.so];r=$(dom.emptyPara)[0],o?n.sc.insertBefore(r,o):n.sc.appendChild(r)}range.create(r,0).normalize().select().scrollIntoView(t)}},Table=function(){this.tab=function(e,t){var n=dom.ancestor(e.commonAncestor(),dom.isCell),r=dom.ancestor(n,dom.isTable),i=dom.listDescendant(r,dom.isCell),s=list[t?"prev":"next"](i,n);s&&range.create(s,0).select()},this.createTable=function(e,t,n){for(var r,i=[],s=0;s<e;s++)i.push("<td>"+dom.blank+"</td>");r=i.join("");for(var o,u=[],a=0;a<t;a++)u.push("<tr>"+r+"</tr>");o=u.join("");var f=$("<table>"+o+"</table>");return n&&n.tableClassName&&f.addClass(n.tableClassName),f[0]}},KEY_BOGUS="bogus",Editor=function(e){var t=this,n=e.layoutInfo.note,r=e.layoutInfo.editor,i=e.layoutInfo.editable,s=e.options,o=s.langInfo,u=i[0],a=null,f=new Style,l=new Table,c=new Typing,h=new Bullet,p=new History(i);this.initialize=function(){i.on("keydown",function(n){n.keyCode===key.code.ENTER&&e.triggerEvent("enter",n),e.triggerEvent("keydown",n),n.isDefaultPrevented()||(s.shortcuts?t.handleKeyMap(n):t.preventDefaultEditableShortCuts(n))}).on("keyup",function(t){e.triggerEvent("keyup",t)}).on("focus",function(t){e.triggerEvent("focus",t)}).on("blur",function(t){e.triggerEvent("blur",t)}).on("mousedown",function(t){e.triggerEvent("mousedown",t)}).on("mouseup",function(t){e.triggerEvent("mouseup",t)}).on("scroll",function(t){e.triggerEvent("scroll",t)}).on("paste",function(t){e.triggerEvent("paste",t)}),i.html(dom.html(n)||dom.emptyPara);var o=agent.isMSIE?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input";i.on(o,func.debounce(function(){e.triggerEvent("change",i.html())},250)),r.on("focusin",function(t){e.triggerEvent("focusin",t)}).on("focusout",function(t){e.triggerEvent("focusout",t)}),s.airMode||(s.width&&r.outerWidth(s.width),s.height&&i.outerHeight(s.height),s.maxHeight&&i.css("max-height",s.maxHeight),s.minHeight&&i.css("min-height",s.minHeight)),p.recordUndo()},this.destroy=function(){i.off()},this.handleKeyMap=function(t){var n=s.keyMap[agent.isMac?"mac":"pc"],r=[];t.metaKey&&r.push("CMD"),t.ctrlKey&&!t.altKey&&r.push("CTRL"),t.shiftKey&&r.push("SHIFT");var i=key.nameFromCode[t.keyCode];i&&r.push(i);var o=n[r.join("+")];o?(t.preventDefault(),e.invoke(o)):key.isEdit(t.keyCode)&&this.afterCommand()},this.preventDefaultEditableShortCuts=function(e){(e.ctrlKey||e.metaKey)&&list.contains([66,73,85],e.keyCode)&&e.preventDefault()},this.createRange=function(){return this.focus(),range.create(u)},this.saveRange=function(e){a=this.createRange(),e&&a.collapse().select()},this.restoreRange=function(){a&&(a.select(),this.focus())},this.saveTarget=function(e){i.data("target",e)},this.clearTarget=function(){i.removeData("target")},this.restoreTarget=function(){return i.data("target")},this.currentStyle=function(){var e=range.create();return e&&(e=e.normalize()),e?f.current(e):f.fromNode(i)},this.styleFromNode=function(e){return f.fromNode(e)},this.undo=function(){e.triggerEvent("before.command",i.html()),p.undo(),e.triggerEvent("change",i.html())},e.memo("help.undo",o.help.undo),this.redo=function(){e.triggerEvent("before.command",i.html()),p.redo(),e.triggerEvent("change",i.html())},e.memo("help.redo",o.help.redo);for(var d=this.beforeCommand=function(){e.triggerEvent("before.command",i.html()),t.focus()},v=this.afterCommand=function(t){p.recordUndo(),t||e.triggerEvent("change",i.html())},m=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor","foreColor","fontName"],g=0,y=m.length;g<y;g++)this[m[g]]=function(e){return function(t){d(),document.execCommand(e,!1,t),v(!0)}}(m[g]),e.memo("help."+m[g],o.help[m[g]]);this.tab=function(){var e=this.createRange();e.isCollapsed()&&e.isOnCell()?l.tab(e):(d(),c.insertTab(e,s.tabSize),v())},e.memo("help.tab",o.help.tab),this.untab=function(){var e=this.createRange();e.isCollapsed()&&e.isOnCell()&&l.tab(e,!0)},e.memo("help.untab",o.help.untab),this.wrapCommand=function(e){return function(){d(),e.apply(t,arguments),v()}},this.insertParagraph=this.wrapCommand(function(){c.insertParagraph(u)}),e.memo("help.insertParagraph",o.help.insertParagraph),this.insertOrderedList=this.wrapCommand(function(){h.insertOrderedList(u)}),e.memo("help.insertOrderedList",o.help.insertOrderedList),this.insertUnorderedList=this.wrapCommand(function(){h.insertUnorderedList(u)}),e.memo("help.insertUnorderedList",o.help.insertUnorderedList),this.indent=this.wrapCommand(function(){h.indent(u)}),e.memo("help.indent",o.help.indent),this.outdent=this.wrapCommand(function(){h.outdent(u)}),e.memo("help.outdent",o.help.outdent),this.insertImage=function(t,n){return async.createImage(t,n).then(function(e){d(),"function"==typeof n?n(e):("string"==typeof n&&e.attr("data-filename",n),e.css("width",Math.min(i.width(),e.width()))),e.show(),range.create(u).insertNode(e[0]),range.createFromNodeAfter(e[0]).select(),v()}).fail(function(t){e.triggerEvent("image.upload.error",t)})},this.insertImages=function(n){$.each(n,function(n,r){var i=r.name;s.maximumImageFileSize&&s.maximumImageFileSize<r.size?e.triggerEvent("image.upload.error",o.image.maximumFileSizeError):async.readFileAsDataURL(r).then(function(e){return t.insertImage(e,i)}).fail(function(){e.triggerEvent("image.upload.error")})})},this.insertImagesOrCallback=function(t){s.callbacks.onImageUpload?e.triggerEvent("image.upload",t):this.insertImages(t)},this.insertNode=this.wrapCommand(function(e){this.createRange().insertNode(e),range.createFromNodeAfter(e).select()}),this.insertText=this.wrapCommand(function(e){var t=this.createRange(),n=t.insertNode(dom.createText(e));range.create(n,dom.nodeLength(n)).select()}),this.getSelectedText=function(){var e=this.createRange();return e.isOnAnchor()&&(e=range.createFromNode(dom.ancestor(e.sc,dom.isAnchor))),e.toString()},this.pasteHTML=this.wrapCommand(function(e){var t=this.createRange().pasteHTML(e);range.createFromNodeAfter(list.last(t)).select()}),this.formatBlock=this.wrapCommand(function(e){e=agent.isMSIE?"<"+e+">":e,document.execCommand("FormatBlock",!1,e)}),this.formatPara=function(){this.formatBlock("P")},e.memo("help.formatPara",o.help.formatPara);for(var g=1;g<=6;g++)this["formatH"+g]=function(e){return function(){this.formatBlock("H"+e)}}(g),e.memo("help.formatH"+g,o.help["formatH"+g]);this.fontSize=function(e){var t=this.createRange();if(t&&t.isCollapsed()){var n=f.styleNodes(t),r=list.head(n);$(n).css({"font-size":e+"px"}),r&&!dom.nodeLength(r)&&(r.innerHTML=dom.ZERO_WIDTH_NBSP_CHAR,range.createFromNodeAfter(r.firstChild).select(),i.data("bogus",r))}else d(),$(f.styleNodes(t)).css({"font-size":e+"px"}),v()},this.insertHorizontalRule=this.wrapCommand(function(){var e=this.createRange().insertNode(dom.create("HR"));e.nextSibling&&range.create(e.nextSibling,0).normalize().select()}),e.memo("help.insertHorizontalRule",o.help.insertHorizontalRule),this.removeBogus=function(){var e=i.data("bogus");if(e){var t=list.find(list.from(e.childNodes),dom.isText),n=t.nodeValue.indexOf(dom.ZERO_WIDTH_NBSP_CHAR);n!==-1&&t.deleteData(n,1),dom.isEmpty(e)&&dom.remove(e),i.removeData("bogus")}},this.lineHeight=this.wrapCommand(function(e){f.stylePara(this.createRange(),{lineHeight:e})}),this.unlink=function(){var e=this.createRange();if(e.isOnAnchor()){var t=dom.ancestor(e.sc,dom.isAnchor);e=range.createFromNode(t),e.select(),d(),document.execCommand("unlink"),v()}},this.createLink=this.wrapCommand(function(e){var t=e.url,n=e.text,r=e.isNewWindow,i=e.range||this.createRange(),o=i.toString()!==n;"string"==typeof t&&(t=t.trim()),t=s.onCreateLink?s.onCreateLink(t):/^[A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?/.test(t)?t:"http://"+t;var u=[];if(o){i=i.deleteContents();var a=i.insertNode($("<A>"+n+"</A>")[0]);u.push(a)}else u=f.styleNodes(i,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});$.each(u,function(e,n){$(n).attr("href",t),r?$(n).attr("target","_blank"):$(n).removeAttr("target")});var l=range.createFromNodeBefore(list.head(u)),c=l.getStartPoint(),h=range.createFromNodeAfter(list.last(u)),p=h.getEndPoint();range.create(c.node,c.offset,p.node,p.offset).select()}),this.getLinkInfo=function(){var e=this.createRange().expand(dom.isAnchor),t=$(list.head(e.nodes(dom.isAnchor)));return{range:e,text:e.toString(),isNewWindow:!!t.length&&"_blank"===t.attr("target"),url:t.length?t.attr("href"):""}},this.color=this.wrapCommand(function(e){var t=e.foreColor,n=e.backColor;t&&document.execCommand("foreColor",!1,t),n&&document.execCommand("backColor",!1,n)}),this.insertTable=this.wrapCommand(function(e){var t=e.split("x");this.createRange().deleteContents().insertNode(l.createTable(t[0],t[1],s))}),this.floatMe=this.wrapCommand(function(e){$(this.restoreTarget()).css("float",e)}),this.resize=this.wrapCommand(function(e){$(this.restoreTarget()).css({width:100*e+"%",height:""})}),this.resizeTo=function(e,t,n){var r;if(n){var i=e.y/e.x,s=t.data("ratio");r={width:s>i?e.x:e.y/s,height:s>i?e.x*s:e.y}}else r={width:e.x,height:e.y};t.css(r)},this.removeMedia=this.wrapCommand(function(){var t=$(this.restoreTarget()).detach();e.triggerEvent("media.delete",t,i)}),this.hasFocus=function(){return i.is(":focus")},this.focus=function(){this.hasFocus()||i.focus()},this.isEmpty=function(){return dom.isEmpty(i[0])||dom.emptyPara===i.html()},this.empty=function(){e.invoke("code",dom.emptyPara)}},Clipboard=function(e){var t=this,n=e.layoutInfo.editable;this.events={"summernote.keydown":function(n,r){t.needKeydownHook()&&(r.ctrlKey||r.metaKey)&&r.keyCode===key.code.V&&(e.invoke("editor.saveRange"),t.$paste.focus(),setTimeout(function(){t.pasteByHook()},0))}},this.needKeydownHook=function(){return agent.isMSIE&&agent.browserVersion>10||agent.isFF},this.initialize=function(){this.needKeydownHook()?(this.$paste=$('<div tabindex="-1" />').attr("contenteditable",!0).css({position:"absolute",left:-1e5,opacity:0}),n.before(this.$paste),this.$paste.on("paste",function(t){e.triggerEvent("paste",t)})):n.on("paste",this.pasteByEvent)},this.destroy=function(){this.needKeydownHook()&&(this.$paste.remove(),this.$paste=null)},this.pasteByHook=function(){var t=this.$paste[0].firstChild;if(dom.isImg(t)){for(var n=t.src,r=atob(n.split(",")[1]),i=new Uint8Array(r.length),s=0;s<r.length;s++)i[s]=r.charCodeAt(s);var o=new Blob([i],{type:"image/png"});o.name="clipboard.png",e.invoke("editor.restoreRange"),e.invoke("editor.focus"),e.invoke("editor.insertImagesOrCallback",[o])}else{var u=$("<div />").html(this.$paste.html()).html();e.invoke("editor.restoreRange"),e.invoke("editor.focus"),u&&e.invoke("editor.pasteHTML",u)}this.$paste.empty()},this.pasteByEvent=function(t){var n=t.originalEvent.clipboardData;if(n&&n.items&&n.items.length){var r=list.head(n.items);"file"===r.kind&&r.type.indexOf("image/")!==-1&&e.invoke("editor.insertImagesOrCallback",[r.getAsFile()]),e.invoke("editor.afterCommand")}}},Dropzone=function(e){var t=$(document),n=e.layoutInfo.editor,r=e.layoutInfo.editable,i=e.options,s=i.langInfo,o={},u=$(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(n),a=function(){Object.keys(o).forEach(function(e){t.off(e.substr(2).toLowerCase(),o[e])}),o={}};this.initialize=function(){i.disableDragAndDrop?(o.onDrop=function(e){e.preventDefault()},t.on("drop",o.onDrop)):this.attachDragAndDropEvent()},this.attachDragAndDropEvent=function(){var i=$(),a=u.find(".note-dropzone-message");o.onDragenter=function(t){var r=e.invoke("codeview.isActivated"),o=n.width()>0&&n.height()>0;r||i.length||!o||(n.addClass("dragover"),u.width(n.width()),u.height(n.height()),a.text(s.image.dragImageHere)),i=i.add(t.target)},o.onDragleave=function(e){i=i.not(e.target),i.length||n.removeClass("dragover")},o.onDrop=function(){i=$(),n.removeClass("dragover")},t.on("dragenter",o.onDragenter).on("dragleave",o.onDragleave).on("drop",o.onDrop),u.on("dragenter",function(){u.addClass("hover"),a.text(s.image.dropImage)}).on("dragleave",function(){u.removeClass("hover"),a.text(s.image.dragImageHere)}),u.on("drop",function(t){var n=t.originalEvent.dataTransfer;n&&n.files&&n.files.length?(t.preventDefault(),r.focus(),e.invoke("editor.insertImagesOrCallback",n.files)):$.each(n.types,function(t,r){var i=n.getData(r);r.toLowerCase().indexOf("text")>-1?e.invoke("editor.pasteHTML",i):$(i).each(function(){e.invoke("editor.insertNode",this)})})}).on("dragover",!1)},this.destroy=function(){a()}},CodeMirror;agent.hasCodeMirror&&(agent.isSupportAmd?require(["codemirror"],function(e){CodeMirror=e}):CodeMirror=window.CodeMirror);var Codeview=function(e){var t=e.layoutInfo.editor,n=e.layoutInfo.editable,r=e.layoutInfo.codable,i=e.options;this.sync=function(){this.isActivated()&&agent.hasCodeMirror&&r.data("cmEditor").save()},this.isActivated=function(){return t.hasClass("codeview")},this.toggle=function(){this.isActivated()?this.deactivate():this.activate(),e.triggerEvent("codeview.toggled")},this.activate=function(){if(r.val(dom.html(n,i.prettifyHtml)),r.height(n.height()),e.invoke("toolbar.updateCodeview",!0),t.addClass("codeview"),r.focus(),agent.hasCodeMirror){var s=CodeMirror.fromTextArea(r[0],i.codemirror);if(i.codemirror.tern){var o=new CodeMirror.TernServer(i.codemirror.tern);s.ternServer=o,s.on("cursorActivity",function(e){o.updateArgHints(e)})}s.setSize(null,n.outerHeight()),r.data("cmEditor",s)}},this.deactivate=function(){if(agent.hasCodeMirror){var s=r.data("cmEditor");r.val(s.getValue()),s.toTextArea()}var o=dom.value(r,i.prettifyHtml)||dom.emptyPara,u=n.html()!==o;n.html(o),n.height(i.height?r.height():"auto"),t.removeClass("codeview"),u&&e.triggerEvent("change",n.html(),n),n.focus(),e.invoke("toolbar.updateCodeview",!1)},this.destroy=function(){this.isActivated()&&this.deactivate()}},EDITABLE_PADDING=24,Statusbar=function(e){var t=$(document),n=e.layoutInfo.statusbar,r=e.layoutInfo.editable,i=e.options;this.initialize=function(){if(i.airMode||i.disableResizeEditor)return void this.destroy();n.on("mousedown",function(e){e.preventDefault(),e.stopPropagation();var n=r.offset().top-t.scrollTop();t.on("mousemove",function(e){var t=e.clientY-(n+24);t=i.minheight>0?Math.max(t,i.minheight):t,t=i.maxHeight>0?Math.min(t,i.maxHeight):t,r.height(t)}).one("mouseup",function(){t.off("mousemove")})})},this.destroy=function(){n.off(),n.remove()}},Fullscreen=function(e){var t=e.layoutInfo.editor,n=e.layoutInfo.toolbar,r=e.layoutInfo.editable,i=e.layoutInfo.codable,s=$(window),o=$("html, body");this.toggle=function(){var u=function(e){r.css("height",e.h),i.css("height",e.h),i.data("cmeditor")&&i.data("cmeditor").setsize(null,e.h)};t.toggleClass("fullscreen"),this.isFullscreen()?(r.data("orgHeight",r.css("height")),s.on("resize",function(){u({h:s.height()-n.outerHeight()})}).trigger("resize"),o.css("overflow","hidden")):(s.off("resize"),u({h:r.data("orgHeight")}),o.css("overflow","visible")),e.invoke("toolbar.updateFullscreen",this.isFullscreen())},this.isFullscreen=function(){return t.hasClass("fullscreen")}},Handle=function(e){var t=this,n=$(document),r=e.layoutInfo.editingArea,i=e.options;this.events={"summernote.mousedown":function(e,n){t.update(n.target)&&n.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){t.update()}},this.initialize=function(){this.$handle=$(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',i.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',i.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(r),this.$handle.on("mousedown",function(r){if(dom.isControlSizing(r.target)){r.preventDefault(),r.stopPropagation();var i=t.$handle.find(".note-control-selection").data("target"),s=i.offset(),o=n.scrollTop();n.on("mousemove",function(n){e.invoke("editor.resizeTo",{x:n.clientX-s.left,y:n.clientY-(s.top-o)},i,!n.shiftKey),t.update(i[0])}).one("mouseup",function(t){t.preventDefault(),n.off("mousemove"),e.invoke("editor.afterCommand")}),i.data("ratio")||i.data("ratio",i.height()/i.width())}})},this.destroy=function(){this.$handle.remove()},this.update=function(t){var n=dom.isImg(t),r=this.$handle.find(".note-control-selection");if(e.invoke("imagePopover.update",t),n){var i=$(t),s=i.position(),o={w:i.outerWidth(!0),h:i.outerHeight(!0)};r.css({display:"block",left:s.left,top:s.top,width:o.w,height:o.h}).data("target",i);var u=o.w+"x"+o.h;r.find(".note-control-selection-info").text(u),e.invoke("editor.saveTarget",t)}else this.hide();return n},this.hide=function(){e.invoke("editor.clearTarget"),this.$handle.children().hide()}},AutoLink=function(e){var t=this;this.events={"summernote.keyup":function(e,n){n.isDefaultPrevented()||t.handleKeyup(n)},"summernote.keydown":function(e,n){t.handleKeydown(n)}},this.initialize=function(){this.lastWordRange=null},this.destroy=function(){this.lastWordRange=null},this.replace=function(){if(this.lastWordRange){var t=this.lastWordRange.toString(),n=t.match(/^([A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i);if(n&&(n[1]||n[2])){var r=n[1]?t:"http://"+t,i=$("<a />").html(t).attr("href",r)[0];this.lastWordRange.insertNode(i),this.lastWordRange=null,e.invoke("editor.focus")}}},this.handleKeydown=function(t){if(list.contains([key.code.ENTER,key.code.SPACE],t.keyCode)){var n=e.invoke("editor.createRange").getWordRange();this.lastWordRange=n}},this.handleKeyup=function(e){list.contains([key.code.ENTER,key.code.SPACE],e.keyCode)&&this.replace()}},AutoSync=function(e){var t=e.layoutInfo.note;this.events={"summernote.change":function(){t.val(e.invoke("code"))}},this.shouldInitialize=function(){return dom.isTextarea(t[0])}},Placeholder=function(e){var t=this,n=e.layoutInfo.editingArea,r=e.options;this.events={"summernote.init summernote.change":function(){t.update()},"summernote.codeview.toggled":function(){t.update()}},this.shouldInitialize=function(){return!!r.placeholder},this.initialize=function(){this.$placeholder=$('<div class="note-placeholder">'),this.$placeholder.on("click",function(){e.invoke("focus")}).text(r.placeholder).prependTo(n)},this.destroy=function(){this.$placeholder.remove()},this.update=function(){var t=!e.invoke("codeview.isActivated")&&e.invoke("editor.isEmpty");this.$placeholder.toggle(t)}},Buttons=function(e){var t=this,n=$.summernote.ui,r=e.layoutInfo.toolbar,i=e.options,s=i.langInfo,o=func.invertObject(i.keyMap[agent.isMac?"mac":"pc"]),u=this.representShortcut=function(e){var t=o[e];return i.shortcuts&&t?(agent.isMac&&(t=t.replace("CMD","â").replace("SHIFT","â§"))," ("+(t=t.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]"))+")"):""};this.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.fontInstalledMap={}},this.destroy=function(){delete this.fontInstalledMap},this.isFontInstalled=function(e){return t.fontInstalledMap.hasOwnProperty(e)||(t.fontInstalledMap[e]=agent.isFontInstalled(e)||list.contains(i.fontNamesIgnoreCheck,e)),t.fontInstalledMap[e]},this.addToolbarButtons=function(){e.memo("button.style",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:n.icon(i.icons.magic)+" "+n.icon(i.icons.caret,"span"),tooltip:s.style.style,data:{toggle:"dropdown"}}),n.dropdown({className:"dropdown-style",items:e.options.styleTags,template:function(e){"string"==typeof e&&(e={tag:e,title:s.style.hasOwnProperty(e)?s.style[e]:e});var t=e.tag,n=e.title;return"<"+t+(e.style?' style="'+e.style+'" ':"")+(e.className?' class="'+e.className+'"':"")+">"+n+"</"+t+">"},click:e.createInvokeHandler("editor.formatBlock")})]).render()}),e.memo("button.bold",function(){return n.button({className:"note-btn-bold",contents:n.icon(i.icons.bold),tooltip:s.font.bold+u("bold"),click:e.createInvokeHandler("editor.bold")}).render()}),e.memo("button.italic",function(){return n.button({className:"note-btn-italic",contents:n.icon(i.icons.italic),tooltip:s.font.italic+u("italic"),click:e.createInvokeHandler("editor.italic")}).render()}),e.memo("button.underline",function(){return n.button({className:"note-btn-underline",contents:n.icon(i.icons.underline),tooltip:s.font.underline+u("underline"),click:e.createInvokeHandler("editor.underline")}).render()}),e.memo("button.clear",function(){return n.button({contents:n.icon(i.icons.eraser),tooltip:s.font.clear+u("removeFormat"),click:e.createInvokeHandler("editor.removeFormat")}).render()}),e.memo("button.strikethrough",function(){return n.button({className:"note-btn-strikethrough",contents:n.icon(i.icons.strikethrough),tooltip:s.font.strikethrough+u("strikethrough"),click:e.createInvokeHandler("editor.strikethrough")}).render()}),e.memo("button.superscript",function(){return n.button({className:"note-btn-superscript",contents:n.icon(i.icons.superscript),tooltip:s.font.superscript,click:e.createInvokeHandler("editor.superscript")}).render()}),e.memo("button.subscript",function(){return n.button({className:"note-btn-subscript",contents:n.icon(i.icons.subscript),tooltip:s.font.subscript,click:e.createInvokeHandler("editor.subscript")}).render()}),e.memo("button.fontname",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:'<span class="note-current-fontname"/> '+n.icon(i.icons.caret,"span"),tooltip:s.font.name,data:{toggle:"dropdown"}}),n.dropdownCheck({className:"dropdown-fontname",checkClassName:i.icons.menuCheck,items:i.fontNames.filter(t.isFontInstalled),template:function(e){return'<span style="font-family:'+e+'">'+e+"</span>"},click:e.createInvokeHandler("editor.fontName")})]).render()}),e.memo("button.fontsize",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:'<span class="note-current-fontsize"/>'+n.icon(i.icons.caret,"span"),tooltip:s.font.size,data:{toggle:"dropdown"}}),n.dropdownCheck({className:"dropdown-fontsize",checkClassName:i.icons.menuCheck,items:i.fontSizes,click:e.createInvokeHandler("editor.fontSize")})]).render()}),e.memo("button.color",function(){return n.buttonGroup({className:"note-color",children:[n.button({className:"note-current-color-button",contents:n.icon(i.icons.font+" note-recent-color"),tooltip:s.color.recent,click:function(t){var n=$(t.currentTarget);e.invoke("editor.color",{backColor:n.attr("data-backColor"),foreColor:n.attr("data-foreColor")})},callback:function(e){e.find(".note-recent-color").css("background-color","#FFFF00"),e.attr("data-backColor","#FFFF00")}}),n.button({className:"dropdown-toggle",contents:n.icon(i.icons.caret,"span"),tooltip:s.color.more,data:{toggle:"dropdown"}}),n.dropdown({items:["<li>",'<div class="btn-group">','  <div class="note-palette-title">'+s.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-default" data-event="backColor" data-value="inherit">',s.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"</div>",'<div class="btn-group">','  <div class="note-palette-title">'+s.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-default" data-event="removeFormat" data-value="foreColor">',s.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"</div>","</li>"].join(""),callback:function(e){e.find(".note-holder").each(function(){var e=$(this);e.append(n.palette({colors:i.colors,eventName:e.data("event")}).render())})},click:function(t){var n=$(t.target),r=n.data("event"),i=n.data("value");if(r&&i){var s="backColor"===r?"background-color":"color",o=n.closest(".note-color").find(".note-recent-color"),u=n.closest(".note-color").find(".note-current-color-button");o.css(s,i),u.attr("data-"+r,i),e.invoke("editor."+r,i)}}})]}).render()}),e.memo("button.ul",function(){return n.button({contents:n.icon(i.icons.unorderedlist),tooltip:s.lists.unordered+u("insertUnorderedList"),click:e.createInvokeHandler("editor.insertUnorderedList")}).render()}),e.memo("button.ol",function(){return n.button({contents:n.icon(i.icons.orderedlist),tooltip:s.lists.ordered+u("insertOrderedList"),click:e.createInvokeHandler("editor.insertOrderedList")}).render()});var r=n.button({contents:n.icon(i.icons.alignLeft),tooltip:s.paragraph.left+u("justifyLeft"),click:e.createInvokeHandler("editor.justifyLeft")}),o=n.button({contents:n.icon(i.icons.alignCenter),tooltip:s.paragraph.center+u("justifyCenter"),click:e.createInvokeHandler("editor.justifyCenter")}),l=n.button({contents:n.icon(i.icons.alignRight),tooltip:s.paragraph.right+u("justifyRight"),click:e.createInvokeHandler("editor.justifyRight")}),p=n.button({contents:n.icon(i.icons.alignJustify),tooltip:s.paragraph.justify+u("justifyFull"),click:e.createInvokeHandler("editor.justifyFull")}),d=n.button({contents:n.icon(i.icons.outdent),tooltip:s.paragraph.outdent+u("outdent"),click:e.createInvokeHandler("editor.outdent")}),v=n.button({contents:n.icon(i.icons.indent),tooltip:s.paragraph.indent+u("indent"),click:e.createInvokeHandler("editor.indent")});e.memo("button.justifyLeft",func.invoke(r,"render")),e.memo("button.justifyCenter",func.invoke(o,"render")),e.memo("button.justifyRight",func.invoke(l,"render")),e.memo("button.justifyFull",func.invoke(p,"render")),e.memo("button.outdent",func.invoke(d,"render")),e.memo("button.indent",func.invoke(v,"render")),e.memo("button.paragraph",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:n.icon(i.icons.alignLeft)+" "+n.icon(i.icons.caret,"span"),tooltip:s.paragraph.paragraph,data:{toggle:"dropdown"}}),n.dropdown([n.buttonGroup({className:"note-align",children:[r,o,l,p]}),n.buttonGroup({className:"note-list",children:[d,v]})])]).render()}),e.memo("button.height",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:n.icon(i.icons.textHeight)+" "+n.icon(i.icons.caret,"span"),tooltip:s.font.height,data:{toggle:"dropdown"}}),n.dropdownCheck({items:i.lineHeights,checkClassName:i.icons.menuCheck,className:"dropdown-line-height",click:e.createInvokeHandler("editor.lineHeight")})]).render()}),e.memo("button.table",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:n.icon(i.icons.table)+" "+n.icon(i.icons.caret,"span"),tooltip:s.table.table,data:{toggle:"dropdown"}}),n.dropdown({className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(n){n.find(".note-dimension-picker-mousecatcher").css({width:i.insertTableMaxSize.col+"em",height:i.insertTableMaxSize.row+"em"}).mousedown(e.createInvokeHandler("editor.insertTable")).on("mousemove",t.tableMoveHandler)}}).render()}),e.memo("button.link",function(){return n.button({contents:n.icon(i.icons.link),tooltip:s.link.link+u("linkDialog.show"),click:e.createInvokeHandler("linkDialog.show")}).render()}),e.memo("button.picture",function(){return n.button({contents:n.icon(i.icons.picture),tooltip:s.image.image,click:e.createInvokeHandler("imageDialog.show")}).render()}),e.memo("button.video",function(){return n.button({contents:n.icon(i.icons.video),tooltip:s.video.video,click:e.createInvokeHandler("videoDialog.show")}).render()}),e.memo("button.hr",function(){return n.button({contents:n.icon(i.icons.minus),tooltip:s.hr.insert+u("insertHorizontalRule"),click:e.createInvokeHandler("editor.insertHorizontalRule")}).render()}),e.memo("button.fullscreen",function(){return n.button({className:"btn-fullscreen",contents:n.icon(i.icons.arrowsAlt),tooltip:s.options.fullscreen,click:e.createInvokeHandler("fullscreen.toggle")}).render()}),e.memo("button.codeview",function(){return n.button({className:"btn-codeview",contents:n.icon(i.icons.code),tooltip:s.options.codeview,click:e.createInvokeHandler("codeview.toggle")}).render()}),e.memo("button.redo",function(){return n.button({contents:n.icon(i.icons.redo),tooltip:s.history.redo+u("redo"),click:e.createInvokeHandler("editor.redo")}).render()}),e.memo("button.undo",function(){return n.button({contents:n.icon(i.icons.undo),tooltip:s.history.undo+u("undo"),click:e.createInvokeHandler("editor.undo")}).render()}),e.memo("button.help",function(){return n.button({contents:n.icon(i.icons.question),tooltip:s.options.help,click:e.createInvokeHandler("helpDialog.show")}).render()})},this.addImagePopoverButtons=function(){e.memo("button.imageSize100",function(){return n.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:s.image.resizeFull,click:e.createInvokeHandler("editor.resize","1")}).render()}),e.memo("button.imageSize50",function(){return n.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:s.image.resizeHalf,click:e.createInvokeHandler("editor.resize","0.5")}).render()}),e.memo("button.imageSize25",function(){return n.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:s.image.resizeQuarter,click:e.createInvokeHandler("editor.resize","0.25")}).render()}),e.memo("button.floatLeft",function(){return n.button({contents:n.icon(i.icons.alignLeft),tooltip:s.image.floatLeft,click:e.createInvokeHandler("editor.floatMe","left")}).render()}),e.memo("button.floatRight",function(){return n.button({contents:n.icon(i.icons.alignRight),tooltip:s.image.floatRight,click:e.createInvokeHandler("editor.floatMe","right")}).render()}),e.memo("button.floatNone",function(){return n.button({contents:n.icon(i.icons.alignJustify),tooltip:s.image.floatNone,click:e.createInvokeHandler("editor.floatMe","none")}).render()}),e.memo("button.removeMedia",function(){return n.button({contents:n.icon(i.icons.trash),tooltip:s.image.remove,click:e.createInvokeHandler("editor.removeMedia")}).render()})},this.addLinkPopoverButtons=function(){e.memo("button.linkDialogShow",function(){return n.button({contents:n.icon(i.icons.link),tooltip:s.link.edit,click:e.createInvokeHandler("linkDialog.show")}).render()}),e.memo("button.unlink",function(){return n.button({contents:n.icon(i.icons.unlink),tooltip:s.link.unlink,click:e.createInvokeHandler("editor.unlink")}).render()})},this.build=function(t,r){for(var i=0,s=r.length;i<s;i++){for(var o=r[i],u=o[0],f=o[1],l=n.buttonGroup({className:"note-"+u}).render(),h=0,p=f.length;h<p;h++){var d=e.memo("button."+f[h]);d&&l.append("function"==typeof d?d(e):d)}l.appendTo(t)}},this.updateCurrentStyle=function(){var n=e.invoke("editor.currentStyle");if(this.updateBtnStates({".note-btn-bold":function(){return"bold"===n["font-bold"]},".note-btn-italic":function(){return"italic"===n["font-italic"]},".note-btn-underline":function(){return"underline"===n["font-underline"]},".note-btn-subscript":function(){return"subscript"===n["font-subscript"]},".note-btn-superscript":function(){return"superscript"===n["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===n["font-strikethrough"]}}),n["font-family"]){var i=n["font-family"].split(",").map(function(e){return e.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),s=list.find(i,t.isFontInstalled);r.find(".dropdown-fontname li a").each(function(){var e=$(this).data("value")+""==s+"";this.className=e?"checked":""}),r.find(".note-current-fontname").text(s)}if(n["font-size"]){var o=n["font-size"];r.find(".dropdown-fontsize li a").each(function(){var e=$(this).data("value")+""==o+"";this.className=e?"checked":""}),r.find(".note-current-fontsize").text(o)}if(n["line-height"]){var u=n["line-height"];r.find(".dropdown-line-height li a").each(function(){var e=$(this).data("value")+""==u+"";this.className=e?"checked":""})}},this.updateBtnStates=function(e){$.each(e,function(e,t){n.toggleBtnActive(r.find(e),t())})},this.tableMoveHandler=function(e){var t,n=$(e.target.parentNode),r=n.next(),s=n.find(".note-dimension-picker-mousecatcher"),o=n.find(".note-dimension-picker-highlighted"),u=n.find(".note-dimension-picker-unhighlighted");if(void 0===e.offsetX){var a=$(e.target).offset();t={x:e.pageX-a.left,y:e.pageY-a.top}}else t={x:e.offsetX,y:e.offsetY};var f={c:Math.ceil(t.x/18)||1,r:Math.ceil(t.y/18)||1};o.css({width:f.c+"em",height:f.r+"em"}),s.data("value",f.c+"x"+f.r),3<f.c&&f.c<i.insertTableMaxSize.col&&u.css({width:f.c+1+"em"}),3<f.r&&f.r<i.insertTableMaxSize.row&&u.css({height:f.r+1+"em"}),r.html(f.c+" x "+f.r)}},Toolbar=function(e){var t=$.summernote.ui,n=e.layoutInfo.note,r=e.layoutInfo.toolbar,i=e.options;this.shouldInitialize=function(){return!i.airMode},this.initialize=function(){i.toolbar=i.toolbar||[],i.toolbar.length?e.invoke("buttons.build",r,i.toolbar):r.hide(),i.toolbarContainer&&r.appendTo(i.toolbarContainer),n.on("summernote.keyup summernote.mouseup summernote.change",function(){e.invoke("buttons.updateCurrentStyle")}),e.invoke("buttons.updateCurrentStyle")},this.destroy=function(){r.children().remove()},this.updateFullscreen=function(e){t.toggleBtnActive(r.find(".btn-fullscreen"),e)},this.updateCodeview=function(e){t.toggleBtnActive(r.find(".btn-codeview"),e),e?this.deactivate():this.activate()},this.activate=function(e){var n=r.find("button");e||(n=n.not(".btn-codeview")),t.toggleBtn(n,!0)},this.deactivate=function(e){var n=r.find("button");e||(n=n.not(".btn-codeview")),t.toggleBtn(n,!1)}},LinkDialog=function(e){var t=this,n=$.summernote.ui,r=e.layoutInfo.editor,i=e.options,s=i.langInfo;this.initialize=function(){var e=i.dialogsInBody?$(document.body):r,t='<div class="form-group"><label>'+s.link.textToDisplay+'</label><input class="note-link-text form-control" type="text" /></div><div class="form-group"><label>'+s.link.url+'</label><input class="note-link-url form-control" type="text" value="http://" /></div>'+(i.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+s.link.openInNewWindow+"</label></div>"),o='<button href="#" class="btn btn-primary note-link-btn disabled" disabled>'+s.link.insert+"</button>";this.$dialog=n.dialog({className:"link-dialog",title:s.link.insert,fade:i.dialogsFade,body:t,footer:o}).render().appendTo(e)},this.destroy=function(){n.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===key.code.ENTER&&t.trigger("click")})},this.toggleLinkBtn=function(e,t,r){n.toggleBtn(e,t.val()&&r.val())},this.showLinkDialog=function(r){return $.Deferred(function(i){var s=t.$dialog.find(".note-link-text"),o=t.$dialog.find(".note-link-url"),u=t.$dialog.find(".note-link-btn"),f=t.$dialog.find("input[type=checkbox]");n.onDialogShown(t.$dialog,function(){e.triggerEvent("dialog.shown"),r.url||(r.url=r.text),s.val(r.text);var n=function(){t.toggleLinkBtn(u,s,o),r.text=s.val()};s.on("input",n).on("paste",function(){setTimeout(n,0)});var l=function(){t.toggleLinkBtn(u,s,o),r.text||s.val(o.val())};o.on("input",l).on("paste",function(){setTimeout(l,0)}).val(r.url).trigger("focus"),t.toggleLinkBtn(u,s,o),t.bindEnterKey(o,u),t.bindEnterKey(s,u),f.prop("checked",r.isNewWindow),u.one("click",function(e){e.preventDefault(),i.resolve({range:r.range,url:o.val(),text:s.val(),isNewWindow:f.is(":checked")}),t.$dialog.modal("hide")})}),n.onDialogHidden(t.$dialog,function(){s.off("input paste keypress"),o.off("input paste keypress"),u.off("click"),"pending"===i.state()&&i.reject()}),n.showDialog(t.$dialog)}).promise()},this.show=function(){var t=e.invoke("editor.getLinkInfo");e.invoke("editor.saveRange"),this.showLinkDialog(t).then(function(t){e.invoke("editor.restoreRange"),e.invoke("editor.createLink",t)}).fail(function(){e.invoke("editor.restoreRange")})},e.memo("help.linkDialog.show",i.langInfo.help["linkDialog.show"])},LinkPopover=function(e){var t=this,n=$.summernote.ui,r=e.options;this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){t.update()},"summernote.dialog.shown":function(){t.hide()}},this.shouldInitialize=function(){return!list.isEmpty(r.popover.link)},this.initialize=function(){this.$popover=n.popover({className:"note-link-popover",callback:function(e){e.find(".popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo("body");var t=this.$popover.find(".popover-content");e.invoke("buttons.build",t,r.popover.link)},this.destroy=function(){this.$popover.remove()},this.update=function(){if(!e.invoke("editor.hasFocus"))return void this.hide();var t=e.invoke("editor.createRange");if(t.isCollapsed()&&t.isOnAnchor()){var n=dom.ancestor(t.sc,dom.isAnchor),r=$(n).attr("href");this.$popover.find("a").attr("href",r).html(r);var i=dom.posFromPlaceholder(n);this.$popover.css({display:"block",left:i.left,top:i.top})}else this.hide()},this.hide=function(){this.$popover.hide()}},ImageDialog=function(e){var t=this,n=$.summernote.ui,r=e.layoutInfo.editor,i=e.options,s=i.langInfo;this.initialize=function(){var e=i.dialogsInBody?$(document.body):r,t="";if(i.maximumImageFileSize){var o=Math.floor(Math.log(i.maximumImageFileSize)/Math.log(1024)),u=1*(i.maximumImageFileSize/Math.pow(1024,o)).toFixed(2)+" "+" KMGTP"[o]+"B";t="<small>"+s.image.maximumFileSize+" : "+u+"</small>"}var a='<div class="form-group note-group-select-from-files"><label>'+s.image.selectFromFiles+'</label><input class="note-image-input form-control" type="file" name="files" accept="image/*" multiple="multiple" />'+t+'</div><div class="form-group note-group-image-url" style="overflow:auto;"><label>'+s.image.url+'</label><input class="note-image-url form-control col-md-12" type="text" /></div>',l='<button href="#" class="btn btn-primary note-image-btn disabled" disabled>'+s.image.insert+"</button>";this.$dialog=n.dialog({title:s.image.insert,fade:i.dialogsFade,body:a,footer:l}).render().appendTo(e)},this.destroy=function(){n.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===key.code.ENTER&&t.trigger("click")})},this.show=function(){e.invoke("editor.saveRange"),this.showImageDialog().then(function(r){n.hideDialog(t.$dialog),e.invoke("editor.restoreRange"),"string"==typeof r?e.invoke("editor.insertImage",r):e.invoke("editor.insertImagesOrCallback",r)}).fail(function(){e.invoke("editor.restoreRange")})},this.showImageDialog=function(){return $.Deferred(function(r){var i=t.$dialog.find(".note-image-input"),s=t.$dialog.find(".note-image-url"),o=t.$dialog.find(".note-image-btn");n.onDialogShown(t.$dialog,function(){e.triggerEvent("dialog.shown"),i.replaceWith(i.clone().on("change",function(){r.resolve(this.files||this.value)}).val("")),o.click(function(e){e.preventDefault(),r.resolve(s.val())}),s.on("keyup paste",function(){var e=s.val();n.toggleBtn(o,e)}).val("").trigger("focus"),t.bindEnterKey(s,o)}),n.onDialogHidden(t.$dialog,function(){i.off("change"),s.off("keyup paste keypress"),o.off("click"),"pending"===r.state()&&r.reject()}),n.showDialog(t.$dialog)})}},ImagePopover=function(e){var t=$.summernote.ui,n=e.options;this.shouldInitialize=function(){return!list.isEmpty(n.popover.image)},this.initialize=function(){this.$popover=t.popover({className:"note-image-popover"}).render().appendTo("body");var r=this.$popover.find(".popover-content");e.invoke("buttons.build",r,n.popover.image)},this.destroy=function(){this.$popover.remove()},this.update=function(e){if(dom.isImg(e)){var t=dom.posFromPlaceholder(e);this.$popover.css({display:"block",left:t.left,top:t.top})}else this.hide()},this.hide=function(){this.$popover.hide()}},VideoDialog=function(e){var t=this,n=$.summernote.ui,r=e.layoutInfo.editor,i=e.options,s=i.langInfo;this.initialize=function(){var e=i.dialogsInBody?$(document.body):r,t='<div class="form-group row-fluid"><label>'+s.video.url+' <small class="text-muted">'+s.video.providers+'</small></label><input class="note-video-url form-control span12" type="text" /></div>',o='<button href="#" class="btn btn-primary note-video-btn disabled" disabled>'+s.video.insert+"</button>";this.$dialog=n.dialog({title:s.video.insert,fade:i.dialogsFade,body:t,footer:o}).render().appendTo(e)},this.destroy=function(){n.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===key.code.ENTER&&t.trigger("click")})},this.createVideoNode=function(e){var t,n=e.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/),r=e.match(/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/),i=e.match(/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/),s=e.match(/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/),o=e.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/),u=e.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),a=e.match(/^.+.(mp4|m4v)$/),f=e.match(/^.+.(ogg|ogv)$/),l=e.match(/^.+.(webm)$/);if(n&&11===n[1].length){var c=n[1];t=$("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+c).attr("width","640").attr("height","360")}else if(r&&r[0].length)t=$("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+r[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(i&&i[0].length)t=$("<iframe>").attr("frameborder",0).attr("src",i[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(s&&s[3].length)t=$("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+s[3]).attr("width","640").attr("height","360");else if(o&&o[2].length)t=$("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+o[2]).attr("width","640").attr("height","360");else if(u&&u[1].length)t=$("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+u[1]);else{if(!(a||f||l))return!1;t=$("<video controls>").attr("src",e).attr("width","640").attr("height","360")}return t.addClass("note-video-clip"),t[0]},this.show=function(){var r=e.invoke("editor.getSelectedText");e.invoke("editor.saveRange"),this.showVideoDialog(r).then(function(r){n.hideDialog(t.$dialog),e.invoke("editor.restoreRange");var i=t.createVideoNode(r);i&&e.invoke("editor.insertNode",i)}).fail(function(){e.invoke("editor.restoreRange")})},this.showVideoDialog=function(r){return $.Deferred(function(i){var s=t.$dialog.find(".note-video-url"),o=t.$dialog.find(".note-video-btn");n.onDialogShown(t.$dialog,function(){e.triggerEvent("dialog.shown"),s.val(r).on("input",function(){n.toggleBtn(o,s.val())}).trigger("focus"),o.click(function(e){e.preventDefault(),i.resolve(s.val())}),t.bindEnterKey(s,o)}),n.onDialogHidden(t.$dialog,function(){s.off("input"),o.off("click"),"pending"===i.state()&&i.reject()}),n.showDialog(t.$dialog)})}},HelpDialog=function(e){var t=this,n=$.summernote.ui,r=e.layoutInfo.editor,i=e.options,s=i.langInfo;this.createShortCutList=function(){var t=i.keyMap[agent.isMac?"mac":"pc"];return Object.keys(t).map(function(n){var r=t[n],i=$('<div><div class="help-list-item"/></div>');return i.append($("<label><kbd>"+n+"</kdb></label>").css({width:180,"margin-right":10})).append($("<span/>").html(e.memo("help."+r)||r)),i.html()}).join("")},this.initialize=function(){var e=i.dialogsInBody?$(document.body):r,t=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.3</a> Â· ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> Â· ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=n.dialog({title:s.options.help,fade:i.dialogsFade,body:this.createShortCutList(),footer:t,callback:function(e){e.find(".modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(e)},this.destroy=function(){n.hideDialog(this.$dialog),this.$dialog.remove()},this.showHelpDialog=function(){return $.Deferred(function(r){n.onDialogShown(t.$dialog,function(){e.triggerEvent("dialog.shown"),r.resolve()}),n.showDialog(t.$dialog)}).promise()},this.show=function(){e.invoke("editor.saveRange"),this.showHelpDialog().then(function(){e.invoke("editor.restoreRange")})}},AirPopover=function(e){var t=this,n=$.summernote.ui,r=e.options;this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){t.update()},"summernote.change summernote.dialog.shown":function(){t.hide()},"summernote.focusout":function(e,n){agent.isFF||n.relatedTarget&&dom.ancestor(n.relatedTarget,func.eq(t.$popover[0]))||t.hide()}},this.shouldInitialize=function(){return r.airMode&&!list.isEmpty(r.popover.air)},this.initialize=function(){this.$popover=n.popover({className:"note-air-popover"}).render().appendTo("body");var t=this.$popover.find(".popover-content");e.invoke("buttons.build",t,r.popover.air)},this.destroy=function(){this.$popover.remove()},this.update=function(){var t=e.invoke("editor.currentStyle");if(t.range&&!t.range.isCollapsed()){var n=list.last(t.range.getClientRects());if(n){var r=func.rect2bnd(n);this.$popover.css({display:"block",left:Math.max(r.left+r.width/2,0)-20,top:r.top+r.height})}}else this.hide()},this.hide=function(){this.$popover.hide()}},HintPopover=function(e){var t=this,n=$.summernote.ui,r=e.options.hint||[],i=e.options.hintDirection||"bottom",s=$.isArray(r)?r:[r];this.events={"summernote.keyup":function(e,n){n.isDefaultPrevented()||t.handleKeyup(n)},"summernote.keydown":function(e,n){t.handleKeydown(n)},"summernote.dialog.shown":function(){t.hide()}},this.shouldInitialize=function(){return s.length>0},this.initialize=function(){this.lastWordRange=null,this.$popover=n.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo("body"),this.$popover.hide(),this.$content=this.$popover.find(".popover-content"),this.$content.on("click",".note-hint-item",function(){t.$content.find(".active").removeClass("active"),$(this).addClass("active"),t.replace()})},this.destroy=function(){this.$popover.remove()},this.selectItem=function(e){this.$content.find(".active").removeClass("active"),e.addClass("active"),this.$content[0].scrollTop=e[0].offsetTop-this.$content.innerHeight()/2},this.moveDown=function(){var e=this.$content.find(".note-hint-item.active"),t=e.next();if(t.length)this.selectItem(t);else{var n=e.parent().next();n.length||(n=this.$content.find(".note-hint-group").first()),this.selectItem(n.find(".note-hint-item").first())}},this.moveUp=function(){var e=this.$content.find(".note-hint-item.active"),t=e.prev();if(t.length)this.selectItem(t);else{var n=e.parent().prev();n.length||(n=this.$content.find(".note-hint-group").last()),this.selectItem(n.find(".note-hint-item").last())}},this.replace=function(){var t=this.$content.find(".note-hint-item.active");if(t.length){var n=this.nodeFromItem(t);this.lastWordRange.insertNode(n),range.createFromNode(n).collapse().select(),this.lastWordRange=null,this.hide(),e.invoke("editor.focus")}},this.nodeFromItem=function(e){var t=s[e.data("index")],n=e.data("item"),r=t.content?t.content(n):n;return"string"==typeof r&&(r=dom.createText(r)),r},this.createItemTemplates=function(e,t){var n=s[e];return t.map(function(t,r){var i=$('<div class="note-hint-item"/>');return i.append(n.template?n.template(t):t+""),i.data({index:e,item:t}),0===e&&0===r&&i.addClass("active"),i})},this.handleKeydown=function(e){this.$popover.is(":visible")&&(e.keyCode===key.code.ENTER?(e.preventDefault(),this.replace()):e.keyCode===key.code.UP?(e.preventDefault(),this.moveUp()):e.keyCode===key.code.DOWN&&(e.preventDefault(),this.moveDown()))},this.searchKeyword=function(e,t,n){var r=s[e];if(r&&r.match.test(t)&&r.search){var i=r.match.exec(t);r.search(i[1],n)}else n()},this.createGroup=function(e,n){var r=$('<div class="note-hint-group note-hint-group-'+e+'"/>');return this.searchKeyword(e,n,function(n){n=n||[],n.length&&(r.html(t.createItemTemplates(e,n)),t.show())}),r},this.handleKeyup=function(n){if(list.contains([key.code.ENTER,key.code.UP,key.code.DOWN],n.keyCode)){if(n.keyCode===key.code.ENTER&&this.$popover.is(":visible"))return}else{var r=e.invoke("editor.createRange").getWordRange(),o=r.toString();if(s.length&&o){this.$content.empty();var u=func.rect2bnd(list.last(r.getClientRects()));u&&(this.$popover.hide(),this.lastWordRange=r,s.forEach(function(e,n){e.match.test(o)&&t.createGroup(n,o).appendTo(t.$content)}),"top"===i?this.$popover.css({left:u.left,top:u.top-this.$popover.outerHeight()-5}):this.$popover.css({left:u.left,top:u.top+u.height+5}))}else this.hide()}},this.show=function(){this.$popover.show()},this.hide=function(){this.$popover.hide()}};$.summernote=$.extend($.summernote,{version:"0.8.3",ui:ui,dom:dom,plugins:{},options:{modules:{editor:Editor,clipboard:Clipboard,dropzone:Dropzone,codeview:Codeview,statusbar:Statusbar,fullscreen:Fullscreen,handle:Handle,hintPopover:HintPopover,autoLink:AutoLink,autoSync:AutoSync,placeholder:Placeholder,buttons:Buttons,toolbar:Toolbar,linkDialog:LinkDialog,linkPopover:LinkPopover,imageDialog:ImageDialog,imagePopover:ImagePopover,videoDialog:VideoDialog,helpDialog:HelpDialog,airPopover:AirPopover},buttons:{},lang:"en-US",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popover:{image:[["imagesize",["imageSize100","imageSize50","imageSize25"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,direction:null,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onInit:null,onFocus:null,onBlur:null,onEnter:null,onKeyup:null,onKeydown:null,onImageUpload:null,onImageUploadError:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}})});var CryptoJS=CryptoJS||function(e,t){var n={},r=n.lib={},i=function(){},s=r.Base={extend:function(e){i.prototype=this;var t=new i;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=r.WordArray=s.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||a).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes;e=e.sigBytes,this.clamp();if(r%4)for(var i=0;i<e;i++)t[r+i>>>2]|=(n[i>>>2]>>>24-8*(i%4)&255)<<24-8*((r+i)%4);else if(65535<n.length)for(i=0;i<e;i+=4)t[r+i>>>2]=n[i>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-8*(n%4),t.length=e.ceil(n/4)},clone:function(){var e=s.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],r=0;r<t;r+=4)n.push(4294967296*e.random()|0);return new o.init(n,t)}}),u=n.enc={},a=u.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++){var i=t[r>>>2]>>>24-8*(r%4)&255;n.push((i>>>4).toString(16)),n.push((i&15).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-4*(r%8);return new o.init(n,t/2)}},f=u.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++)n.push(String.fromCharCode(t[r>>>2]>>>24-8*(r%4)&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(e.charCodeAt(r)&255)<<24-8*(r%4);return new o.init(n,t)}},l=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(f.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return f.parse(unescape(encodeURIComponent(e)))}},c=r.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,s=this.blockSize,u=i/(4*s),u=t?e.ceil(u):e.max((u|0)-this._minBufferSize,0);t=u*s,i=e.min(4*t,i);if(t){for(var a=0;a<t;a+=s)this._doProcessBlock(r,a);a=r.splice(0,t),n.sigBytes-=i}return new o.init(a,i)},clone:function(){var e=s.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});r.Hasher=c.extend({cfg:s.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return(new e.init(n)).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return(new h.HMAC.init(e,n)).finalize(t)}}});var h=n.algo={};return n}(Math);(function(e){function t(e,t,n,r,i,s,o){return e=e+(t&n|~t&r)+i+o,(e<<s|e>>>32-s)+t}function n(e,t,n,r,i,s,o){return e=e+(t&r|n&~r)+i+o,(e<<s|e>>>32-s)+t}function r(e,t,n,r,i,s,o){return e=e+(t^n^r)+i+o,(e<<s|e>>>32-s)+t}function i(e,t,n,r,i,s,o){return e=e+(n^(t|~r))+i+o,(e<<s|e>>>32-s)+t}for(var s=CryptoJS,o=s.lib,u=o.WordArray,a=o.Hasher,o=s.algo,f=[],l=0;64>l;l++)f[l]=4294967296*e.abs(e.sin(l+1))|0;o=o.MD5=a.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,s){for(var o=0;16>o;o++){var u=s+o,a=e[u];e[u]=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360}var o=this._hash.words,u=e[s+0],a=e[s+1],l=e[s+2],c=e[s+3],h=e[s+4],d=e[s+5],v=e[s+6],g=e[s+7],y=e[s+8],b=e[s+9],w=e[s+10],E=e[s+11],S=e[s+12],x=e[s+13],T=e[s+14],N=e[s+15],C=o[0],k=o[1],L=o[2],A=o[3],C=t(C,k,L,A,u,7,f[0]),A=t(A,C,k,L,a,12,f[1]),L=t(L,A,C,k,l,17,f[2]),k=t(k,L,A,C,c,22,f[3]),C=t(C,k,L,A,h,7,f[4]),A=t(A,C,k,L,d,12,f[5]),L=t(L,A,C,k,v,17,f[6]),k=t(k,L,A,C,g,22,f[7]),C=t(C,k,L,A,y,7,f[8]),A=t(A,C,k,L,b,12,f[9]),L=t(L,A,C,k,w,17,f[10]),k=t(k,L,A,C,E,22,f[11]),C=t(C,k,L,A,S,7,f[12]),A=t(A,C,k,L,x,12,f[13]),L=t(L,A,C,k,T,17,f[14]),k=t(k,L,A,C,N,22,f[15]),C=n(C,k,L,A,a,5,f[16]),A=n(A,C,k,L,v,9,f[17]),L=n(L,A,C,k,E,14,f[18]),k=n(k,L,A,C,u,20,f[19]),C=n(C,k,L,A,d,5,f[20]),A=n(A,C,k,L,w,9,f[21]),L=n(L,A,C,k,N,14,f[22]),k=n(k,L,A,C,h,20,f[23]),C=n(C,k,L,A,b,5,f[24]),A=n(A,C,k,L,T,9,f[25]),L=n(L,A,C,k,c,14,f[26]),k=n(k,L,A,C,y,20,f[27]),C=n(C,k,L,A,x,5,f[28]),A=n(A,C,k,L,l,9,f[29]),L=n(L,A,C,k,g,14,f[30]),k=n(k,L,A,C,S,20,f[31]),C=r(C,k,L,A,d,4,f[32]),A=r(A,C,k,L,y,11,f[33]),L=r(L,A,C,k,E,16,f[34]),k=r(k,L,A,C,T,23,f[35]),C=r(C,k,L,A,a,4,f[36]),A=r(A,C,k,L,h,11,f[37]),L=r(L,A,C,k,g,16,f[38]),k=r(k,L,A,C,w,23,f[39]),C=r(C,k,L,A,x,4,f[40]),A=r(A,C,k,L,u,11,f[41]),L=r(L,A,C,k,c,16,f[42]),k=r(k,L,A,C,v,23,f[43]),C=r(C,k,L,A,b,4,f[44]),A=r(A,C,k,L,S,11,f[45]),L=r(L,A,C,k,N,16,f[46]),k=r(k,L,A,C,l,23,f[47]),C=i(C,k,L,A,u,6,f[48]),A=i(A,C,k,L,g,10,f[49]),L=i(L,A,C,k,T,15,f[50]),k=i(k,L,A,C,d,21,f[51]),C=i(C,k,L,A,S,6,f[52]),A=i(A,C,k,L,c,10,f[53]),L=i(L,A,C,k,w,15,f[54]),k=i(k,L,A,C,a,21,f[55]),C=i(C,k,L,A,y,6,f[56]),A=i(A,C,k,L,N,10,f[57]),L=i(L,A,C,k,v,15,f[58]),k=i(k,L,A,C,x,21,f[59]),C=i(C,k,L,A,h,6,f[60]),A=i(A,C,k,L,E,10,f[61]),L=i(L,A,C,k,l,15,f[62]),k=i(k,L,A,C,b,21,f[63]);o[0]=o[0]+C|0,o[1]=o[1]+k|0,o[2]=o[2]+L|0,o[3]=o[3]+A|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var s=e.floor(r/4294967296);n[(i+64>>>9<<4)+15]=(s<<8|s>>>24)&16711935|(s<<24|s>>>8)&4278255360,n[(i+64>>>9<<4)+14]=(r<<8|r>>>24)&16711935|(r<<24|r>>>8)&4278255360,t.sigBytes=4*(n.length+1),this._process(),t=this._hash,n=t.words;for(r=0;4>r;r++)i=n[r],n[r]=(i<<8|i>>>24)&16711935|(i<<24|i>>>8)&4278255360;return t},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}}),s.MD5=a._createHelper(o),s.HmacMD5=a._createHmacHelper(o)})(Math),define("md5_criptojs",function(){});var accreditation=new Accreditation;define("accreditation_event",function(){}),activity=new Activity,define("activity_event",function(){}),activity_type=new ActivityType,define("activity_type_event",function(){});var evt=new Event;define("event_event",function(){}),frequency=new Frequency,define("frequency_event",function(){});var organization=new Organization;define("organization_event",function(){});var user=new User;define("user_user",function(){}),require(["jquery","mycookie","i18next","i18next_config","bootstrap","application","webshim","summernote","md5_criptojs","accreditation_event","activity_event","activity_type_event","event_event","frequency_event","organization_event","user_user"],function(){}),define("components/build-config",function(){});